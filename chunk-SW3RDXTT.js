import{a as R,b as H,c as ig}from"./chunk-7CGTOI24.js";function X(t){return typeof t=="function"}function Qo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ll=Qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ka(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{eD(o)}catch(s){e=e??[],s instanceof ll?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)eD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ka(n,e)}remove(e){let{_finalizers:n}=this;n&&Ka(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var og=Ue.EMPTY;function dl(t){return t instanceof Ue||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function eD(t){X(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout(t,e,...n){let{delegate:r}=Yo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hl(t){Yo.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function Qa(){}var tD=sg("C",void 0,void 0);function nD(t){return sg("E",void 0,t)}function rD(t){return sg("N",t,void 0)}function sg(t,e,n){return{kind:t,value:e,error:n}}var ji=null;function Jo(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!ji;if(e&&(ji={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ji;if(ji=null,n)throw r}}else t()}function iD(t){hn.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=t)}var Bi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dl(e)&&e.add(this)):this.destination=Ax}static create(e,n,r){return new Zo(e,n,r)}next(e){this.isStopped?cg(rD(e),this):this._next(e)}error(e){this.isStopped?cg(nD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cg(tD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Cx=Function.prototype.bind;function ag(t,e){return Cx.call(t,e)}var ug=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fl(r)}else fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fl(n)}}},Zo=class extends Bi{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ag(e.next,o),error:e.error&&ag(e.error,o),complete:e.complete&&ag(e.complete,o)}):i=e}this.destination=new ug(i)}};function fl(t){hn.useDeprecatedSynchronousErrorHandling?iD(t):hl(t)}function Sx(t){throw t}function cg(t,e){let{onStoppedNotification:n}=hn;n&&Yo.setTimeout(()=>n(t,e))}var Ax={closed:!0,next:Qa,error:Sx,complete:Qa};var Xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ht(t){return t}function lg(...t){return dg(t)}function dg(t){return t.length===0?Ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Nx(n)?n:new Zo(n,r,i);return Jo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=oD(r),new r((i,o)=>{let s=new Zo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xo](){return this}pipe(...n){return dg(n)(this)}toPromise(n){return n=oD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function oD(t){var e;return(e=t??hn.Promise)!==null&&e!==void 0?e:Promise}function Rx(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function Nx(t){return t&&t instanceof Bi||Rx(t)&&dl(t)}var sD=Qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sD}next(n){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?og:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Ka(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new pl(e,n),t})(),pl=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:og}};function hg(t){return X(t?.lift)}function he(t){return e=>{if(hg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new fg(t,e,n,r,i)}var fg=class extends Bi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ft(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}var Vt=new de(t=>t.complete());function cr(t){return t<=0?()=>Vt:he((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function cD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function aD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function uD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(A,O){o.push([y,M,A,O])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){g(o[0][3],M)}}function l(y){y.value instanceof $i?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function lD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aD=="function"?aD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var gl=t=>t&&typeof t.length=="number"&&typeof t!="function";function ml(t){return X(t?.then)}function yl(t){return X(t[Xo])}function vl(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function _l(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Il=Mx();function El(t){return X(t?.[Il])}function wl(t){return uD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $i(n.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{n.releaseLock()}})}function Tl(t){return X(t?.getReader)}function je(t){if(t instanceof de)return t;if(t!=null){if(yl(t))return Px(t);if(gl(t))return kx(t);if(ml(t))return xx(t);if(vl(t))return dD(t);if(El(t))return Ox(t);if(Tl(t))return Lx(t)}throw _l(t)}function Px(t){return new de(e=>{let n=t[Xo]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kx(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function xx(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hl)})}function Ox(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dD(t){return new de(e=>{Fx(t,e).catch(n=>e.error(n))})}function Lx(t){return dD(wl(t))}function Fx(t,e){var n,r,i,o;return cD(this,void 0,void 0,function*(){try{for(n=lD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e){return he((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=o++;je(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Dl(t){return he((e,n)=>{je(t).subscribe(ce(n,()=>n.complete(),Qa)),!n.closed&&e.subscribe(n)})}function es(){return he((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ts=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return es()(this)}};var xe=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function hD(t){return t&&X(t.schedule)}function fD(t){return t[t.length-1]}function bl(t){return X(fD(t))?t.pop():void 0}function Jr(t){return hD(fD(t))?t.pop():void 0}function Ut(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Cl(t,e=0){return he((n,r)=>{n.subscribe(ce(r,i=>Ut(r,t,()=>r.next(i),e),()=>Ut(r,t,()=>r.complete(),e),i=>Ut(r,t,()=>r.error(i),e)))})}function Sl(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pD(t,e){return je(t).pipe(Sl(e),Cl(e))}function gD(t,e){return je(t).pipe(Sl(e),Cl(e))}function mD(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yD(t,e){return new de(n=>{let r;return Ut(n,e,()=>{r=t[Il](),Ut(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Al(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Ut(n,e,()=>{let r=t[Symbol.asyncIterator]();Ut(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vD(t,e){return Al(wl(t),e)}function _D(t,e){if(t!=null){if(yl(t))return pD(t,e);if(gl(t))return mD(t,e);if(ml(t))return gD(t,e);if(vl(t))return Al(t,e);if(El(t))return yD(t,e);if(Tl(t))return vD(t,e)}throw _l(t)}function B(t,e){return e?_D(t,e):je(t)}function z(...t){let e=Jr(t);return B(t,e)}function ns(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function pg(t){return!!t&&(t instanceof de||X(t.lift)&&X(t.subscribe))}var ur=Qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return he((n,r)=>{let i=0;n.subscribe(ce(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Vx}=Array;function Ux(t,e){return Vx(e)?t(...e):t(e)}function Rl(t){return se(e=>Ux(t,e))}var{isArray:jx}=Array,{getPrototypeOf:Bx,prototype:$x,keys:Hx}=Object;function Nl(t){if(t.length===1){let e=t[0];if(jx(e))return{args:e,keys:null};if(qx(e)){let n=Hx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qx(t){return t&&typeof t=="object"&&Bx(t)===$x}function Ml(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ya(...t){let e=Jr(t),n=bl(t),{args:r,keys:i}=Nl(t);if(r.length===0)return B([],e);let o=new de(zx(r,e,i?s=>Ml(i,s):Ht));return n?o.pipe(Rl(n)):o}function zx(t,e,n=Ht){return r=>{ID(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)ID(e,()=>{let l=B(t[u],e),h=!1;l.subscribe(ce(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ID(t,e,n){t?Ut(n,t,e):e()}function ED(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let A=!1;je(n(M,h++)).subscribe(ce(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let O=u.shift();s?Ut(e,s,()=>b(O)):b(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(ce(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Oe(t,e,n=1/0){return X(e)?Oe((r,i)=>se((o,s)=>e(r,o,i,s))(je(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>ED(r,i,t,n)))}function rs(t=1/0){return Oe(Ht,t)}function wD(){return rs(1)}function is(...t){return wD()(B(t,Jr(t)))}function Ja(t){return new de(e=>{je(t()).subscribe(e)})}function Gx(...t){let e=bl(t),{args:n,keys:r}=Nl(t),i=new de(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;je(n[h]).subscribe(ce(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ml(r,a):a),o.complete())}))}});return e?i.pipe(Rl(e)):i}function lr(t){return he((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ce(n,void 0,void 0,s=>{o=je(t(s,lr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function TD(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ce(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Zr(t,e){return X(e)?Oe(t,e,1):Oe(t,1)}function Xr(t){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Pl(t=Wx){return he((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Wx(){return new ur}function Za(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):Ht,cr(1),n?Xr(e):Pl(()=>new ur))}function os(t){return t<=0?()=>Vt:he((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):Ht,os(1),n?Xr(e):Pl(()=>new ur))}function mg(t,e){return he(TD(t,e,arguments.length>=2,!0))}function yg(...t){let e=Jr(t);return he((n,r)=>{(e?is(t,n,e):is(t,n)).subscribe(r)})}function st(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ht}var vg;function kl(){return vg}function Fn(t){let e=vg;return vg=t,e}var DD=Symbol("NotFound");function ss(t){return t===DD||t?.name==="\u0275NotFound"}var gt=null,xl=!1,_g=1,Kx=null,at=Symbol("SIGNAL");function ee(t){let e=gt;return gt=t,e}function Vl(){return gt}var Hi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function as(t){if(xl)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(t);let e=gt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=gt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:gt.producers,n!==void 0&&n.producer===t)){gt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===gt&&(!r||Yx(i,gt)))return;let o=ls(gt),s={producer:t,consumer:gt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};gt.producersTail=s,e!==void 0?e.nextProducer=s:gt.producers=s,o&&AD(t,s)}function bD(){_g++}function Ul(t){if(!(ls(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_g)){if(!t.producerMustRecompute(t)&&!us(t)){Fl(t);return}t.producerRecomputeValue(t),Fl(t)}}function Ig(t){if(t.consumers===void 0)return;let e=xl;xl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Qx(r)}}finally{xl=e}}function Eg(){return gt?.consumerAllowSignalWrites!==!1}function Qx(t){t.dirty=!0,Ig(t),t.consumerMarkedDirty?.(t)}function Fl(t){t.dirty=!1,t.lastCleanEpoch=_g}function qi(t){return t&&CD(t),ee(t)}function CD(t){t.producersTail=void 0,t.recomputing=!0}function cs(t,e){ee(e),t&&SD(t)}function SD(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ls(t))do n=wg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function us(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Ul(n),r!==n.version))return!0}return!1}function zi(t){if(ls(t)){let e=t.producers;for(;e!==void 0;)e=wg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function AD(t,e){let n=t.consumersTail,r=ls(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)AD(i.producer,i)}function wg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ls(e)){let o=e.producers;for(;o!==void 0;)o=wg(o)}return n}function ls(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function jl(t){Kx?.(t)}function Yx(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Bl(t,e){return Object.is(t,e)}function ec(t,e){let n=Object.create(Jx);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Ul(n),as(n),n.value===Xa)throw n.error;return n.value};return r[at]=n,jl(n),r}var Ol=Symbol("UNSET"),Ll=Symbol("COMPUTING"),Xa=Symbol("ERRORED"),Jx=H(R({},Hi),{value:Ol,dirty:!0,error:null,equal:Bl,kind:"computed",producerMustRecompute(t){return t.value===Ol||t.value===Ll},producerRecomputeValue(t){if(t.value===Ll)throw new Error("");let e=t.value;t.value=Ll;let n=qi(t),r,i=!1;try{r=t.computation(),ee(null),i=e!==Ol&&e!==Xa&&r!==Xa&&t.equal(e,r)}catch(o){r=Xa,t.error=o}finally{cs(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Zx(){throw new Error}var RD=Zx;function ND(t){RD(t)}function Tg(t){RD=t}var Xx=null;function Dg(t,e){let n=Object.create($l);n.value=t,e!==void 0&&(n.equal=e);let r=()=>MD(n);return r[at]=n,jl(n),[r,s=>ds(n,s),s=>bg(n,s)]}function MD(t){return as(t),t.value}function ds(t,e){Eg()||ND(t),t.equal(t.value,e)||(t.value=e,eO(t))}function bg(t,e){Eg()||ND(t),ds(t,e(t.value))}var $l=H(R({},Hi),{equal:Bl,value:void 0,kind:"signal"});function eO(t){t.version++,bD(),Ig(t),Xx?.(t)}function PD(t){let e=ee(null);try{return t()}finally{ee(e)}}var kD=H(R({},Hi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function xD(t){if(t.dirty=!1,t.version>0&&!us(t))return;t.version++;let e=qi(t);try{t.cleanup(),t.fn()}finally{cs(t,e)}}var Gl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,n){super(pr(e,n)),this.code=e}};function tO(t){return`NG0${Math.abs(t)}`}function pr(t,e){return`${tO(t)}${e?": "+e:""}`}var gr=globalThis;function me(t){for(let e in t)if(t[e]===me)return e;throw Error("")}function FD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function fr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(fr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Wl(t,e){return t?e?`${t} ${e}`:t:e||""}var nO=me({__forward_ref__:me});function Kl(t){return t.__forward_ref__=Kl,t.toString=function(){return fr(this())},t}function Xe(t){return Lg(t)?t():t}function Lg(t){return typeof t=="function"&&t.hasOwnProperty(nO)&&t.__forward_ref__===Kl}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ni(t){return{providers:t.providers||[],imports:t.imports||[]}}function oc(t){return rO(t,Ql)}function Fg(t){return oc(t)!==null}function rO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function iO(t){let e=t?.[Ql]??null;return e||null}function Sg(t){return t&&t.hasOwnProperty(ql)?t[ql]:null}var Ql=me({\u0275prov:me}),ql=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vg(t){return t&&!!t.\u0275providers}var Ug=me({\u0275cmp:me}),jg=me({\u0275dir:me}),Bg=me({\u0275pipe:me}),$g=me({\u0275mod:me}),nc=me({\u0275fac:me}),Yi=me({__NG_ELEMENT_ID__:me}),OD=me({__NG_ENV_ID__:me});function Ji(t){return typeof t=="string"?t:t==null?"":String(t)}function VD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ji(t)}var UD=me({ngErrorCode:me}),oO=me({ngErrorMessage:me}),sO=me({ngTokenPath:me});function Hg(t,e){return jD("",-200,e)}function Yl(t,e){throw new F(-201,!1)}function jD(t,e,n){let r=new F(e,t);return r[UD]=e,r[oO]=t,n&&(r[sO]=n),r}function aO(t){return t[UD]}var Ag;function BD(){return Ag}function At(t){let e=Ag;return Ag=t,e}function qg(t,e,n){let r=oc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Yl(t,"Injector")}var cO={},Gi=cO,uO="__NG_DI_FLAG__",Rg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Wi(n)||0;try{return this.injector.get(e,r&8?null:Gi,r)}catch(i){if(ss(i))return i;throw i}}};function lO(t,e=0){let n=kl();if(n===void 0)throw new F(-203,!1);if(n===null)return qg(t,void 0,e);{let r=dO(e),i=n.retrieve(t,r);if(ss(i)){if(r.optional)return null;throw i}return i}}function Q(t,e=0){return(BD()||lO)(Xe(t),e)}function P(t,e){return Q(t,Wi(e))}function Wi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Ng(t){let e=[];for(let n=0;n<t.length;n++){let r=Xe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=hO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function hO(t){return t[uO]}function ei(t,e){let n=t.hasOwnProperty(nc);return n?t[nc]:null}function $D(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function HD(t){return t.flat(Number.POSITIVE_INFINITY)}function Jl(t,e){t.forEach(n=>Array.isArray(n)?Jl(n,e):e(n))}function zg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qD(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function zD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ac(t,e,n){let r=fs(t,e);return r>=0?t[r|1]=n:(r=~r,zD(t,r,e,n)),r}function Zl(t,e){let n=fs(t,e);if(n>=0)return t[n|1]}function fs(t,e){return fO(t,e,1)}function fO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var pn={},mt=[],mr=new j(""),Gg=new j("",-1),Wg=new j(""),rc=class{get(e,n=Gi){if(n===Gi){let i=jD("",-201);throw i.name="\u0275NotFound",i}return n}};function Kg(t){return t[$g]||null}function yr(t){return t[Ug]||null}function Xl(t){return t[jg]||null}function GD(t){return t[Bg]||null}function ri(t){return{\u0275providers:t}}function WD(t){return ri([{provide:mr,multi:!0,useValue:t}])}function KD(...t){return{\u0275providers:Qg(!0,t),\u0275fromNgModule:!0}}function Qg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Jl(e,s=>{let a=s;zl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&QD(i,o),n}function QD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Yg(i,o=>{e(o,r)})}}function zl(t,e,n,r){if(t=Xe(t),!t)return!1;let i=null,o=Sg(t),s=!o&&yr(t);if(!o&&!s){let u=t.ngModule;if(o=Sg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)zl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Jl(o.imports,h=>{zl(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&QD(l,e)}if(!a){let l=ei(i)||(()=>new i);e({provide:i,useFactory:l,deps:mt},i),e({provide:Wg,useValue:i,multi:!0},i),e({provide:mr,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Yg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Yg(t,e){for(let n of t)Vg(n)&&(n=n.\u0275providers),Array.isArray(n)?Yg(n,e):e(n)}var pO=me({provide:String,useValue:me});function YD(t){return t!==null&&typeof t=="object"&&pO in t}function gO(t){return!!(t&&t.useExisting)}function mO(t){return!!(t&&t.useFactory)}function Ki(t){return typeof t=="function"}function JD(t){return!!t.useClass}var cc=new j(""),Hl={},LD={},Cg;function uc(){return Cg===void 0&&(Cg=new rc),Cg}var et=class{},Qi=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Pg(e,s=>this.processProvider(s)),this.records.set(Gg,hs(void 0,this)),i.has("environment")&&this.records.set(et,hs(void 0,this));let o=this.records.get(cc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wg,mt,{self:!0}))}retrieve(e,n){let r=Wi(n)||0;try{return this.get(e,Gi,r)}catch(i){if(ss(i))return i;throw i}}destroy(){tc(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return tc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){tc(this);let n=Fn(this),r=At(void 0),i;try{return e()}finally{Fn(n),At(r)}}get(e,n=Gi,r){if(tc(this),e.hasOwnProperty(OD))return e[OD](this);let i=Wi(r),o,s=Fn(this),a=At(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=EO(e)&&oc(e);h&&this.injectableDefInScope(h)?l=hs(Mg(e),Hl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?uc():this.parent;return n=i&8&&n===Gi?null:n,u.get(e,n)}catch(u){let l=aO(u);throw l===-200||l===-201?new F(l,null):u}finally{At(a),Fn(s)}}resolveInjectorInitializers(){let e=ee(null),n=Fn(this),r=At(void 0),i;try{let o=this.get(mr,mt,{self:!0});for(let s of o)s()}finally{Fn(n),At(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(fr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xe(e);let n=Ki(e)?e:Xe(e&&e.provide),r=vO(e);if(!Ki(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hs(void 0,Hl,!0),i.factory=()=>Ng(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ee(null);try{if(n.value===LD)throw Hg(fr(e));return n.value===Hl&&(n.value=LD,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&IO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Mg(t){let e=oc(t),n=e!==null?e.factory:ei(t);if(n!==null)return n;if(t instanceof j)throw new F(204,!1);if(t instanceof Function)return yO(t);throw new F(204,!1)}function yO(t){if(t.length>0)throw new F(204,!1);let n=iO(t);return n!==null?()=>n.factory(t):()=>new t}function vO(t){if(YD(t))return hs(void 0,t.useValue);{let e=Jg(t);return hs(e,Hl)}}function Jg(t,e,n){let r;if(Ki(t)){let i=Xe(t);return ei(i)||Mg(i)}else if(YD(t))r=()=>Xe(t.useValue);else if(mO(t))r=()=>t.useFactory(...Ng(t.deps||[]));else if(gO(t))r=(i,o)=>Q(Xe(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Xe(t&&(t.useClass||t.provide));if(_O(t))r=()=>new i(...Ng(t.deps));else return ei(i)||Mg(i)}return r}function tc(t){if(t.destroyed)throw new F(205,!1)}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _O(t){return!!t.deps}function IO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function EO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Pg(t,e){for(let n of t)Array.isArray(n)?Pg(n,e):n&&Vg(n)?Pg(n.\u0275providers,e):e(n)}function yt(t,e){let n;t instanceof Qi?(tc(t),n=t):n=new Rg(t);let r,i=Fn(n),o=At(void 0);try{return e()}finally{Fn(i),At(o)}}function ZD(){return BD()!==void 0||kl()!=null}var gn=0,G=1,W=2,ct=3,tn=4,Nt=5,ps=6,gs=7,vt=8,ii=9,Vn=10,be=11,ms=12,Zg=13,Zi=14,jt=15,oi=16,Xi=17,Un=18,lc=19,Xg=20,hr=21,ed=22,vr=23,qt=24,eo=25,dc=26,Pe=27,XD=1;var si=7,hc=8,to=9,Mt=10;function jn(t){return Array.isArray(t)&&typeof t[XD]=="object"}function mn(t){return Array.isArray(t)&&t[XD]===!0}function em(t){return(t.flags&4)!==0}function ai(t){return t.componentOffset>-1}function ys(t){return(t.flags&1)===1}function yn(t){return!!t.template}function vs(t){return(t[W]&512)!==0}function no(t){return(t[W]&256)===256}var tm="svg",eb="math";function nn(t){for(;Array.isArray(t);)t=t[gn];return t}function nm(t,e){return nn(e[t])}function vn(t,e){return nn(e[t.index])}function td(t,e){return t.data[e]}function nd(t,e){return t[e]}function rm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function rn(t,e){let n=e[t];return jn(n)?n:n[gn]}function tb(t){return(t[W]&4)===4}function rd(t){return(t[W]&128)===128}function nb(t){return mn(t[ct])}function ci(t,e){return e==null?null:t[e]}function im(t){t[Xi]=0}function om(t){t[W]&1024||(t[W]|=1024,rd(t)&&ui(t))}function rb(t,e){for(;t>0;)e=e[Zi],t--;return e}function fc(t){return!!(t[W]&9216||t[qt]?.dirty)}function id(t){t[Vn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),fc(t)&&ui(t)}function ui(t){t[Vn].changeDetectionScheduler?.notify(0);let e=ti(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!rd(e)));)e=ti(e)}function sm(t,e){if(no(t))throw new F(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function ib(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function ti(t){let e=t[ct];return mn(e)?e[ct]:e}function am(t){return t[gs]??=[]}function cm(t){return t.cleanup??=[]}function ob(t,e,n,r){let i=am(e);i.push(n),t.firstCreatePass&&cm(t).push(r,i.length-1)}var ie={lFrame:vb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kg=!1;function sb(){return ie.lFrame.elementDepthCount}function ab(){ie.lFrame.elementDepthCount++}function um(){ie.lFrame.elementDepthCount--}function od(){return ie.bindingsEnabled}function lm(){return ie.skipHydrationRootTNode!==null}function dm(t){return ie.skipHydrationRootTNode===t}function hm(){ie.skipHydrationRootTNode=null}function Y(){return ie.lFrame.lView}function Be(){return ie.lFrame.tView}function cb(t){return ie.lFrame.contextLView=t,t[vt]}function ub(t){return ie.lFrame.contextLView=null,t}function tt(){let t=fm();for(;t!==null&&t.type===64;)t=t.parent;return t}function fm(){return ie.lFrame.currentTNode}function lb(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _s(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function pm(){return ie.lFrame.isParent}function gm(){ie.lFrame.isParent=!1}function mm(){return kg}function Is(t){let e=kg;return kg=t,e}function pc(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function db(){return ie.lFrame.bindingIndex}function hb(t){return ie.lFrame.bindingIndex=t}function Es(){return ie.lFrame.bindingIndex++}function sd(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fb(){return ie.lFrame.inI18n}function pb(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,ad(e)}function gb(){return ie.lFrame.currentDirectiveIndex}function ad(t){ie.lFrame.currentDirectiveIndex=t}function mb(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cd(){return ie.lFrame.currentQueryIndex}function gc(t){ie.lFrame.currentQueryIndex=t}function wO(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[Nt]:null}function ym(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=wO(o),i===null||(o=o[Zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=yb();return r.currentTNode=e,r.lView=t,!0}function ud(t){let e=yb(),n=t[G];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function yb(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?vb(t):e}function vb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function _b(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vm=_b;function ld(){let t=_b();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ib(t){return(ie.lFrame.contextLView=rb(t,ie.lFrame.contextLView))[vt]}function _r(){return ie.lFrame.selectedIndex}function li(t){ie.lFrame.selectedIndex=t}function mc(){let t=ie.lFrame;return td(t.tView,t.selectedIndex)}function Eb(){ie.lFrame.currentNamespace=tm}function wb(){return ie.lFrame.currentNamespace}var Tb=!0;function dd(){return Tb}function yc(t){Tb=t}function xg(t,e=null,n=null,r){let i=_m(t,e,n,r);return i.resolveInjectorInitializers(),i}function _m(t,e=null,n=null,r,i=new Set){let o=[n||mt,KD(t)];return r=r||(typeof t=="object"?void 0:fr(t)),new Qi(o,e||uc(),r||null,i)}var Rt=class t{static THROW_IF_NOT_FOUND=Gi;static NULL=new rc;static create(e,n){if(Array.isArray(e))return xg({name:""},n,e,"");{let r=e.name??"";return xg({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:t,providedIn:"any",factory:()=>Q(Gg)});static __NG_ELEMENT_ID__=-1},Le=new j(""),_n=(()=>{class t{static __NG_ELEMENT_ID__=TO;static __NG_ENV_ID__=n=>n}return t})(),ic=class extends _n{_lView;constructor(e){super(),this._lView=e}get destroyed(){return no(this._lView)}onDestroy(e){let n=this._lView;return sm(n,e),()=>ib(n,e)}};function TO(){return new ic(Y())}var en=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Pt=new j("",{providedIn:"root",factory:()=>{let t=P(et),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(en),e.handleError(n))}}}),Db={provide:mr,useValue:()=>void P(en),multi:!0},DO=new j("",{providedIn:"root",factory:()=>{let t=P(Le).defaultView;if(!t)return;let e=P(Pt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(_n).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function bO(){return ri([WD(()=>void P(DO))])}function Im(t){return typeof t=="function"&&t[at]!==void 0}function di(t,e){let[n,r,i]=Dg(t,e?.equal),o=n,s=o[at];return o.set=r,o.update=i,o.asReadonly=Em.bind(o),o}function Em(){let t=this[at];if(t.readonlyFn===void 0){let e=()=>this();e[at]=t,t.readonlyFn=e}return t.readonlyFn}function wm(t){return Im(t)&&typeof t.set=="function"}var ws=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=CO}return t})();function CO(){return new ws(Y(),tt())}var fn=class{},vc=new j("",{providedIn:"root",factory:()=>!1});var Tm=new j(""),hd=new j(""),Ir=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new de(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function ro(...t){}var _c=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new Og})}return t})(),Og=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Sc(t){return{toString:t}.toString()}function kO(t){return typeof t=="function"}var Id=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function iC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var lo=(()=>{let t=()=>oC;return t.ngInherit=!0,t})();function oC(t){return t.type.prototype.ngOnChanges&&(t.setInput=OO),xO}function xO(){let t=aC(this),e=t?.current;if(e){let n=t.previous;if(n===pn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OO(t,e,n,r,i){let o=this.declaredInputs[r],s=aC(t)||LO(t,{previous:pn,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Id(l&&l.currentValue,n,u===pn),iC(t,e,i,n)}var sC="__ngSimpleChanges__";function aC(t){return t[sC]||null}function LO(t,e){return t[sC]=e}var bb=[];var ve=function(t,e=null,n){for(let r=0;r<bb.length;r++){let i=bb[r];i(t,e,n)}};function FO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=oC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function cC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function md(t,e,n){uC(t,e,3,n)}function yd(t,e,n,r){(t[W]&3)===n&&uC(t,e,n,r)}function Dm(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function uC(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Xi]+=65536),(a<o||o==-1)&&(VO(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function Cb(t,e){ve(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),ve(5,t,e)}}function VO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[W]>>14<t[Xi]>>16&&(t[W]&3)===e&&(t[W]+=16384,Cb(a,o)):Cb(a,o)}var Ds=-1,oo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function UO(t){return(t.flags&8)!==0}function jO(t){return(t.flags&16)!==0}function BO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];$O(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function lC(t){return t===3||t===4||t===6}function $O(t){return t.charCodeAt(0)===64}function bs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sb(t,n,i,null,e[++r]):Sb(t,n,i,null,null))}}return t}function Sb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function dC(t){return t!==Ds}function Ed(t){return t&32767}function HO(t){return t>>16}function wd(t,e){let n=HO(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var Om=!0;function Td(t){let e=Om;return Om=t,e}var qO=256,hC=qO-1,fC=5,zO=0,Bn={};function GO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yi)&&(r=n[Yi]),r==null&&(r=n[Yi]=zO++);let i=r&hC,o=1<<i;e.data[t+(i>>fC)]|=o}function Dd(t,e){let n=pC(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,bm(r.data,t),bm(e,null),bm(r.blueprint,null));let i=ly(t,e),o=t.injectorIndex;if(dC(i)){let s=Ed(i),a=wd(i,e),u=a[G].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function bm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ly(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_C(i),r===null)return Ds;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ds}function Lm(t,e,n){GO(t,e,n)}function WO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(lC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function gC(t,e,n){if(n&8||t!==void 0)return t;Yl(e,"NodeInjector")}function mC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ii],o=At(void 0);try{return i?i.get(e,r,n&8):qg(e,r,n&8)}finally{At(o)}}return gC(r,e,n)}function yC(t,e,n,r=0,i){if(t!==null){if(e[W]&2048&&!(r&2)){let s=JO(t,e,n,r,Bn);if(s!==Bn)return s}let o=vC(t,e,n,r,Bn);if(o!==Bn)return o}return mC(e,n,r,i)}function vC(t,e,n,r,i){let o=QO(n);if(typeof o=="function"){if(!ym(e,t,r))return r&1?gC(i,n,r):mC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Yl(n);else return s}finally{vm()}}else if(typeof o=="number"){let s=null,a=pC(t,e),u=Ds,l=r&1?e[jt][Nt]:null;for((a===-1||r&4)&&(u=a===-1?ly(t,e):e[a+8],u===Ds||!Rb(r,!1)?a=-1:(s=e[G],a=Ed(u),e=wd(u,e)));a!==-1;){let h=e[G];if(Ab(o,a,h.data)){let p=KO(a,e,n,s,r,l);if(p!==Bn)return p}u=e[a+8],u!==Ds&&Rb(r,e[G].data[a+8]===l)&&Ab(o,a,e)?(s=h,a=Ed(u),e=wd(u,e)):a=-1}}return i}function KO(t,e,n,r,i,o){let s=e[G],a=s.data[t+8],u=r==null?ai(a)&&Om:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=vd(a,s,n,u,l);return h!==null?wc(e,s,h,a,i):Bn}function vd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&yn(y)&&y.type===n)return u}return null}function wc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof oo){let a=o;if(a.resolving){let y=VD(s[n]);throw Hg(y)}let u=Td(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?At(a.injectImpl):null,g=ym(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&FO(n,s[n],e)}finally{p!==null&&At(p),Td(u),a.resolving=!1,vm()}}return o}function QO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Yi)?t[Yi]:void 0;return typeof e=="number"?e>=0?e&hC:YO:e}function Ab(t,e,n){let r=1<<t;return!!(n[e+(t>>fC)]&r)}function Rb(t,e){return!(t&2)&&!(t&1&&e)}var io=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yC(this._tNode,this._lView,e,Wi(r),n)}};function YO(){return new io(tt(),Y())}function Fd(t){return Sc(()=>{let e=t.prototype.constructor,n=e[nc]||Fm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[nc]||Fm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fm(t){return Lg(t)?()=>{let e=Fm(Xe(t));return e&&e()}:ei(t)}function JO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!vs(s);){let a=vC(o,s,n,r|2,Bn);if(a!==Bn)return a;let u=o.parent;if(!u){let l=s[Xg];if(l){let h=l.get(n,Bn,r);if(h!==Bn)return h}u=_C(s),s=s[Zi]}o=u}return i}function _C(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[Nt]:null}function Ac(t){return WO(tt(),t)}function ZO(){return Ns(tt(),Y())}function Ns(t,e){return new Tn(vn(t,e))}var Tn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ZO}return t})();function IC(t){return t instanceof Tn?t.nativeElement:t}function XO(){return this._results[Symbol.iterator]()}var bd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ze}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=HD(e);(this._changesDetected=!$D(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=XO};function EC(t){return(t.flags&128)===128}var dy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(dy||{}),wC=new Map,e1=0;function t1(){return e1++}function n1(t){wC.set(t[lc],t)}function Vm(t){wC.delete(t[lc])}var Nb="__ngContext__";function Cs(t,e){jn(e)?(t[Nb]=e[lc],n1(e)):t[Nb]=e}function TC(t){return bC(t[ms])}function DC(t){return bC(t[tn])}function bC(t){for(;t!==null&&!mn(t);)t=t[tn];return t}var Um;function hy(t){Um=t}function CC(){if(Um!==void 0)return Um;if(typeof document<"u")return document;throw new F(210,!1)}var Vd=new j("",{providedIn:"root",factory:()=>r1}),r1="ng",Ud=new j(""),Rc=new j("",{providedIn:"platform",factory:()=>"unknown"});var jd=new j("",{providedIn:"root",factory:()=>CC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var i1="h",o1="b";var SC=!1,AC=new j("",{providedIn:"root",factory:()=>SC});var fy=new j("");var s1=(t,e,n,r)=>{};function a1(t,e,n,r){s1(t,e,n,r)}function Bd(t){return(t.flags&32)===32}var c1=()=>null;function RC(t,e,n=!1){return c1(t,e,n)}function NC(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gc(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function jm(t,e,n){gc(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function py(t,e,n){if(em(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ee(r)}}}var Er=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Er||{});var fd;function u1(){if(fd===void 0&&(fd=null,gr.trustedTypes))try{fd=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function Mb(t){return u1()?.createScriptURL(t)||t}var Cd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gl})`}};function ho(t){return t instanceof Cd?t.changingThisBreaksApplicationSecurity:t}function gy(t,e){let n=MC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gl})`)}return n===e}function MC(t){return t instanceof Cd&&t.getTypeName()||null}var l1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PC(t){return t=String(t),t.match(l1)?t:"unsafe:"+t}var $d=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})($d||{});function kC(t){let e=OC();return e?e.sanitize($d.URL,t)||"":gy(t,"URL")?ho(t):PC(Ji(t))}function xC(t){let e=OC();if(e)return Mb(e.sanitize($d.RESOURCE_URL,t)||"");if(gy(t,"ResourceURL"))return Mb(ho(t));throw new F(904,!1)}function d1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?xC:kC}function my(t,e,n){return d1(e,n)(t)}function OC(){let t=Y();return t&&t[Vn].sanitizer}var h1=/^>|^->|<!--|-->|--!>|<!-$/g,f1=/(<|>)/g,p1="\u200B$1\u200B";function g1(t){return t.replace(h1,e=>e.replace(f1,p1))}function LC(t){return t instanceof Function?t():t}function m1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var FC="ng-template";function y1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&m1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function yy(t){return t.type===4&&t.value!==FC}function v1(t,e,n){let r=t.type===4&&!n?FC:t.value;return e===r}function _1(t,e,n){let r=4,i=t.attrs,o=i!==null?w1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!In(r)&&!In(u))return!1;if(s&&In(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!v1(t,u,n)||u===""&&e.length===1){if(In(r))return!1;s=!0}}else if(r&8){if(i===null||!y1(t,i,u,n)){if(In(r))return!1;s=!0}}else{let l=e[++a],h=I1(u,i,yy(t),n);if(h===-1){if(In(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(In(r))return!1;s=!0}}}}return In(r)||s}function In(t){return(t&1)===0}function I1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return T1(e,t)}function VC(t,e,n=!1){for(let r=0;r<e.length;r++)if(_1(t,e[r],n))return!0;return!1}function E1(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function w1(t){for(let e=0;e<t.length;e++){let n=t[e];if(lC(n))return e}return t.length}function T1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function D1(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Pb(t,e){return t?":not("+e.trim()+")":e}function b1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!In(s)&&(e+=Pb(o,i),i=""),r=s,o=o||!In(r);n++}return i!==""&&(e+=Pb(o,i)),e}function C1(t){return t.map(b1).join(",")}function S1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!In(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var zt={};function A1(t,e){return t.createText(e)}function R1(t,e,n){t.setValue(e,n)}function N1(t,e){return t.createComment(g1(e))}function UC(t,e,n){return t.createElement(e,n)}function Sd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jC(t,e,n){t.appendChild(e,n)}function kb(t,e,n,r,i){r!==null?Sd(t,e,n,r,i):jC(t,e,n)}function M1(t,e,n,r){t.removeChild(null,e,n,r)}function P1(t,e,n){t.setAttribute(e,"style",n)}function k1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&BO(t,e,r),i!==null&&k1(t,e,i),o!==null&&P1(t,e,o)}function vy(t,e,n,r,i,o,s,a,u,l,h){let p=Pe+r,g=p+i,y=x1(p,g),b=typeof l=="function"?l():l;return y[G]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function x1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:zt);return n}function O1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _y(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[gn]=i,p[W]=r|4|128|8|64|1024,(l!==null||t&&t[W]&2048)&&(p[W]|=2048),im(p),p[ct]=p[Zi]=t,p[vt]=n,p[Vn]=s||t&&t[Vn],p[be]=a||t&&t[be],p[ii]=u||t&&t[ii]||null,p[Nt]=o,p[lc]=t1(),p[ps]=h,p[Xg]=l,p[jt]=e.type==2?t[jt]:p,p}function L1(t,e,n){let r=vn(e,t),i=O1(n),o=t[Vn].rendererFactory,s=Iy(t,_y(t,i,null,$C(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function $C(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function HC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Iy(t,e){return t[ms]?t[Zg][tn]=e:t[ms]=e,t[Zg]=e,e}function F1(t=1){qC(Be(),Y(),_r()+t,!1)}function qC(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&md(e,o,n)}else{let o=t.preOrderHooks;o!==null&&yd(e,o,0,n)}li(n)}var Hd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Hd||{});function Bm(t,e,n,r){let i=ee(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Hd.SignalBased)!==0&&(u=e[o][at]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):iC(e,u,o,r)}finally{ee(i)}}var En=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(En||{}),V1;function Ey(t,e){return V1(t,e)}var Ss=new Set,qd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(qd||{}),fo=new j(""),xb=new Set;function po(t){xb.has(t)||(xb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var zC=!1,$m=class extends Ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ZD()&&(this.destroyRef=P(_n,{optional:!0})??void 0,this.pendingTasks=P(Ir,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},kt=$m;function GC(t){let e,n;function r(){t=ro;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Ob(t){return queueMicrotask(()=>t()),()=>{t=ro}}var wy="isAngularZone",Ad=wy+"_ID",U1=0,Fe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new kt(!1);onMicrotaskEmpty=new kt(!1);onStable=new kt(!1);onError=new kt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zC}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,$1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,j1,ro,ro);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},j1={};function Ty(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){GC(()=>{t.callbackScheduled=!1,Hm(t),t.isCheckStableRunning=!0,Ty(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Hm(t)}function $1(t){let e=()=>{B1(t)},n=U1++;t._inner=t._inner.fork({name:"angular",properties:{[wy]:!0,[Ad]:n,[Ad+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(H1(u))return r.invokeTask(o,s,a,u);try{return Lb(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Fb(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Lb(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!q1(u)&&e(),Fb(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Hm(t),Ty(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Hm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Lb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fb(t){t._nesting--,Ty(t)}var Tc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new kt;onMicrotaskEmpty=new kt;onStable=new kt;onError=new kt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function H1(t){return WC(t,"__ignore_ng_zone__")}function q1(t){return WC(t,"__scheduler_tick__")}function WC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Dy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),KC=[0,1,2,3],QC=(()=>{class t{ngZone=P(Fe);scheduler=P(fn);errorHandler=P(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(fo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ve(16),this.executing=!0;for(let r of KC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ve(17)}register(n){let{view:r}=n;r!==void 0?((r[eo]??=[]).push(n),ui(r),r[W]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(qd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[eo];e&&(this.view[eo]=e.filter(n=>n!==this))}};function by(t,e){let n=e?.injector??P(Rt);return po("NgAfterNextRender"),G1(t,n,e,!0)}function z1(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function G1(t,e,n,r){let i=e.get(Dy);i.impl??=e.get(QC);let o=e.get(fo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(_n):null,a=e.get(ws,null,{optional:!0}),u=new Rd(i.impl,z1(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var W1=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function YC(t,e,n){let r=t.get(W1);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function K1(t,e){for(let[n,r]of e)YC(t,r.animateFns)}function Vb(t,e,n,r){let i=t?.[dc]?.enter;e!==null&&i&&i.has(n.index)&&K1(r,i)}function Ts(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;mn(i)?u=i:jn(i)&&(l=!0,i=i[gn]);let h=nn(i);t===0&&r!==null?(Vb(a,r,o,n),s==null?jC(e,r,h):Sd(e,r,h,s||null,!0)):t===1&&r!==null?(Vb(a,r,o,n),Sd(e,r,h,s||null,!0)):t===2?Ub(a,o,n,p=>{M1(e,h,l,p)}):t===3&&Ub(a,o,n,()=>{e.destroyNode(h)}),u!=null&&oL(e,t,n,u,o,r,s)}}function Q1(t,e){JC(t,e),e[gn]=null,e[Nt]=null}function Y1(t,e,n,r,i,o){r[gn]=i,r[Nt]=e,zd(t,r,n,1,i,o)}function JC(t,e){e[Vn].changeDetectionScheduler?.notify(9),zd(t,e,e[be],2,null,null)}function J1(t){let e=t[ms];if(!e)return Cm(t[G],t);for(;e;){let n=null;if(jn(e))n=e[ms];else{let r=e[Mt];r&&(n=r)}if(!n){for(;e&&!e[tn]&&e!==t;)jn(e)&&Cm(e[G],e),e=e[ct];e===null&&(e=t),jn(e)&&Cm(e[G],e),n=e&&e[tn]}e=n}}function Cy(t,e){let n=t[to],r=n.indexOf(e);n.splice(r,1)}function ZC(t,e){if(no(e))return;let n=e[be];n.destroyNode&&zd(t,e,n,3,null,null),J1(e)}function Cm(t,e){if(no(e))return;let n=ee(null);try{e[W]&=-129,e[W]|=256,e[qt]&&zi(e[qt]),eL(t,e),X1(t,e),e[G].type===1&&e[be].destroy();let r=e[oi];if(r!==null&&mn(e[ct])){r!==e[ct]&&Cy(r,e);let i=e[Un];i!==null&&i.detachView(t)}Vm(e)}finally{ee(n)}}function Ub(t,e,n,r){let i=t?.[dc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Ss.add(t),YC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Z1(t,r)}else t&&Ss.delete(t),r(!1)},i)}function Z1(t,e){let n=t[dc]?.running;if(n){n.then(()=>{t[dc].running=void 0,Ss.delete(t),e(!0)});return}e(!1)}function X1(t,e){let n=t.cleanup,r=e[gs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[gs]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[vr];if(o!==null){e[vr]=null;for(let s of o)s.destroy()}}function eL(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof oo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ve(4,a,u);try{u.call(a)}finally{ve(5,a,u)}}else{ve(4,i,o);try{o.call(i)}finally{ve(5,i,o)}}}}}function XC(t,e,n){return tL(t,e.parent,n)}function tL(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[gn];if(ai(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Er.None||i===Er.Emulated)return null}return vn(r,n)}function eS(t,e,n){return rL(t,e,n)}function nL(t,e,n){return t.type&40?vn(t,n):null}var rL=nL,jb;function Sy(t,e,n,r){let i=XC(t,r,e),o=e[be],s=r.parent||e[Nt],a=eS(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)kb(o,i,n[u],a,!1);else kb(o,i,n,a,!1);jb!==void 0&&jb(o,r,e,n,i)}function Ic(t,e){if(e!==null){let n=e.type;if(n&3)return vn(e,t);if(n&4)return qm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ic(t,r);{let i=t[e.index];return mn(i)?qm(-1,i):nn(i)}}else{if(n&128)return Ic(t,e.next);if(n&32)return Ey(e,t)()||nn(t[e.index]);{let r=tS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ti(t[jt]);return Ic(i,r)}else return Ic(t,e.next)}}}return null}function tS(t,e){if(e!==null){let r=t[jt][Nt],i=e.projection;return r.projection[i]}return null}function qm(t,e){let n=Mt+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return Ic(r,i)}return e[si]}function Ay(t,e,n,r,i,o,s){for(;n!=null;){let a=r[ii];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Cs(nn(u),r),n.flags|=2),!Bd(n))if(l&8)Ay(t,e,n.child,r,i,o,!1),Ts(e,t,a,i,u,n,o,r);else if(l&32){let h=Ey(n,r),p;for(;p=h();)Ts(e,t,a,i,p,n,o,r);Ts(e,t,a,i,u,n,o,r)}else l&16?nS(t,e,r,n,i,o):Ts(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function zd(t,e,n,r,i,o){Ay(n,r,t.firstChild,e,i,o,!1)}function iL(t,e,n){let r=e[be],i=XC(t,n,e),o=n.parent||e[Nt],s=eS(o,n,e);nS(r,0,e,n,i,s)}function nS(t,e,n,r,i,o){let s=n[jt],u=s[Nt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ts(e,t,n[ii],i,h,r,o,n)}else{let l=u,h=s[ct];EC(r)&&(l.flags|=128),Ay(t,e,l,h,i,o,!0)}}function oL(t,e,n,r,i,o,s){let a=r[si],u=nn(r);a!==u&&Ts(e,t,n,o,a,i,s);for(let l=Mt;l<r.length;l++){let h=r[l];zd(h[G],h,t,e,o,a)}}function sL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:En.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),t.setStyle(n,r,i,o))}}function rS(t,e,n,r,i){let o=_r(),s=r&2;try{li(-1),s&&e.length>Pe&&qC(t,e,Pe,!1),ve(s?2:0,i,n),n(r,i)}finally{li(o),ve(s?3:1,i,n)}}function Gd(t,e,n){hL(t,e,n),(n.flags&64)===64&&fL(t,e,n)}function Nc(t,e,n=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function aL(t,e,n,r){let o=r.get(AC,SC)||n===Er.ShadowDom,s=t.selectRootElement(e,o);return cL(s),s}function cL(t){uL(t)}var uL=()=>null;function lL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function iS(t,e,n,r,i,o){let s=e[G];if(Py(t,s,e,n,r)){ai(t)&&dL(e,t.index);return}t.type&3&&(n=lL(n)),oS(t,e,n,r,i,o)}function oS(t,e,n,r,i,o){if(t.type&3){let s=vn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function dL(t,e){let n=rn(e,t);n[W]&16||(n[W]|=64)}function hL(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ai(n)&&L1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Dd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=wc(e,t,s,n);if(Cs(u,e),o!==null&&yL(e,s-r,u,a,n,o),yn(a)){let l=rn(n.index,e);l[vt]=wc(e,t,s,n)}}}function fL(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gb();try{li(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];ad(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&pL(u,l)}}finally{li(-1),ad(s)}}function pL(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ry(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];VC(e,o.selectors,!1)&&(r??=[],yn(o)?r.unshift(o):r.push(o))}return r}function gL(t,e,n,r,i,o){let s=vn(t,e);mL(e[be],s,o,t.value,n,r,i)}function mL(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ji(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function yL(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Bm(r,n,u,l)}}function Ny(t,e,n,r,i){let o=Pe+n,s=e[G],a=i(s,e,t,r,n);e[o]=a,_s(t,!0);let u=t.type===2;return u?(BC(e[be],a,t),(sb()===0||ys(t))&&Cs(a,e),ab()):Cs(a,e),dd()&&(!u||!Bd(t))&&Sy(s,e,a,t),t}function My(t){let e=t;return pm()?gm():(e=e.parent,_s(e,!1)),e}function vL(t,e){let n=t[ii];if(!n)return;let r;try{r=n.get(Pt,null)}catch{r=null}r?.(e)}function Py(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Bm(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Bm(h,l,r,i),a=!0}return a}function _L(t,e){let n=rn(e,t),r=n[G];IL(r,n);let i=n[gn];i!==null&&n[ps]===null&&(n[ps]=RC(i,n[ii])),ve(18),ky(r,n,n[vt]),ve(19,n[vt])}function IL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ky(t,e,n){ud(e);try{let r=t.viewQuery;r!==null&&jm(1,r,n);let i=t.template;i!==null&&rS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Un]?.finishViewCreation(t),t.staticContentQueries&&NC(t,e),t.staticViewQueries&&jm(2,t.viewQuery,n);let o=t.components;o!==null&&EL(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,ld()}}function EL(t,e){for(let n=0;n<e.length;n++)_L(t,e[n])}function sS(t,e,n,r){let i=ee(null);try{let o=e.tView,a=t[W]&4096?4096:16,u=_y(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[oi]=l;let h=t[Un];return h!==null&&(u[Un]=h.createEmbeddedView(o)),ky(o,u,n),u}finally{ee(i)}}function zm(t,e){return!e||e.firstChild===null||EC(t)}function Dc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(nn(o)),mn(o)&&aS(o,r);let s=n.type;if(s&8)Dc(t,e,n.child,r);else if(s&32){let a=Ey(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=tS(e,n);if(Array.isArray(a))r.push(...a);else{let u=ti(e[jt]);Dc(u[G],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aS(t,e){for(let n=Mt;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&Dc(r[G],r,i,e)}t[si]!==t[gn]&&e.push(t[si])}function cS(t){if(t[eo]!==null){for(let e of t[eo])e.impl.addSequence(e);t[eo].length=0}}var uS=[];function wL(t){return t[qt]??TL(t)}function TL(t){let e=uS.pop()??Object.create(bL);return e.lView=t,e}function DL(t){t.lView[qt]!==t&&(t.lView=null,uS.push(t))}var bL=H(R({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ui(t.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function CL(t){let e=t[qt]??Object.create(SL);return e.lView=t,e}var SL=H(R({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ti(t.lView);for(;e&&!lS(e[G]);)e=ti(e);e&&om(e)},consumerOnSignalRead(){this.lView[qt]=this}});function lS(t){return t.type!==2}function dS(t){if(t[vr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[vr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[W]&8192)}}var AL=100;function hS(t,e=0){let r=t[Vn].rendererFactory,i=!1;i||r.begin?.();try{RL(t,e)}finally{i||r.end?.()}}function RL(t,e){let n=mm();try{Is(!0),Gm(t,e);let r=0;for(;fc(t);){if(r===AL)throw new F(103,!1);r++,Gm(t,1)}}finally{Is(n)}}function NL(t,e,n,r){if(no(e))return;let i=e[W],o=!1,s=!1;ud(e);let a=!0,u=null,l=null;o||(lS(t)?(l=wL(e),u=qi(l)):Vl()===null?(a=!1,l=CL(e),u=qi(l)):e[qt]&&(zi(e[qt]),e[qt]=null));try{im(e),hb(t.bindingStartIndex),n!==null&&rS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&md(e,y,null)}else{let y=t.preOrderHooks;y!==null&&yd(e,y,0,null),Dm(e,0)}if(s||ML(e),dS(e),fS(e,0),t.contentQueries!==null&&NC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&md(e,y)}else{let y=t.contentHooks;y!==null&&yd(e,y,1),Dm(e,1)}kL(t,e);let p=t.components;p!==null&&gS(e,p,0);let g=t.viewQuery;if(g!==null&&jm(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&md(e,y)}else{let y=t.viewHooks;y!==null&&yd(e,y,2),Dm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ed]){for(let y of e[ed])y();e[ed]=null}o||(cS(e),e[W]&=-73)}catch(h){throw o||ui(e),h}finally{l!==null&&(cs(l,u),a&&DL(l)),ld()}}function fS(t,e){for(let n=TC(t);n!==null;n=DC(n))for(let r=Mt;r<n.length;r++){let i=n[r];pS(i,e)}}function ML(t){for(let e=TC(t);e!==null;e=DC(e)){if(!(e[W]&2))continue;let n=e[to];for(let r=0;r<n.length;r++){let i=n[r];om(i)}}}function PL(t,e,n){ve(18);let r=rn(e,t);pS(r,n),ve(19,r[vt])}function pS(t,e){rd(t)&&Gm(t,e)}function Gm(t,e){let r=t[G],i=t[W],o=t[qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&us(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)NL(r,t,r.template,t[vt]);else if(i&8192){let a=ee(null);try{dS(t),fS(t,1);let u=r.components;u!==null&&gS(t,u,1),cS(t)}finally{ee(a)}}}function gS(t,e,n){for(let r=0;r<e.length;r++)PL(t,e[r],n)}function kL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)li(~i);else{let o=i,s=n[++r],a=n[++r];pb(s,o);let u=e[o];ve(24,u),a(2,u),ve(25,u)}}}finally{li(-1)}}function xy(t,e){let n=mm()?64:1088;for(t[Vn].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=ti(t);if(vs(t)&&!r)return t;t=r}return null}function mS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yS(t,e,n,r=!0){let i=e[G];if(xL(i,e,t,n),r){let s=qm(n,t),a=e[be],u=a.parentNode(t[si]);u!==null&&Y1(i,t[Nt],a,e,u,s)}let o=e[ps];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wm(t,e){if(t.length<=Mt)return;let n=Mt+e,r=t[n];if(r){let i=r[oi];i!==null&&i!==t&&Cy(i,r),e>0&&(t[n-1][tn]=r[tn]);let o=sc(t,Mt+e);Q1(r[G],r);let s=o[Un];s!==null&&s.detachView(o[G]),r[ct]=null,r[tn]=null,r[W]&=-129}return r}function xL(t,e,n,r){let i=Mt+r,o=n.length;r>0&&(n[i-1][tn]=e),r<o-Mt?(e[tn]=n[i],zg(n,Mt+r,e)):(n.push(e),e[tn]=null),e[ct]=n;let s=e[oi];s!==null&&n!==s&&vS(s,e);let a=e[Un];a!==null&&a.insertView(t),id(e),e[W]|=128}function vS(t,e){let n=t[to],r=e[ct];if(jn(r))t[W]|=2;else{let i=r[ct][jt];e[jt]!==i&&(t[W]|=2)}n===null?t[to]=[e]:n.push(e)}var hi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[G];return Dc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return no(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(mn(e)){let n=e[hc],r=n?n.indexOf(this):-1;r>-1&&(Wm(e,r),sc(n,r))}this._attachedToViewContainer=!1}ZC(this._lView[G],this._lView)}onDestroy(e){sm(this._lView,e)}markForCheck(){xy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){id(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,hS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vs(this._lView),n=this._lView[oi];n!==null&&!e&&Cy(n,this._lView),JC(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let n=vs(this._lView),r=this._lView[oi];r!==null&&!n&&vS(r,this._lView),id(this._lView)}};var fi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=OL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=sS(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new hi(o)}}return t})();function OL(){return Oy(tt(),Y())}function Oy(t,e){return t.type&4?new fi(e,t,Ns(t,e)):null}function Ms(t,e,n,r,i){let o=t.data[e];if(o===null)o=LL(t,e,n,r,i),fb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lb();o.injectorIndex=s===null?-1:s.injectorIndex}return _s(o,!0),o}function LL(t,e,n,r,i){let o=fm(),s=pm(),a=s?o:o&&o.parent,u=t.data[e]=VL(t,a,n,e,r,i);return FL(t,u,o,s),u}function FL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function VL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RK=new RegExp(`^(\\d+)*(${o1}|${i1})*(.*)`);var UL=()=>null;function Km(t,e){return UL(t,e)}var _S=class{},Wd=class{},Qm=class{resolveComponentFactory(e){throw new F(917,!1)}},Mc=class{static NULL=new Qm},so=class{},go=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>jL()}return t})();function jL(){let t=Y(),e=tt(),n=rn(e.index,t);return(jn(n)?n:t)[be]}var IS=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();var _d={},Ym=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,_d,r);return i!==_d||n===_d?i:this.parentInjector.get(e,n,r)}};function Nd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Wl(i,a);else if(o==2){let u=a,l=e[++s];r=Wl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function De(t,e=0){let n=Y();if(n===null)return Q(t,e);let r=tt();return yC(r,n,Xe(t),e)}function Ly(){let t="invalid";throw new Error(t)}function ES(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}HL(t,e,n,a,o,u,l)}o!==null&&r!==null&&BL(n,r,o)}function BL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function $L(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HL(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&yn(y)&&(u=!0,$L(t,n,g)),Lm(Dd(n,e),t,y.type)}QL(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=HC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=bs(n.mergedAttrs,y.hostAttrs),zL(t,n,e,p,y),KL(p,y,i),s!==null&&s.has(y)){let[M,A]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}qL(t,n,o)}function qL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Bb(0,e,i,r),Bb(1,e,i,r),Hb(e,r,!1);else{let o=n.get(i);$b(0,e,o,r),$b(1,e,o,r),Hb(e,r,!0)}}}function Bb(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),wS(e,o)}}function $b(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),wS(e,s)}}function wS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Hb(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||yy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function zL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ei(i.type,!0)),s=new oo(o,yn(i),De,null);t.blueprint[r]=s,n[r]=s,GL(t,e,r,HC(t,n,i.hostVars,zt),i)}function GL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;WL(s)!=a&&s.push(a),s.push(n,r,o)}}function WL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function KL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yn(e)&&(n[""]=t)}}function QL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fy(t,e,n,r,i,o,s,a){let u=e[G],l=u.consts,h=ci(l,s),p=Ms(u,t,n,r,h);return o&&ES(u,e,p,ci(l,a),i),p.mergedAttrs=bs(p.mergedAttrs,p.attrs),p.attrs!==null&&Nd(p,p.attrs,!1),p.mergedAttrs!==null&&Nd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Vy(t,e){cC(t,e),em(e)&&t.queries.elementEnd(e)}function YL(t,e,n,r,i,o){let s=e.consts,a=ci(s,i),u=Ms(e,t,n,r,a);if(u.mergedAttrs=bs(u.mergedAttrs,u.attrs),o!=null){let l=ci(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Nd(u,u.attrs,!1),u.mergedAttrs!==null&&Nd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Uy(t){return Kd(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function TS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Kd(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jy(t,e,n){return t[e]=n}function wn(t,e,n){if(n===zt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function By(t,e,n,r){let i=wn(t,e,n);return wn(t,e+1,r)||i}function JL(t,e,n,r,i){let o=By(t,e,n,r);return wn(t,e+2,i)||o}function Sm(t,e,n){return function r(i){let o=ai(t)?rn(t.index,e):e;xy(o,5);let s=e[vt],a=qb(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=qb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function qb(t,e,n,r){let i=ee(null);try{return ve(6,e,n),n(r)!==!1}catch(o){return vL(t,o),!1}finally{ve(7,e,n),ee(i)}}function ZL(t,e,n,r,i,o,s,a){let u=ys(t),l=!1,h=null;if(!r&&u&&(h=eF(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=vn(t,n),g=r?r(p):p;a1(n,g,o,a);let y=i.listen(g,o,a);if(!XL(o)){let b=r?M=>r(nn(M[t.index])):t.index;DS(b,e,n,o,a,y,!1)}}return l}function XL(t){return t.startsWith("animation")||t.startsWith("transition")}function eF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[gs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function DS(t,e,n,r,i,o,s){let a=e.firstCreatePass?cm(e):null,u=am(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function zb(t,e,n,r,i,o){let s=e[n],a=e[G],l=a.data[n].outputs[r],p=s[l].subscribe(o);DS(t.index,a,e,i,o,p,!0)}var Jm=Symbol("BINDING");var Md=class extends Mc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yr(e);return new ao(n,this.ngModule)}};function tF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Hd.SignalBased)!==0};return i&&(o.transform=i),o})}function nF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function rF(t,e,n){let r=e instanceof et?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ym(n,r):n}function iF(t){let e=t.get(so,null);if(e===null)throw new F(407,!1);let n=t.get(IS,null),r=t.get(fn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function oF(t,e){let n=bS(t);return UC(e,n,n==="svg"?tm:n==="math"?eb:null)}function bS(t){return(t.selectors[0][0]||"div").toLowerCase()}var ao=class extends Wd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=tF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=nF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=C1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ve(22);let a=ee(null);try{let u=this.componentDef,l=sF(r,u,s,o),h=rF(u,i||this.ngModule,e),p=iF(h),g=p.rendererFactory.createRenderer(null,u),y=r?aL(g,r,u.encapsulation,h):oF(u,g),b=s?.some(Gb)||o?.some(O=>typeof O!="function"&&O.bindings.some(Gb)),M=_y(null,l,null,512|$C(u),null,null,p,g,h,null,RC(y,h,!0));M[Pe]=y,ud(M);let A=null;try{let O=Fy(Pe,M,2,"#host",()=>l.directiveRegistry,!0,0);BC(g,y,O),Cs(y,M),Gd(l,M,O),py(l,O,M),Vy(l,O),n!==void 0&&cF(O,this.ngContentSelectors,n),A=rn(O.index,M),M[vt]=A[vt],ky(l,M,null)}catch(O){throw A!==null&&Vm(A),Vm(M),O}finally{ve(23),ld()}return new Pd(this.componentType,M,!!b)}finally{ee(a)}}};function sF(t,e,n,r){let i=t?["ng-version","20.3.12"]:S1(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Jm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Jm].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Xl(p);u.push(g)}return vy(0,null,aF(o,s),1,a,u,null,null,null,[i],null)}function aF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Gb(t){let e=t[Jm].kind;return e==="input"||e==="twoWay"}var Pd=class extends _S{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=td(n[G],Pe),this.location=Ns(this._tNode,n),this.instance=rn(this._tNode.index,n)[vt],this.hostView=this.changeDetectorRef=new hi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Py(r,i[G],i,e,n);this.previousInputValues.set(e,n);let s=rn(r.index,i);xy(s,1)}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var $n=(()=>{class t{static __NG_ELEMENT_ID__=uF}return t})();function uF(){let t=tt();return SS(t,Y())}var lF=$n,CS=class extends lF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ns(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){let e=ly(this._hostTNode,this._hostLView);if(dC(e)){let n=wd(e,this._hostLView),r=Ed(e),i=n[G].data[r+8];return new io(i,n)}else return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Wb(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Km(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,zm(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!kO(e),l;if(u)l=n;else{let A=n||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let h=u?e:new ao(yr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(et,null);O&&(o=O)}let g=yr(h.componentType??{}),y=Km(this._lContainer,g?.id??null),b=y?.firstChild??null,M=h.create(p,i,b,o,s,a);return this.insertImpl(M.hostView,l,zm(this._hostTNode,y)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ct],l=new CS(u,u[Nt],u[ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return yS(s,i,o,r),e.attachToViewContainerRef(),zg(Am(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Wb(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Wm(this._lContainer,n);r&&(sc(Am(this._lContainer),n),ZC(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=Wm(this._lContainer,n);return r&&sc(Am(this._lContainer),n)!=null?new hi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Wb(t){return t[hc]}function Am(t){return t[hc]||(t[hc]=[])}function SS(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=mS(r,e,null,t),e[t.index]=n,Iy(e,n)),hF(n,e,t,r),new CS(n,t,e)}function dF(t,e){let n=t[be],r=n.createComment(""),i=vn(e,t),o=n.parentNode(i);return Sd(n,o,r,n.nextSibling(i),!1),r}var hF=gF,fF=()=>!1;function pF(t,e,n){return fF(t,e,n)}function gF(t,e,n,r){if(t[si])return;let i;n.type&8?i=nn(r):i=dF(e,n),t[si]=i}var Zm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Hy(e,n).matches!==null&&this.queries[n].setDirty()}},ey=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=EF(e):this.predicate=e}},ty=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ny=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,mF(n,o)),this.matchTNodeWithReadOption(e,n,vd(n,e,o,!1,!1))}else r===fi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,vd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Tn||i===$n||i===fi&&n.type&4)this.addMatch(n.index,-2);else{let o=vd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function mF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function yF(t,e){return t.type&11?Ns(t,e):t.type&4?Oy(t,e):null}function vF(t,e,n,r){return n===-1?yF(e,t):n===-2?_F(t,e,r):wc(t,t[G],n,e)}function _F(t,e,n){if(n===Tn)return Ns(e,t);if(n===fi)return Oy(e,t);if(n===$n)return SS(e,t)}function AS(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(vF(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ry(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=AS(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Mt;p<h.length;p++){let g=h[p];g[oi]===g[ct]&&ry(g[G],g,l,r)}if(h[to]!==null){let p=h[to];for(let g=0;g<p.length;g++){let y=p[g];ry(y[G],y,l,r)}}}}}return r}function $y(t,e){return t[Un].queries[e].queryList}function IF(t,e,n){let r=new bd((n&4)===4);return ob(t,e,r,r.destroy),(e[Un]??=new Xm).queries.push(new Zm(r))-1}function RS(t,e,n,r){let i=Be();if(i.firstCreatePass){let o=tt();wF(i,new ey(e,n,r),o.index),TF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return IF(i,Y(),n)}function EF(t){return t.split(",").map(e=>e.trim())}function wF(t,e,n){t.queries===null&&(t.queries=new ty),t.queries.track(new ny(e,n))}function TF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Hy(t,e){return t.queries.getByIndex(e)}function NS(t,e){let n=t[G],r=Hy(n,e);return r.crossesNgTemplate?ry(n,t,e,[]):AS(n,t,r,e)}function MS(t,e,n){let r,i=ec(()=>{r._dirtyCounter();let o=bF(r,t);if(e&&o===void 0)throw new F(-951,!1);return o});return r=i[at],r._dirtyCounter=di(0),r._flatValue=void 0,i}function PS(t){return MS(!0,!1,t)}function kS(t){return MS(!0,!0,t)}function DF(t,e){let n=t[at];n._lView=Y(),n._queryIndex=e,n._queryList=$y(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function bF(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[W]&4)return e?void 0:mt;let i=$y(n,r),o=NS(n,r);return i.reset(o,IC),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var co=class{},Qd=class{};var kd=class extends co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Md(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Kg(e);this._bootstrapComponents=LC(o.bootstrap),this._r3Injector=_m(e,n,[{provide:co,useValue:this},{provide:Mc,useValue:this.componentFactoryResolver},...r],fr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xd=class extends Qd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new kd(this.moduleType,e,[])}};var bc=class extends co{injector;componentFactoryResolver=new Md(this);instance=null;constructor(e){super();let n=new Qi([...e.providers,{provide:co,useValue:this},{provide:Mc,useValue:this.componentFactoryResolver}],e.parent||uc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ps(t,e,n=null){return new bc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var CF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Qg(!1,n.type),i=r.length>0?Ps([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(Q(et))})}return t})();function qy(t){return Sc(()=>{let e=xS(t),n=H(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(CF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Er.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&po("NgStandalone"),OS(n);let r=t.dependencies;return n.directiveDefs=Kb(r,SF),n.pipeDefs=Kb(r,GD),n.id=NF(n),n})}function SF(t){return yr(t)||Xl(t)}function mo(t){return Sc(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AF(t,e){if(t==null)return pn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Hd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function RF(t){if(t==null)return pn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Dn(t){return Sc(()=>{let e=xS(t);return OS(e),e})}function ks(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function xS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||pn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:AF(t.inputs,e),outputs:RF(t.outputs),debugInfo:null}}function OS(t){t.features?.forEach(e=>e(t))}function Kb(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function NF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MF(t){return Object.getPrototypeOf(t.prototype).constructor}function LS(t){let e=MF(t.type),n=!0,r=[t];for(;e;){let i;if(yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Rm(t.inputs),s.declaredInputs=Rm(t.declaredInputs),s.outputs=Rm(t.outputs);let a=i.hostBindings;a&&LF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&xF(t,u),l&&OF(t,l),PF(t,i),FD(t.outputs,i.outputs),yn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===LS&&(n=!1)}}e=Object.getPrototypeOf(e)}kF(r)}function PF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function kF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bs(i.hostAttrs,n=bs(n,i.hostAttrs))}}function Rm(t){return t===pn?{}:t===mt?[]:t}function xF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function OF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function LF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function FF(t){let e=n=>{let r=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=VF,n.hostDirectives=r?t.map(iy):[t]):r?n.hostDirectives.unshift(...t.map(iy)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function VF(t){let e=[],n=!1,r=null,i=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,FS(s,e,r),i.set(s,[a,e.length-1])}o===0&&yn(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,r,i]}function FS(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)Qb(iy(o),e,n)}else Qb(r,e,n)}function Qb(t,e,n){let r=Xl(t.directive);UF(r.declaredInputs,t.inputs),FS(r,e,n),n.set(r,t),e.push(r)}function iy(t){return typeof t=="function"?{directive:Xe(t),inputs:pn,outputs:pn}:{directive:Xe(t.directive),inputs:Yb(t.inputs),outputs:Yb(t.outputs)}}function Yb(t){if(t===void 0||t.length===0)return pn;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function UF(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function VS(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=bs(t.mergedAttrs,t.attrs);let h=t.tView=vy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),_s(t,!1);let u=$F(n,e,t,r);dd()&&Sy(n,e,u,t),Cs(u,e);let l=mS(u,e,u,t);e[r+Pe]=l,Iy(e,l),pF(l,t,e)}function jF(t,e,n,r,i,o,s,a,u,l,h){let p=n+Pe,g;return e.firstCreatePass?(g=Ms(e,p,4,s||null,a||null),od()&&ES(e,t,g,ci(e.consts,l),Ry),cC(e,g)):g=e.data[p],VS(g,t,e,n,r,i,o,u),ys(g)&&Gd(e,t,g),l!=null&&Nc(t,g,h),g}function BF(t,e,n,r,i,o,s,a,u,l,h){let p=n+Pe,g;if(e.firstCreatePass){if(g=Ms(e,p,4,s||null,a||null),l!=null){let y=ci(e.consts,l);g.localNames=[];for(let b=0;b<y.length;b+=2)g.localNames.push(y[b],-1)}}else g=e.data[p];return VS(g,t,e,n,r,i,o,u),l!=null&&Nc(t,g,h),g}function US(t,e,n,r,i,o,s,a){let u=Y(),l=Be(),h=ci(l.consts,o);return jF(u,l,t,e,n,r,i,h,void 0,s,a),US}var $F=HF;function HF(t,e,n,r){return yc(!0),e[be].createComment("")}var zy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Gy=new j("");function yo(t){return!!t&&typeof t.then=="function"}function Yd(t){return!!t&&typeof t.subscribe=="function"}var Wy=new j("");function Jd(t){return ri([{provide:Wy,multi:!0,useValue:t}])}var Ky=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(Wy,{optional:!0})??[];injector=P(Rt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=yt(this.injector,i);if(yo(o))n.push(o);else if(Yd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pc=new j("");function jS(){Tg(()=>{let t="";throw new F(600,t)})}function BS(t){return t.isBoundToModule}var qF=10;var vo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Pt);afterRenderManager=P(Dy);zonelessEnabled=P(vc);rootEffectScheduler=P(_c);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ze;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Ir);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(n=>!n))}constructor(){P(fo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Rt.NULL){return this._injector.get(Fe).run(()=>{ve(10);let s=n instanceof Wd;if(!this._injector.get(Ky).done){let b="";throw new F(405,b)}let u;s?u=n:u=this._injector.get(Mc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=BS(u)?void 0:this._injector.get(co),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Gy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Ec(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),ve(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(n),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(so,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<qF;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fc(i))continue;let o=r&&!this.zonelessEnabled?0:1;hS(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ec(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Pc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ec(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ec(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zd(t,e,n,r){let i=Y(),o=Es();if(wn(i,o,e)){let s=Be(),a=mc();gL(a,i,t,e,n,r)}return Zd}var LK=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function $S(t,e,n){let r=Y(),i=Es();if(wn(r,i,e)){let o=Be(),s=mc();iS(s,r,t,e,r[be],n)}return $S}function oy(t,e,n,r,i){Py(e,t,n,i?"class":"style",r)}function Qy(t,e,n,r){let i=Y(),o=i[G],s=t+Pe,a=o.firstCreatePass?Fy(s,i,2,e,Ry,od(),n,r):o.data[s];if(Ny(a,i,t,e,qS),ys(a)){let u=i[G];Gd(u,i,a),py(u,a,i)}return r!=null&&Nc(i,a),Qy}function Yy(){let t=Be(),e=tt(),n=My(e);return t.firstCreatePass&&Vy(t,n),dm(n)&&hm(),um(),n.classesWithoutHost!=null&&UO(n)&&oy(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&jO(n)&&oy(t,n,Y(),n.stylesWithoutHost,!1),Yy}function Xd(t,e,n,r){return Qy(t,e,n,r),Yy(),Xd}function Jy(t,e,n,r){let i=Y(),o=i[G],s=t+Pe,a=o.firstCreatePass?YL(s,o,2,e,n,r):o.data[s];return Ny(a,i,t,e,qS),r!=null&&Nc(i,a),Jy}function Zy(){let t=tt(),e=My(t);return dm(e)&&hm(),um(),Zy}function HS(t,e,n,r){return Jy(t,e,n,r),Zy(),HS}var qS=(t,e,n,r,i)=>(yc(!0),UC(e[be],r,wb()));function Xy(t,e,n){let r=Y(),i=r[G],o=t+Pe,s=i.firstCreatePass?Fy(o,r,8,"ng-container",Ry,od(),e,n):i.data[o];if(Ny(s,r,t,"ng-container",zF),ys(s)){let a=r[G];Gd(a,r,s),py(a,s,r)}return n!=null&&Nc(r,s),Xy}function ev(){let t=Be(),e=tt(),n=My(e);return t.firstCreatePass&&Vy(t,n),ev}function zS(t,e,n){return Xy(t,e,n),ev(),zS}var zF=(t,e,n,r,i)=>(yc(!0),N1(e[be],""));function GF(){return Y()}function GS(t,e,n){let r=Y(),i=Es();if(wn(r,i,e)){let o=Be(),s=mc();oS(s,r,t,e,r[be],n)}return GS}var pd=void 0;function WF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var KF=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pd,"{1} 'at' {0}",pd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WF],Nm={};function Gt(t){let e=QF(t),n=Jb(e);if(n)return n;let r=e.split("-")[0];if(n=Jb(r),n)return n;if(r==="en")return KF;throw new F(701,!1)}function Jb(t){return t in Nm||(Nm[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),Nm[t]}var Ve=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ve||{});function QF(t){return t.toLowerCase().replace(/_/g,"-")}var kc="en-US";var YF=kc;function WS(t){typeof t=="string"&&(YF=t.toLowerCase().replace(/_/g,"-"))}function eh(t,e,n){let r=Y(),i=Be(),o=tt();return KS(i,r,r[be],o,t,e,n),eh}function KS(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Sm(r,e,o),ZL(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Sm(r,e,o),zb(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Sm(r,e,o),zb(r,e,p,i,i,u)}}function JF(t=1){return Ib(t)}function ZF(t,e){let n=null,r=E1(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?VC(t,o,!0):D1(r,o))return i}return n}function XF(t){let e=Y()[jt][Nt];if(!e.projection){let n=t?t.length:1,r=e.projection=qD(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?ZF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function eV(t,e=0,n,r,i,o){let s=Y(),a=Be(),u=r?t+1:null;u!==null&&BF(s,a,u,r,i,o,null,n);let l=Ms(a,Pe+t,16,null,n||null);l.projection===null&&(l.projection=e),gm();let p=!s[ps]||lm();s[jt][Nt].projection[l.projection]===null&&u!==null?tV(s,a,u):p&&!Bd(l)&&iL(a,s,l)}function tV(t,e,n){let r=Pe+n,i=e.data[r],o=t[r],s=Km(o,i.tView.ssrId),a=sS(t,i,void 0,{dehydratedView:s});yS(o,a,0,zm(i,s))}function QS(t,e,n,r){RS(t,e,n,r)}function YS(t){let e=Y(),n=Be(),r=cd();gc(r+1);let i=Hy(n,r);if(t.dirty&&tb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=NS(e,r);t.reset(o,IC),t.notifyOnChanges()}return!0}return!1}function JS(){return $y(Y(),cd())}function nV(t,e,n,r,i){DF(e,RS(t,n,r,i))}function rV(t=1){gc(cd()+t)}function gd(t,e){return t<<17|e<<2}function uo(t){return t>>17&32767}function iV(t){return(t&2)==2}function oV(t,e){return t&131071|e<<17}function sy(t){return t|2}function As(t){return(t&131068)>>2}function Mm(t,e){return t&-131069|e<<2}function sV(t){return(t&1)===1}function ay(t){return t|1}function aV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=uo(s),u=As(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||fs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=uo(t[a+1]);t[r+1]=gd(g,a),g!==0&&(t[g+1]=Mm(t[g+1],r)),t[a+1]=oV(t[a+1],r)}else t[r+1]=gd(a,0),a!==0&&(t[a+1]=Mm(t[a+1],r)),a=r;else t[r+1]=gd(u,0),a===0?a=r:t[u+1]=Mm(t[u+1],r),u=r;l&&(t[r+1]=sy(t[r+1])),Zb(t,h,r,!0),Zb(t,h,r,!1),cV(e,h,t,r,o),s=gd(a,u),o?e.classBindings=s:e.styleBindings=s}function cV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&fs(o,e)>=0&&(n[r+1]=ay(n[r+1]))}function Zb(t,e,n,r){let i=t[n+1],o=e===null,s=r?uo(i):As(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];uV(u,e)&&(a=!0,t[s+1]=r?ay(l):sy(l)),s=r?uo(l):As(l)}a&&(t[n+1]=r?sy(i):ay(i))}function uV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fs(t,e)>=0:!1}var nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZS(t){return t.substring(nt.key,nt.keyEnd)}function lV(t){return t.substring(nt.value,nt.valueEnd)}function dV(t){return tA(t),XS(t,Rs(t,0,nt.textEnd))}function XS(t,e){let n=nt.textEnd;return n===e?-1:(e=nt.keyEnd=fV(t,nt.key=e,n),Rs(t,e,n))}function hV(t){return tA(t),eA(t,Rs(t,0,nt.textEnd))}function eA(t,e){let n=nt.textEnd,r=nt.key=Rs(t,e,n);return n===r?-1:(r=nt.keyEnd=pV(t,r,n),r=Xb(t,r,n,58),r=nt.value=Rs(t,r,n),r=nt.valueEnd=gV(t,r,n),Xb(t,r,n,59))}function tA(t){nt.key=0,nt.keyEnd=0,nt.value=0,nt.valueEnd=0,nt.textEnd=t.length}function Rs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function fV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function pV(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Xb(t,e,n,r){return e=Rs(t,e,n),e<n&&e++,e}function gV(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let u=t.charCodeAt(s++);if(u===59)return a;u===34||u===39?a=s=eC(t,u,s,n):e===s-4&&o===85&&i===82&&r===76&&u===40?a=s=eC(t,41,s,n):u>32&&(a=s),o=i,i=r,r=u&-33}return a}function eC(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function nA(t,e,n){return iA(t,e,n,!1),nA}function rA(t,e){return iA(t,e,null,!0),rA}function mV(t){oA(cA,yV,t,!1)}function yV(t,e){for(let n=hV(e);n>=0;n=eA(e,n))cA(t,ZS(e),lV(e))}function vV(t){oA(bV,_V,t,!0)}function _V(t,e){for(let n=dV(e);n>=0;n=XS(e,n))ac(t,ZS(e),!0)}function iA(t,e,n,r){let i=Y(),o=Be(),s=sd(2);if(o.firstUpdatePass&&aA(o,t,s,r),e!==zt&&wn(i,s,e)){let a=o.data[_r()];uA(o,a,i,i[be],t,i[s+1]=SV(e,n),r,s)}}function oA(t,e,n,r){let i=Be(),o=sd(2);i.firstUpdatePass&&aA(i,null,o,r);let s=Y();if(n!==zt&&wn(s,o,n)){let a=i.data[_r()];if(lA(a,r)&&!sA(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Wl(u,n||"")),oy(i,a,s,n,r)}else CV(i,a,s,s[be],s[o+1],s[o+1]=DV(t,e,n),r,o)}}function sA(t,e){return e>=t.expandoStartIndex}function aA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_r()],s=sA(t,n);lA(o,r)&&e===null&&!s&&(e=!1),e=IV(i,o,e,r),aV(i,o,e,n,s,r)}}function IV(t,e,n,r){let i=mb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Pm(null,t,e,n,r),n=Cc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Pm(i,t,e,n,r),o===null){let u=EV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Pm(null,t,e,u[1],r),u=Cc(u,e.attrs,r),wV(t,e,r,u))}else o=TV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function EV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(As(r)!==0)return t[uo(r)]}function wV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[uo(i)]=r}function TV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Cc(r,s,n)}return Cc(r,e.attrs,n)}function Pm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Cc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Cc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ac(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DV(t,e,n){if(n==null||n==="")return mt;let r=[],i=ho(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function cA(t,e,n){ac(t,e,ho(n))}function bV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ac(t,r,n)}function CV(t,e,n,r,i,o,s,a){i===zt&&(i=mt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,b=null,M;h===p?(u+=2,l+=2,g!==y&&(b=p,M=y)):p===null||h!==null&&h<p?(u+=2,b=h):(l+=2,b=p,M=y),b!==null&&uA(t,e,n,r,b,M,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function uA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=sV(l)?tC(u,e,n,i,As(l),s):void 0;if(!Od(h)){Od(o)||iV(l)&&(o=tC(u,null,n,i,a,s));let p=nm(_r(),n);sL(r,s,p,i,o)}}function tC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===zt&&(g=p?mt:void 0);let y=p?Zl(g,r):h===r?g:void 0;if(l&&!Od(y)&&(y=Zl(u,r)),Od(y)&&(a=y,s))return a;let b=t[i+1];i=s?uo(b):As(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Zl(u,r))}return a}function Od(t){return t!==void 0}function SV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=fr(ho(t)))),t}function lA(t,e){return(t.flags&(e?8:16))!==0}function AV(t,e=""){let n=Y(),r=Be(),i=t+Pe,o=r.firstCreatePass?Ms(r,i,1,e,null):r.data[i],s=RV(r,n,o,e,t);n[i]=s,dd()&&Sy(r,n,s,o),_s(o,!1)}var RV=(t,e,n,r,i)=>(yc(!0),A1(e[be],r));function dA(t,e,n,r=""){return wn(t,Es(),n)?e+Ji(n)+r:zt}function NV(t,e,n,r,i,o=""){let s=db(),a=By(t,s,n,i);return sd(2),a?e+Ji(n)+r+Ji(i)+o:zt}function hA(t){return tv("",t),hA}function tv(t,e,n){let r=Y(),i=dA(r,t,e,n);return i!==zt&&pA(r,_r(),i),tv}function fA(t,e,n,r,i){let o=Y(),s=NV(o,t,e,n,r,i);return s!==zt&&pA(o,_r(),s),fA}function pA(t,e,n){let r=nm(e,t);R1(t[be],r,n)}function gA(t,e,n){wm(e)&&(e=e());let r=Y(),i=Es();if(wn(r,i,e)){let o=Be(),s=mc();iS(s,r,t,e,r[be],n)}return gA}function MV(t,e){let n=wm(t);return n&&t.set(e),n}function mA(t,e){let n=Y(),r=Be(),i=tt();return KS(r,n,n[be],i,t,e),mA}function PV(t,e,n=""){return dA(Y(),t,e,n)}function kV(t,e,n){let r=Be();if(r.firstCreatePass){let i=yn(t);cy(n,r.data,r.blueprint,i,!0),cy(e,r.data,r.blueprint,i,!1)}}function cy(t,e,n,r,i){if(t=Xe(t),Array.isArray(t))for(let o=0;o<t.length;o++)cy(t[o],e,n,r,i);else{let o=Be(),s=Y(),a=tt(),u=Ki(t)?t:Xe(t.provide),l=Jg(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ki(t)||!t.multi){let y=new oo(l,i,De,null),b=xm(u,e,i?h:h+g,p);b===-1?(Lm(Dd(a,s),o,u),km(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=xm(u,e,h+g,p),b=xm(u,e,h,h+g),M=y>=0&&n[y],A=b>=0&&n[b];if(i&&!A||!i&&!M){Lm(Dd(a,s),o,u);let O=LV(i?OV:xV,n.length,i,r,l,t);!i&&A&&(n[b].providerFactory=O),km(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=yA(n[i?b:y],l,!i&&r);km(o,t,y>-1?y:b,O)}!i&&r&&A&&n[b].componentProviders++}}}function km(t,e,n,r){let i=Ki(e),o=JD(e);if(i||o){let u=(o?Xe(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function yA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xV(t,e,n,r,i){return uy(this.multi,[])}function OV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=wc(r,r[G],this.providerFactory.index,i);s=u.slice(0,a),uy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],uy(o,s);return s}function uy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function LV(t,e,n,r,i,o){let s=new oo(t,n,De,null);return s.multi=[],s.index=e,s.componentProviders=0,yA(s,i,r&&!n),s}function FV(t,e=[]){return n=>{n.providersResolver=(r,i)=>kV(r,i?i(t):t,e)}}function VV(t,e,n,r,i){return vA(Y(),pc(),t,e,n,r,i)}function nv(t,e){let n=t[e];return n===zt?void 0:n}function UV(t,e,n,r,i,o){let s=e+n;return wn(t,s,i)?jy(t,s+1,o?r.call(o,i):r(i)):nv(t,s+1)}function vA(t,e,n,r,i,o,s){let a=e+n;return By(t,a,i,o)?jy(t,a+2,s?r.call(s,i,o):r(i,o)):nv(t,a+2)}function jV(t,e,n,r,i,o,s,a){let u=e+n;return JL(t,u,i,o,s)?jy(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):nv(t,u+3)}function BV(t,e){let n=Be(),r,i=t+Pe;n.firstCreatePass?(r=$V(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ei(r.type,!0)),s,a=At(De);try{let u=Td(!1),l=o();return Td(u),rm(n,Y(),i,l),l}finally{At(a)}}function $V(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function HV(t,e,n){let r=t+Pe,i=Y(),o=nd(i,r);return rv(i,r)?UV(i,pc(),e,o.transform,n,o):o.transform(n)}function qV(t,e,n,r){let i=t+Pe,o=Y(),s=nd(o,i);return rv(o,i)?vA(o,pc(),e,s.transform,n,r,s):s.transform(n,r)}function zV(t,e,n,r,i){let o=t+Pe,s=Y(),a=nd(s,o);return rv(s,o)?jV(s,pc(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function rv(t,e){return t[G].data[e].pure}var Ld=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},iv=(()=>{class t{compileModuleSync(n){return new xd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Kg(n),o=LC(i.declarations).reduce((s,a)=>{let u=yr(a);return u&&s.push(new ao(u)),s},[]);return new Ld(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var GV=(()=>{class t{zone=P(Fe);changeDetectionScheduler=P(fn);applicationRef=P(vo);applicationErrorHandler=P(Pt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _A({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Fe(H(R({},IA()),{scheduleInRootZone:n})),[{provide:Fe,useFactory:t},{provide:mr,multi:!0,useFactory:()=>{let r=P(GV,{optional:!0});return()=>r.initialize()}},{provide:mr,multi:!0,useFactory:()=>{let r=P(WV);return()=>{r.initialize()}}},e===!0?{provide:Tm,useValue:!0}:[],{provide:hd,useValue:n??zC},{provide:Pt,useFactory:()=>{let r=P(Fe),i=P(et),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(en),o.handleError(s))})}}}]}function IA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var WV=(()=>{class t{subscription=new Ue;initialized=!1;zone=P(Fe);pendingTasks=P(Ir);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ov=(()=>{class t{applicationErrorHandler=P(Pt);appRef=P(vo);taskService=P(Ir);ngZone=P(Fe);zonelessEnabled=P(vc);tracing=P(fo,{optional:!0});disableScheduling=P(Tm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ad):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(hd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Ob:GC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ad+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ob(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KV(){return po("NgZoneless"),ri([{provide:fn,useExisting:ov},{provide:Fe,useClass:Tc},{provide:vc,useValue:!0},{provide:hd,useValue:!1},[]])}function QV(){return typeof $localize<"u"&&$localize.locale||kc}var xc=new j("",{providedIn:"root",factory:()=>P(xc,{optional:!0,skipSelf:!0})||QV()});function on(t){return PD(t)}function YV(t,e){return ec(t,e?.equal)}var sv=class{[at];constructor(e){this[at]=e}destroy(){this[at].destroy()}};function JV(t,e){let n=e?.injector??P(Rt),r=e?.manualCleanup!==!0?n.get(_n):null,i,o=n.get(ws,null,{optional:!0}),s=n.get(fn);return o!==null?(i=eU(o.view,s,t),r instanceof ic&&r._lView===o.view&&(r=null)):i=tU(t,n.get(_c),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new sv(i)}var EA=H(R({},kD),{cleanupFns:void 0,zone:null,onDestroyFn:ro,run(){let t=Is(!1);try{xD(this)}finally{Is(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=ee(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ee(t)}}}),ZV=H(R({},EA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){zi(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),XV=H(R({},EA),{consumerMarkedDirty(){this.view[W]|=8192,ui(this.view),this.notifier.notify(13)},destroy(){zi(this),this.onDestroyFn(),this.cleanup(),this.view[vr]?.delete(this)}});function eU(t,e,n){let r=Object.create(XV);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=wA(r,n),t[vr]??=new Set,t[vr].add(r),r.consumerMarkedDirty(r),r}function tU(t,e,n){let r=Object.create(ZV);return r.fn=wA(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function wA(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var RA=Symbol("InputSignalNode#UNSET"),pU=H(R({},$l),{transformFn:void 0,applyValueToInputSignal(t,e){ds(t,e)}});function NA(t,e){let n=Object.create(pU);n.value=t,n.transformFn=e?.transform;function r(){if(as(n),n.value===RA){let i=null;throw new F(-950,i)}return n.value}return r[at]=n,r}var nh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ac(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},gU=new j("");gU.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new F(204,!1)};function TA(t,e){return NA(t,e)}function mU(t){return NA(RA,t)}var MA=(TA.required=mU,TA);function DA(t,e){return PS(e)}function yU(t,e){return kS(e)}var zee=(DA.required=yU,DA);var av=new j(""),vU=new j("");function Oc(t){return!t.moduleRef}function _U(t){let e=Oc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Fe);return n.run(()=>{Oc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Oc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(av);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(av);s.add(o),t.moduleRef.onDestroy(()=>{Ec(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return EU(r,n,()=>{let o=e.get(Ir),s=o.add(),a=e.get(Ky);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(xc,kc);if(WS(u||kc),!e.get(vU,!0))return Oc(t)?e.get(vo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Oc(t)){let h=e.get(vo);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return IU?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var IU;function EU(t,e,n){try{let r=n();return yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var th=null;function wU(t=[],e){return Rt.create({name:e,providers:[{provide:cc,useValue:"platform"},{provide:av,useValue:new Set([()=>th=null])},...t]})}function TU(t=[]){if(th)return th;let e=wU(t);return th=e,jS(),DU(e),e}function DU(t){let e=t.get(Ud,null);yt(t,()=>{e?.forEach(n=>n())})}var xs=(()=>{class t{static __NG_ELEMENT_ID__=bU}return t})();function bU(t){return CU(tt(),Y(),(t&16)===16)}function CU(t,e,n){if(ai(t)&&!n){let r=rn(t.index,e);return new hi(r,r)}else if(t.type&175){let r=e[jt];return new hi(r,e)}return null}var cv=class{constructor(){}supports(e){return Uy(e)}create(e){return new uv(e)}},SU=(t,e)=>e,uv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||SU}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<bA(r,i,o)?n:r,a=bA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,b=y+g;h<=b&&b<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Uy(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,TS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new lv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new rh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},dv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},rh=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var hv=class{constructor(){}supports(e){return e instanceof Map||Kd(e)}create(){return new fv}},fv=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Kd(e)))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new pv(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},pv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function CA(){return new gv([new cv])}var gv=(()=>{class t{factories;static \u0275prov=U({token:t,providedIn:"root",factory:CA});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=P(t,{optional:!0,skipSelf:!0});return t.create(n,r||CA())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new F(901,!1)}}return t})();function SA(){return new mv([new hv])}var mv=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:SA});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=P(t,{optional:!0,skipSelf:!0});return t.create(n,r||SA())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new F(901,!1)}}return t})();function PA(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ve(8);try{let o=i?.injector??TU(r),s=[_A({}),{provide:fn,useExisting:ov},Db,...n||[]],a=new bc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return _U({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ve(9)}}function Lc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function AU(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function kA(t){let e=yr(t);if(!e)return null;let n=new ao(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var LA=null;function wr(){return LA}function yv(t){LA??=t}var Fc=class{},Vc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(FA),providedIn:"platform"})}return t})(),vv=new j(""),FA=(()=>{class t extends Vc{_location;_history;_doc=P(Le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(n){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ih(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function xA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function bn(t){return t&&t[0]!=="?"?`?${t}`:t}var Cn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(sh),providedIn:"root"})}return t})(),oh=new j(""),sh=(()=>{class t extends Cn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ih(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+bn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+bn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+bn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Vc),Q(oh,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pi=(()=>{class t{_subject=new Ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=MU(xA(OA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+bn(r))}normalize(n){return t.stripTrailingSlash(NU(this._basePath,OA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+bn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+bn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=bn;static joinWithSlash=ih;static stripTrailingSlash=xA;static \u0275fac=function(r){return new(r||t)(Q(Cn))};static \u0275prov=U({token:t,factory:()=>RU(),providedIn:"root"})}return t})();function RU(){return new pi(Q(Cn))}function NU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function OA(t){return t.replace(/\/index.html$/,"")}function MU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bv=(()=>{class t extends Cn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ih(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+bn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+bn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Vc),Q(oh,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var _t=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(_t||{}),Ie=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Ie||{}),Bt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Bt||{}),Dr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $A(t){return Gt(t)[Ve.LocaleId]}function HA(t,e,n){let r=Gt(t),i=[r[Ve.DayPeriodsFormat],r[Ve.DayPeriodsStandalone]],o=an(i,e);return an(o,n)}function qA(t,e,n){let r=Gt(t),i=[r[Ve.DaysFormat],r[Ve.DaysStandalone]],o=an(i,e);return an(o,n)}function zA(t,e,n){let r=Gt(t),i=[r[Ve.MonthsFormat],r[Ve.MonthsStandalone]],o=an(i,e);return an(o,n)}function GA(t,e){let r=Gt(t)[Ve.Eras];return an(r,e)}function Uc(t,e){let n=Gt(t);return an(n[Ve.DateFormat],e)}function jc(t,e){let n=Gt(t);return an(n[Ve.TimeFormat],e)}function Bc(t,e){let r=Gt(t)[Ve.DateTimeFormat];return an(r,e)}function $c(t,e){let n=Gt(t),r=n[Ve.NumberSymbols][e];if(typeof r>"u"){if(e===Dr.CurrencyDecimal)return n[Ve.NumberSymbols][Dr.Decimal];if(e===Dr.CurrencyGroup)return n[Ve.NumberSymbols][Dr.Group]}return r}function WA(t){if(!t[Ve.ExtraData])throw new F(2303,!1)}function KA(t){let e=Gt(t);return WA(e),(e[Ve.ExtraData][2]||[]).map(r=>typeof r=="string"?_v(r):[_v(r[0]),_v(r[1])])}function QA(t,e,n){let r=Gt(t);WA(r);let i=[r[Ve.ExtraData][0],r[Ve.ExtraData][1]],o=an(i,e)||[];return an(o,n)||[]}function an(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new F(2304,!1)}function _v(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var PU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ah={},kU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function YA(t,e,n,r){let i=$U(t);e=Tr(n,e)||e;let s=[],a;for(;e;)if(a=kU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=ZA(r,u),i=BU(i,r));let l="";return s.forEach(h=>{let p=UU(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function hh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Tr(t,e){let n=$A(t);if(ah[n]??={},ah[n][e])return ah[n][e];let r="";switch(e){case"shortDate":r=Uc(t,Bt.Short);break;case"mediumDate":r=Uc(t,Bt.Medium);break;case"longDate":r=Uc(t,Bt.Long);break;case"fullDate":r=Uc(t,Bt.Full);break;case"shortTime":r=jc(t,Bt.Short);break;case"mediumTime":r=jc(t,Bt.Medium);break;case"longTime":r=jc(t,Bt.Long);break;case"fullTime":r=jc(t,Bt.Full);break;case"short":let i=Tr(t,"shortTime"),o=Tr(t,"shortDate");r=ch(Bc(t,Bt.Short),[i,o]);break;case"medium":let s=Tr(t,"mediumTime"),a=Tr(t,"mediumDate");r=ch(Bc(t,Bt.Medium),[s,a]);break;case"long":let u=Tr(t,"longTime"),l=Tr(t,"longDate");r=ch(Bc(t,Bt.Long),[u,l]);break;case"full":let h=Tr(t,"fullTime"),p=Tr(t,"fullDate");r=ch(Bc(t,Bt.Full),[h,p]);break}return r&&(ah[n][e]=r),r}function ch(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Sn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function xU(t,e){return Sn(t,3).substring(0,e)}function $e(t,e,n=0,r=!1,i=!1){return function(o,s){let a=OU(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return xU(a,e);let u=$c(s,Dr.MinusSign);return Sn(a,e,u,r,i)}}function OU(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new F(2301,!1)}}function Ce(t,e,n=_t.Format,r=!1){return function(i,o){return LU(i,o,t,e,n,r)}}function LU(t,e,n,r,i,o){switch(n){case 2:return zA(e,i,r)[t.getMonth()];case 1:return qA(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=KA(e),h=QA(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,b]=g,M=s>=y.hours&&a>=y.minutes,A=s<b.hours||s===b.hours&&a<b.minutes;if(y.hours<b.hours){if(M&&A)return!0}else if(M||A)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return HA(e,i,r)[s<12?0:1];case 3:return GA(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new F(2302,!1)}}function uh(t){return function(e,n,r){let i=-1*r,o=$c(n,Dr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Sn(s,2,o)+Sn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Sn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Sn(s,2,o)+":"+Sn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Sn(s,2,o)+":"+Sn(Math.abs(i%60),2,o);default:throw new F(2310,!1)}}}var FU=0,dh=4;function VU(t){let e=hh(t,FU,1).getDay();return hh(t,0,1+(e<=dh?dh:dh+7)-e)}function JA(t){let e=t.getDay(),n=e===0?-3:dh-e;return hh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Iv(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=JA(n),s=VU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Sn(i,t,$c(r,Dr.MinusSign))}}function lh(t,e=!1){return function(n,r){let o=JA(n).getFullYear();return Sn(o,t,$c(r,Dr.MinusSign),e)}}var Ev={};function UU(t){if(Ev[t])return Ev[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(3,Ie.Abbreviated);break;case"GGGG":e=Ce(3,Ie.Wide);break;case"GGGGG":e=Ce(3,Ie.Narrow);break;case"y":e=$e(0,1,0,!1,!0);break;case"yy":e=$e(0,2,0,!0,!0);break;case"yyy":e=$e(0,3,0,!1,!0);break;case"yyyy":e=$e(0,4,0,!1,!0);break;case"Y":e=lh(1);break;case"YY":e=lh(2,!0);break;case"YYY":e=lh(3);break;case"YYYY":e=lh(4);break;case"M":case"L":e=$e(1,1,1);break;case"MM":case"LL":e=$e(1,2,1);break;case"MMM":e=Ce(2,Ie.Abbreviated);break;case"MMMM":e=Ce(2,Ie.Wide);break;case"MMMMM":e=Ce(2,Ie.Narrow);break;case"LLL":e=Ce(2,Ie.Abbreviated,_t.Standalone);break;case"LLLL":e=Ce(2,Ie.Wide,_t.Standalone);break;case"LLLLL":e=Ce(2,Ie.Narrow,_t.Standalone);break;case"w":e=Iv(1);break;case"ww":e=Iv(2);break;case"W":e=Iv(1,!0);break;case"d":e=$e(2,1);break;case"dd":e=$e(2,2);break;case"c":case"cc":e=$e(7,1);break;case"ccc":e=Ce(1,Ie.Abbreviated,_t.Standalone);break;case"cccc":e=Ce(1,Ie.Wide,_t.Standalone);break;case"ccccc":e=Ce(1,Ie.Narrow,_t.Standalone);break;case"cccccc":e=Ce(1,Ie.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Ce(1,Ie.Abbreviated);break;case"EEEE":e=Ce(1,Ie.Wide);break;case"EEEEE":e=Ce(1,Ie.Narrow);break;case"EEEEEE":e=Ce(1,Ie.Short);break;case"a":case"aa":case"aaa":e=Ce(0,Ie.Abbreviated);break;case"aaaa":e=Ce(0,Ie.Wide);break;case"aaaaa":e=Ce(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=Ce(0,Ie.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Ce(0,Ie.Wide,_t.Standalone,!0);break;case"bbbbb":e=Ce(0,Ie.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(0,Ie.Abbreviated,_t.Format,!0);break;case"BBBB":e=Ce(0,Ie.Wide,_t.Format,!0);break;case"BBBBB":e=Ce(0,Ie.Narrow,_t.Format,!0);break;case"h":e=$e(3,1,-12);break;case"hh":e=$e(3,2,-12);break;case"H":e=$e(3,1);break;case"HH":e=$e(3,2);break;case"m":e=$e(4,1);break;case"mm":e=$e(4,2);break;case"s":e=$e(5,1);break;case"ss":e=$e(5,2);break;case"S":e=$e(6,1);break;case"SS":e=$e(6,2);break;case"SSS":e=$e(6,3);break;case"Z":case"ZZ":case"ZZZ":e=uh(0);break;case"ZZZZZ":e=uh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=uh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=uh(2);break;default:return null}return Ev[t]=e,e}function ZA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function jU(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function BU(t,e,n){let i=t.getTimezoneOffset(),o=ZA(e,i);return jU(t,-1*(o-i))}function $U(t){if(VA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return hh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(PU))return HU(r)}let e=new Date(t);if(!VA(e))throw new F(2311,!1);return e}function HU(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function VA(t){return t instanceof Date&&!isNaN(t.valueOf())}var wv=/\s+/,UA=[],qU=(()=>{class t{_ngEl;_renderer;initialClasses=UA;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(wv):UA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(wv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(wv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(De(Tn),De(go))};static \u0275dir=Dn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var fh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},XA=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),jA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);jA(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(De($n),De(fi),De(gv))};static \u0275dir=Dn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function jA(t,e){t.context.$implicit=e.item}var zU=(()=>{class t{_viewContainer;_context=new ph;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BA(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BA(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(De($n),De(fi))};static \u0275dir=Dn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ph=class{$implicit=null;ngIf=null};function BA(t,e){if(t&&!t.createEmbeddedView)throw new F(2020,!1)}var GU=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:En.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(De(Tn),De(mv),De(go))};static \u0275dir=Dn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),WU=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(De($n))};static \u0275dir=Dn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[lo]})}return t})();function gh(t,e){return new F(2100,!1)}var Tv=class{createSubscription(e,n,r){return on(()=>e.subscribe({next:n,error:r}))}dispose(e){on(()=>e.unsubscribe())}},Dv=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},KU=new Dv,QU=new Tv,YU=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Pt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(yo(n))return KU;if(Yd(n))return QU;throw gh(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(De(xs,16))};static \u0275pipe=ks({name:"async",type:t,pure:!1})}return t})();var JU=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ZU=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw gh(t,n);return n.replace(JU,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=ks({name:"titlecase",type:t,pure:!0})}return t})();var XU="mediumDate",eR=new j(""),tR=new j(""),e2=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??XU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return YA(n,s,o||this.locale,a)}catch(s){throw gh(t,s.message)}}static \u0275fac=function(r){return new(r||t)(De(xc,16),De(eR,24),De(tR,24))};static \u0275pipe=ks({name:"date",type:t,pure:!0})}return t})();var t2=(()=>{class t{transform(n,r,i){if(n==null)return null;if(!(typeof n=="string"||Array.isArray(n)))throw gh(t,n);return n.slice(r,i)}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=ks({name:"slice",type:t,pure:!1})}return t})();var nR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mo({type:t});static \u0275inj=ni({})}return t})();function Cv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hc=class{};var Av="browser",n2="server";function tne(t){return t===Av}function nne(t){return t===n2}var rR=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new Sv(P(Le),window)})}return t})(),Sv=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(H(R({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=r2(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(pr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(H(R({},n),{left:i-s[0],top:o-s[1]}))}};function r2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var qc=class{_doc;constructor(e){this._doc=e}manager},mh=(()=>{class t extends qc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Q(Le))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),vh=new j(""),kv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof mh));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof mh);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Q(vh),Q(Fe))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Rv="ng-app-id";function iR(t){for(let e of t)e.remove()}function oR(t,e){let n=e.createElement("style");return n.textContent=t,n}function o2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Rv}="${e}"],link[${Rv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Rv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Mv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var xv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,o2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,oR);r?.forEach(i=>this.addUsage(i,this.external,Mv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(iR(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])iR(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,oR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Mv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Q(Le),Q(Vd),Q(jd,8),Q(Rc))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Nv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ov=/%COMP%/g;var aR="%COMP%",s2=`_nghost-${aR}`,a2=`_ngcontent-${aR}`,c2=!0,u2=new j("",{providedIn:"root",factory:()=>c2});function l2(t){return a2.replace(Ov,t)}function d2(t){return s2.replace(Ov,t)}function cR(t,e){return e.map(n=>n.replace(Ov,t))}var Lv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new zc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof yh?i.applyToHost(n):i instanceof Gc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Er.Emulated:o=new yh(u,l,r,this.appId,h,s,a,p,g);break;case Er.ShadowDom:return new Pv(u,l,n,r,s,a,this.nonce,p,g);default:o=new Gc(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Q(kv),Q(xv),Q(Vd),Q(u2),Q(Le),Q(Fe),Q(jd),Q(fo,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),zc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Nv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Nv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(n,r,i&En.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&En.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function sR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pv=class extends zc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=cR(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=Mv(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gc=class extends zc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?cR(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ss.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},yh=class extends Gc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=l2(h),this.hostAttr=d2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var _h=class t extends Fc{supportsDOMEvents=!0;static makeCurrent(){yv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=h2();return n==null?null:f2(n)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Cv(document.cookie,e)}},Wc=null;function h2(){return Wc=Wc||document.head.querySelector("base"),Wc?Wc.getAttribute("href"):null}function f2(t){return new URL(t,document.baseURI).pathname}var p2=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),uR=["alt","control","meta","shift"],g2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lR=(()=>{class t extends qc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=g2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uR.forEach(s=>{if(s!==i){let a=m2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Q(Le))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function y2(t,e,n){let r=R({rootComponent:t,platformRef:n?.platformRef},v2(e));return PA(r)}function v2(t){return{appProviders:[...T2,...t?.providers??[]],platformProviders:w2}}function _2(){_h.makeCurrent()}function I2(){return new en}function E2(){return hy(document),document}var w2=[{provide:Rc,useValue:Av},{provide:Ud,useValue:_2,multi:!0},{provide:Le,useFactory:E2}];var T2=[{provide:cc,useValue:"root"},{provide:en,useFactory:I2},{provide:vh,useClass:mh,multi:!0,deps:[Le]},{provide:vh,useClass:lR,multi:!0,deps:[Le]},Lv,xv,kv,{provide:so,useExisting:Lv},{provide:Hc,useClass:p2},[]];var dR=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Q(Le))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var J="primary",su=Symbol("RouteTitle"),Bv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Eo(t){return new Bv(t)}function _R(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function b2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hn(t[n],e[n]))return!1;return!0}function Hn(t,e){let n=t?$v(t):void 0,r=e?$v(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!IR(t[i],e[i]))return!1;return!0}function $v(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function IR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function ER(t){return t.length>0?t[t.length-1]:null}function br(t){return pg(t)?t:yo(t)?B(Promise.resolve(t)):z(t)}var C2={exact:TR,subset:DR},wR={exact:S2,subset:A2,ignored:()=>!0};function hR(t,e,n){return C2[n.paths](t.root,e.root,n.matrixParams)&&wR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function S2(t,e){return Hn(t,e)}function TR(t,e,n){if(!_o(t.segments,e.segments)||!wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!TR(t.children[r],e.children[r],n))return!1;return!0}function A2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IR(t[n],e[n]))}function DR(t,e,n){return bR(t,e,e.segments,n)}function bR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_o(i,n)||e.hasChildren()||!wh(i,n,r))}else if(t.segments.length===n.length){if(!_o(t.segments,n)||!wh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!DR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!_o(t.segments,i)||!wh(t.segments,i,r)||!t.children[J]?!1:bR(t.children[J],e,o,r)}}function wh(t,e,n){return e.every((r,i)=>wR[n](t[i].parameters,r.parameters))}var zn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){return M2.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Th(this)}},gi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Eo(this.parameters),this._parameterMap}toString(){return SR(this)}};function R2(t,e){return _o(t,e)&&t.every((n,r)=>Hn(n.parameters,e[r].parameters))}function _o(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function N2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var wo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new mi,providedIn:"root"})}return t})(),mi=class{parse(e){let n=new qv(e);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Kc(e.root,!0)}`,r=x2(e.queryParams),i=typeof e.fragment=="string"?`#${P2(e.fragment)}`:"";return`${n}${r}${i}`}},M2=new mi;function Th(t){return t.segments.map(e=>SR(e)).join("/")}function Kc(t,e){if(!t.hasChildren())return Th(t);if(e){let n=t.children[J]?Kc(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${Kc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=N2(t,(r,i)=>i===J?[Kc(t.children[J],!1)]:[`${i}:${Kc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${Th(t)}/${n[0]}`:`${Th(t)}/(${n.join("//")})`}}function CR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ih(t){return CR(t).replace(/%3B/gi,";")}function P2(t){return encodeURI(t)}function Hv(t){return CR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dh(t){return decodeURIComponent(t)}function fR(t){return Dh(t.replace(/\+/g,"%20"))}function SR(t){return`${Hv(t.path)}${k2(t.parameters)}`}function k2(t){return Object.entries(t).map(([e,n])=>`;${Hv(e)}=${Hv(n)}`).join("")}function x2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ih(n)}=${Ih(i)}`).join("&"):`${Ih(n)}=${Ih(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var O2=/^[^\/()?;#]+/;function Fv(t){let e=t.match(O2);return e?e[0]:""}var L2=/^[^\/()?;=#]+/;function F2(t){let e=t.match(L2);return e?e[0]:""}var V2=/^[^=?&#]+/;function U2(t){let e=t.match(V2);return e?e[0]:""}var j2=/^[^&#]+/;function B2(t){let e=t.match(j2);return e?e[0]:""}var qv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new ge(e,n)),r}parseSegment(){let e=Fv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new gi(Dh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=F2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fv(this.remaining);i&&(r=i,this.capture(r))}e[Dh(n)]=Dh(r)}parseQueryParam(e){let n=U2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=B2(this.remaining);s&&(r=s,this.capture(r))}let i=fR(n),o=fR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o??J]=Object.keys(s).length===1&&s[J]?s[J]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function AR(t){return t.segments.length>0?new ge([],{[J]:t}):t}function RR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=RR(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return $2(n)}function $2(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new ge(t.segments.concat(e.segments),e.children)}return t}function yi(t){return t instanceof zn}function NR(t,e,n=null,r=null){let i=MR(t);return PR(i,e,n,r)}function MR(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=AR(r);return e??i}function PR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vv(i,i,i,n,r);let o=H2(e);if(o.toRoot())return Vv(i,i,new ge([],{}),n,r);let s=q2(o,i,t),a=s.processChildren?Yc(s.segmentGroup,s.index,o.commands):xR(s.segmentGroup,s.index,o.commands);return Vv(i,s.segmentGroup,a,n,r)}function bh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zc(t){return typeof t=="object"&&t!=null&&t.outlets}function Vv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=kR(t,e,n);let a=AR(RR(s));return new zn(a,o,i)}function kR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=kR(o,e,n)}),new ge(t.segments,r)}var Ch=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bh(r[0]))throw new F(4003,!1);let i=r.find(Zc);if(i&&i!==ER(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function H2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ch(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ch(n,e,r)}var Fs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function q2(t,e,n){if(t.isAbsolute)return new Fs(e,!0,0);if(!n)return new Fs(e,!1,NaN);if(n.parent===null)return new Fs(n,!0,0);let r=bh(t.commands[0])?0:1,i=n.segments.length-1+r;return z2(n,i,t.numberOfDoubleDots)}function z2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function G2(t){return Zc(t[0])?t[0].outlets:{[J]:t}}function xR(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return Yc(t,e,n);let r=W2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new ge(t.segments.slice(r.pathIndex),t.children),Yc(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?zv(t,e,n):r.match?Yc(t,0,i):zv(t,e,n)}function Yc(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=G2(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=Yc(t.children[J],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function W2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Zc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gR(u,l,s))return o;r+=2}else{if(!gR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Zc(o)){let u=K2(o.outlets);return new ge(r,u)}if(i===0&&bh(n[0])){let u=t.segments[e];r.push(new gi(u.path,pR(n[0]))),i++;continue}let s=Zc(o)?o.outlets[J]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bh(a)?(r.push(new gi(s,pR(a))),i+=2):(r.push(new gi(s,{})),i++)}return new ge(r,{})}function K2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zv(new ge([],{}),0,r))}),e}function pR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gR(t,e,n){return t==n.path&&Hn(e,n.parameters)}var Vs="imperative",rt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(rt||{}),Kt=class{id;url;constructor(e,n){this.id=e,this.url=n}},vi=class extends Kt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cn=class extends Kt{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(xt||{}),js=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(js||{}),qn=class extends Kt{reason;code;type=rt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Kt{reason;code;type=rt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Bs=class extends Kt{error;target;type=rt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xc=class extends Kt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends Kt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends Kt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rh=class extends Kt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends Kt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mh=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ph=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kh=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xh=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lh=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$s=class{routerEvent;position;anchor;type=rt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},eu=class{},Hs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Q2(t){return!(t instanceof eu)&&!(t instanceof Hs)}function Y2(t,e){return t.providers&&!t._injector&&(t._injector=Ps(t.providers,e,`Route: ${t.path}`)),t._injector??e}function An(t){return t.outlet||J}function J2(t,e){let n=t.filter(r=>An(r)===e);return n.push(...t.filter(r=>An(r)!==e)),n}function Gs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Gs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new To(this.rootInjector)}},To=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Q(et))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Gv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Gv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Wv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wv(e,this._root).map(n=>n.value)}};function Gv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Gv(t,n);if(r)return r}return null}function Wv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Wv(t,n);if(r.length)return r.unshift(e),r}return[]}var Wt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var tu=class extends Vh{snapshot;constructor(e,n){super(e),this.snapshot=n,t_(this,e)}toString(){return this.snapshot.toString()}};function OR(t){let e=Z2(t),n=new xe([new gi("",{})]),r=new xe({}),i=new xe({}),o=new xe({}),s=new xe(""),a=new Wn(n,r,o,s,i,J,t,e.root);return a.snapshot=e.root,new tu(new Wt(a,[]),e)}function Z2(t){let e={},n={},r={},o=new Io([],e,r,"",n,J,t,null,{});return new nu("",new Wt(o,[]))}var Wn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[su]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&FR(i)&&(r.resolve[su]=i.title),r}var Io=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[su]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},nu=class extends Vh{url;constructor(e,n){super(n),this.url=e,t_(this,n)}toString(){return LR(this._root)}};function t_(t,e){e.value._routerState=t,e.children.forEach(n=>t_(t,n))}function LR(t){let e=t.children.length>0?` { ${t.children.map(LR).join(", ")} } `:"";return`${t.value}${e}`}function Uv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hn(e.params,n.params)||t.paramsSubject.next(n.params),b2(e.url,n.url)||t.urlSubject.next(n.url),Hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Kv(t,e){let n=Hn(t.params,e.params)&&R2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Kv(t.parent,e.parent))}function FR(t){return typeof t.title=="string"||t.title===null}var VR=new j(""),n_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new kt;deactivateEvents=new kt;attachEvents=new kt;detachEvents=new kt;routerOutletData=MA();parentContexts=P(To);location=P($n);changeDetector=P(xs);inputBinder=P(au,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Qv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Dn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[lo]})}return t})(),Qv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Wn?this.route:e===To?this.childContexts:e===VR?this.outletData:this.parent.get(e,n)}},au=new j(""),r_=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ya([r.queryParams,r.params,r.data]).pipe(St(([o,s,a],u)=>(a=R(R(R({},o),s),a),u===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=kA(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),i_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=qy({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Xd(0,"router-outlet")},dependencies:[n_],encapsulation:2})}return t})();function o_(t){let e=t.children&&t.children.map(o_),n=e?H(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=i_),n}function X2(t,e,n){let r=ru(t,e._root,n?n._root:void 0);return new tu(r,e)}function ru(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ej(t,e,n);return new Wt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ru(t,a)),s}}let r=tj(e.value),i=e.children.map(o=>ru(t,o));return new Wt(r,i)}}function ej(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ru(t,r,i);return ru(t,r)})}function tj(t){return new Wn(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var qs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},UR="ngNavigationCancelingError";function jh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=yi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jR(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function jR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UR]=!0,n.cancellationCode=e,n}function nj(t){return BR(t)&&yi(t.url)}function BR(t){return!!t&&t[UR]}var rj=(t,e,n,r)=>se(i=>(new Yv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Yv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Uv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Uv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Uv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Bh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Us=class{component;route;constructor(e,n){this.component=e,this.route=n}};function ij(t,e,n){let r=t._root,i=e?e._root:null;return Qc(r,i,n,[r.value])}function oj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Fg(t)?t:e.get(t):r}function Qc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ls(e);return t.children.forEach(s=>{sj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Jc(a,n.getContext(s),i)),i}function sj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=aj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qc(t,e,a?a.children:null,r,i):Qc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Us(a.outlet.component,s))}else s&&Jc(e,a,i),i.canActivateChecks.push(new Bh(r)),o.component?Qc(t,null,a?a.children:null,r,i):Qc(t,null,n,r,i);return i}function aj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(t.url,e.url)||!Hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kv(t,e)||!Hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Kv(t,e)}}function Jc(t,e,n){let r=Ls(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Jc(s,e.children.getContext(o),n):Jc(s,null,n):Jc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Us(e.outlet.component,i)):n.canDeactivateChecks.push(new Us(null,i)):n.canDeactivateChecks.push(new Us(null,i))}function cu(t){return typeof t=="function"}function cj(t){return typeof t=="boolean"}function uj(t){return t&&cu(t.canLoad)}function lj(t){return t&&cu(t.canActivate)}function dj(t){return t&&cu(t.canActivateChild)}function hj(t){return t&&cu(t.canDeactivate)}function fj(t){return t&&cu(t.canMatch)}function $R(t){return t instanceof ur||t?.name==="EmptyError"}var Eh=Symbol("INITIAL_VALUE");function zs(){return St(t=>Ya(t.map(e=>e.pipe(cr(1),yg(Eh)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Eh)return Eh;if(n===!1||pj(n))return n}return!0}),ft(e=>e!==Eh),cr(1)))}function pj(t){return yi(t)||t instanceof qs}function gj(t,e){return Oe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?z(H(R({},n),{guardsResult:!0})):mj(s,r,i,t).pipe(Oe(a=>a&&cj(a)?yj(r,o,t,e):z(a)),se(a=>H(R({},n),{guardsResult:a})))})}function mj(t,e,n,r){return B(t).pipe(Oe(i=>wj(i.component,i.route,n,e,r)),dr(i=>i!==!0,!0))}function yj(t,e,n,r){return B(e).pipe(Zr(i=>is(_j(i.route.parent,r),vj(i.route,r),Ej(t,i.path,n),Ij(t,i.route,n))),dr(i=>i!==!0,!0))}function vj(t,e){return t!==null&&e&&e(new Oh(t)),z(!0)}function _j(t,e){return t!==null&&e&&e(new kh(t)),z(!0)}function Ij(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>Ja(()=>{let s=Gs(e)??n,a=Ws(o,s),u=lj(a)?a.canActivate(e,t):yt(s,()=>a(e,t));return br(u).pipe(dr())}));return z(i).pipe(zs())}function Ej(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oj(s)).filter(s=>s!==null).map(s=>Ja(()=>{let a=s.guards.map(u=>{let l=Gs(s.node)??n,h=Ws(u,l),p=dj(h)?h.canActivateChild(r,t):yt(l,()=>h(r,t));return br(p).pipe(dr())});return z(a).pipe(zs())}));return z(o).pipe(zs())}function wj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let u=Gs(e)??i,l=Ws(a,u),h=hj(l)?l.canDeactivate(t,e,n,r):yt(u,()=>l(t,e,n,r));return br(h).pipe(dr())});return z(s).pipe(zs())}function Tj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=Ws(s,t),u=uj(a)?a.canLoad(e,n):yt(t,()=>a(e,n));return br(u)});return z(o).pipe(zs(),HR(r))}function HR(t){return lg(st(e=>{if(typeof e!="boolean")throw jh(t,e)}),se(e=>e===!0))}function Dj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=Ws(s,t),u=fj(a)?a.canMatch(e,n):yt(t,()=>a(e,n));return br(u)});return z(o).pipe(zs(),HR(r))}var iu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ou=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Os(t){return ns(new iu(t))}function bj(t){return ns(new F(4e3,!1))}function Cj(t){return ns(jR(!1,xt.GuardRejected))}var Jv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[J])return bj(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,o){return Sj(n,i,o).pipe(se(s=>{if(s instanceof zn)throw new ou(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ou(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new zn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function Sj(t,e,n){if(typeof t=="string")return z(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return br(yt(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Zv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Aj(t,e,n,r,i){let o=qR(t,e,n);return o.matched?(r=Y2(e,r),Dj(r,e,n,i).pipe(se(s=>s===!0?o:R({},Zv)))):z(o)}function qR(t,e,n){if(e.path==="**")return Rj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Zv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_R)(n,t,e);if(!i)return R({},Zv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Rj(t){return{matched:!0,parameters:t.length>0?ER(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function mR(t,e,n,r){return n.length>0&&Pj(t,n,r)?{segmentGroup:new ge(e,Mj(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&kj(t,n,r)?{segmentGroup:new ge(t.segments,Nj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function Nj(t,e,n,r){let i={};for(let o of n)if(Hh(t,e,o)&&!r[An(o)]){let s=new ge([],{});i[An(o)]=s}return R(R({},r),i)}function Mj(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&An(r)!==J){let i=new ge([],{});n[An(r)]=i}return n}function Pj(t,e,n){return n.some(r=>Hh(t,e,r)&&An(r)!==J)}function kj(t,e,n){return n.some(r=>Hh(t,e,r))}function Hh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function xj(t,e,n){return e.length===0&&!t.children[n]}var Xv=class{};function Oj(t,e,n,r,i,o,s="emptyOnly"){return new e_(t,e,n,r,i,s,o).recognize()}var Lj=31,e_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jv(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=mR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Wt(r,n),o=new nu("",i),s=NR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Io([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(se(r=>({children:r,rootSnapshot:n})),lr(r=>{if(r instanceof ou)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof iu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Wt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return B(o).pipe(Zr(s=>{let a=r.children[s],u=J2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),mg((s,a)=>(s.push(...a),s)),Xr(null),gg(),Oe(s=>{if(s===null)return Os(r);let a=zR(s);return Fj(a),z(a)}))}processSegment(e,n,r,i,o,s,a){return B(n).pipe(Zr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(lr(l=>{if(l instanceof iu)return z(null);throw l}))),dr(u=>!!u),lr(u=>{if($R(u))return xj(r,i,o)?z(new Xv):Os(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return An(r)!==s&&(s===J||!Hh(i,o,r))?Os(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Os(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=qR(n,i,o);if(!u)return Os(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lj&&(this.allowRedirects=!1));let y=new Io(o,l,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,yR(i),An(i),i.component??i._loadedComponent??null,i,vR(i)),b=Uh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(St(A=>this.applyRedirects.lineralizeSegments(i,A)),Oe(A=>this.processSegment(e,r,n,A.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Aj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(St(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,b=new Io(g,p,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,yR(r),An(r),r.component??r._loadedComponent??null,r,vR(r)),M=Uh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:O}=mR(n,g,y,l);if(O.length===0&&A.hasChildren())return this.processChildren(h,l,A,b).pipe(se(ne=>new Wt(b,ne)));if(l.length===0&&O.length===0)return z(new Wt(b,[]));let oe=An(r)===o;return this.processSegment(h,l,A,O,oe?J:o,!0,b).pipe(se(ne=>new Wt(b,ne instanceof Wt?[ne]:[])))}))):Os(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):Tj(e,n,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Cj(n))):z({routes:[],injector:e})}};function Fj(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function Vj(t){let e=t.value.routeConfig;return e&&e.path===""}function zR(t){let e=[],n=new Set;for(let r of t){if(!Vj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=zR(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!n.has(r))}function yR(t){return t.data||{}}function vR(t){return t.resolve||{}}function Uj(t,e,n,r,i,o){return Oe(s=>Oj(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>H(R({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function jj(t,e){return Oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of GR(u))s.add(l);let a=0;return B(s).pipe(Zr(u=>o.has(u)?Bj(u,r,t,e):(u.data=Uh(u,u.parent,t).resolve,z(void 0))),st(()=>a++),os(1),Oe(u=>a===s.size?z(n):Vt))})}function GR(t){let e=t.children.map(n=>GR(n)).flat();return[t,...e]}function Bj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!FR(i)&&(o[su]=i.title),Ja(()=>(t.data=Uh(t,t.parent,n).resolve,$j(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=R(R({},t.data),s),null)))))}function $j(t,e,n,r){let i=$v(t);if(i.length===0)return z({});let o={};return B(i).pipe(Oe(s=>Hj(t[s],e,n,r).pipe(dr(),st(a=>{if(a instanceof qs)throw jh(new mi,a);o[s]=a}))),os(1),se(()=>o),lr(s=>$R(s)?Vt:ns(s)))}function Hj(t,e,n,r){let i=Gs(e)??r,o=Ws(t,i),s=o.resolve?o.resolve(e,n):yt(i,()=>o(e,n));return br(s)}function jv(t){return St(e=>{let n=t(e);return n?B(n).pipe(se(()=>e)):z(e)})}var s_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[su]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(WR),providedIn:"root"})}return t})(),WR=(()=>{class t extends s_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Q(dR))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_i=new j("",{providedIn:"root",factory:()=>({})}),Do=new j(""),qh=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(iv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=br(yt(n,()=>r.loadComponent())).pipe(se(QR),St(YR),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Za(()=>{this.componentLoaders.delete(r)})),o=new ts(i,()=>new Ze).pipe(es());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KR(r,this.compiler,n,this.onLoadEndListener).pipe(Za(()=>{this.childrenLoaders.delete(r)})),s=new ts(o,()=>new Ze).pipe(es());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KR(t,e,n,r){return br(yt(n,()=>t.loadChildren())).pipe(se(QR),St(YR),Oe(i=>i instanceof Qd||Array.isArray(i)?z(i):B(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Do,[],{optional:!0,self:!0}).flat()),{routes:s.map(o_),injector:o}}))}function qj(t){return t&&typeof t=="object"&&"default"in t}function QR(t){return qj(t)?t.default:t}function YR(t){return z(t)}var zh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(zj),providedIn:"root"})}return t})(),zj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a_=new j(""),c_=new j("");function JR(t,e,n){let r=t.get(c_),i=t.get(Le);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),Gj(t)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&yt(t,()=>u({transition:a,from:e,to:n})),s}function Gj(t){return new Promise(e=>{by({read:()=>setTimeout(e)},{injector:t})})}var u_=new j(""),Gh=(()=>{class t{currentNavigation=di(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ze;transitionAbortWithErrorSubject=new Ze;configLoader=P(qh);environmentInjector=P(et);destroyRef=P(_n);urlSerializer=P(wo);rootContexts=P(To);location=P(pi);inputBindingEnabled=P(au,{optional:!0})!==null;titleStrategy=P(s_);options=P(_i,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(zh);createViewTransition=P(a_,{optional:!0});navigationErrorHandler=P(u_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Mh(i)),r=i=>this.events.next(new Ph(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;on(()=>{this.transitions?.next(H(R({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new xe(null),this.transitions.pipe(ft(r=>r!==null),St(r=>{let i=!1;return z(r).pipe(St(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),Vt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?H(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.rawUrl),"",js.IgnoredSameUrlNavigation)),o.resolve(!1),Vt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(St(u=>(this.events.next(new vi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Vt:Promise.resolve(u))),Uj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Xc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new vi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=OR(this.rootComponentType).snapshot;return this.currentTransition=r=H(R({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:H(R({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),z(r)}else return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",js.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Vt}),st(o=>{let s=new Sh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),se(o=>(this.currentTransition=r=H(R({},o),{guards:ij(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),gj(this.environmentInjector,o=>this.events.next(o)),st(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw jh(this.urlSerializer,o.guardsResult);let s=new Ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ft(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",xt.GuardRejected),!1)),jv(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(st(s=>{let a=new Rh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),St(s=>{let a=!1;return z(s).pipe(jj(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",xt.NoDataFromResolver)}}))}),st(s=>{let a=new Nh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),jv(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Gs(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(st(h=>{a.component=h}),se(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Ya(s(o.targetSnapshot.root)).pipe(Xr(null),cr(1))}),jv(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?B(a).pipe(se(()=>r)):z(r)}),se(o=>{let s=X2(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=H(R({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),st(()=>{this.events.next(new eu)}),rj(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),cr(1),Dl(new de(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ft(()=>!i&&!r.targetRouterState),st(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",xt.Aborted)}))),st({next:o=>{i=!0,this.lastSuccessfulNavigation=on(this.currentNavigation),this.events.next(new cn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Dl(this.transitionAbortWithErrorSubject.pipe(st(o=>{throw o}))),Za(()=>{i||this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),lr(o=>{if(this.destroyed)return r.resolve(!1),Vt;if(i=!0,BR(o))this.events.next(new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),nj(o)?this.events.next(new Hs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Bs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=yt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof qs){let{message:u,cancellationCode:l}=jh(this.urlSerializer,a);this.events.next(new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Hs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Vt}))}))}cancelNavigationTransition(n,r,i){let o=new qn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=on(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wj(t){return t!==Vs}var ZR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(Kj),providedIn:"root"})}return t})(),$h=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Kj=(()=>{class t extends $h{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Fd(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XR=(()=>{class t{urlSerializer=P(wo);options=P(_i,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(pi);urlHandlingStrategy=P(zh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof zn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=OR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(Qj),providedIn:"root"})}return t})(),Qj=(()=>{class t extends XR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof vi?this.updateStateMemento():n instanceof Gn?this.commitTransition(r):n instanceof Xc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof eu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof qn&&n.code!==xt.SupersededByNewNavigation&&n.code!==xt.Redirect?this.restoreHistory(r):n instanceof Bs?this.restoreHistory(r,!0):n instanceof cn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=R(R({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=R(R({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Fd(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wh(t,e){t.events.pipe(ft(n=>n instanceof cn||n instanceof qn||n instanceof Bs||n instanceof Gn),se(n=>n instanceof cn||n instanceof Gn?0:(n instanceof qn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?2:1),ft(n=>n!==2),cr(1)).subscribe(()=>{e()})}var Yj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(zy);stateManager=P(XR);options=P(_i,{optional:!0})||{};pendingTasks=P(Ir);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Gh);urlSerializer=P(wo);location=P(pi);urlHandlingStrategy=P(zh);injector=P(et);_events=new Ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(ZR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Do,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(au,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=on(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cn)this.navigated=!0;else if(r instanceof Hs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=R({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Wj(i.source)},s);this.scheduleNavigation(a,Vs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Q2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=R({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Pt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return on(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(o_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=MR(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return PR(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=yi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vs,null,r)}navigate(n,r={skipLocationChange:!1}){return Zj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(pr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=R({},Yj):r===!1?i=R({},Jj):i=r,yi(n))return hR(this.currentUrlTree,n,i);let o=this.parseUrl(n);return hR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Wh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}var e0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=di(null);get href(){return on(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ze;applicationErrorHandler=P(Pt);options=P(_i,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new nh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof cn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(yi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:yi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(De(Kn),De(Wn),Ac("tabindex"),De(go),De(Tn),De(Cn))};static \u0275dir=Dn({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&eh("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Zd("href",i.reactiveHref(),my)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lc],replaceUrl:[2,"replaceUrl","replaceUrl",Lc],routerLink:"routerLink"},features:[lo]})}return t})();var uu=class{};var t0=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ft(n=>n instanceof cn),Zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ps(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return B(i).pipe(rs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=z(null);let o=i.pipe(Oe(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return B([o,s]).pipe(rs())}else return o})}static \u0275fac=function(r){return new(r||t)(Q(Kn),Q(et),Q(uu),Q(qh))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),n0=new j(""),Xj=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Vs;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof cn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Gn&&n.code===js.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof $s))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new $s(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ly()};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function eB(t,...e){return ri([{provide:Do,multi:!0,useValue:t},[],{provide:Wn,useFactory:r0,deps:[Kn]},{provide:Pc,multi:!0,useFactory:i0},e.map(n=>n.\u0275providers)])}function r0(t){return t.routerState.root}function lu(t,e){return{\u0275kind:t,\u0275providers:e}}function i0(){let t=P(Rt);return e=>{let n=t.get(vo);if(e!==n.components[0])return;let r=t.get(Kn),i=t.get(o0);t.get(d_)===1&&r.initialNavigation(),t.get(c0,null,{optional:!0})?.setUpPreloading(),t.get(n0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var o0=new j("",{factory:()=>new Ze}),d_=new j("",{providedIn:"root",factory:()=>1});function s0(){let t=[{provide:fy,useValue:!0},{provide:d_,useValue:0},Jd(()=>{let e=P(Rt);return e.get(vv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Kn),o=e.get(o0);Wh(i,()=>{r(!0)}),e.get(Gh).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))})];return lu(2,t)}function a0(){let t=[Jd(()=>{P(Kn).setUpLocationChangeListener()}),{provide:d_,useValue:2}];return lu(3,t)}var c0=new j("");function u0(t){return lu(0,[{provide:c0,useExisting:t0},{provide:uu,useExisting:t}])}function l0(){return lu(8,[r_,{provide:au,useExisting:r_}])}function d0(t){po("NgRouterViewTransitions");let e=[{provide:a_,useValue:JR},{provide:c_,useValue:R({skipNextTransition:!!t?.skipInitialTransition},t)}];return lu(9,e)}var h0=[pi,{provide:wo,useClass:mi},Kn,To,{provide:Wn,useFactory:r0,deps:[Kn]},qh,[]],tB=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[h0,[],{provide:Do,multi:!0,useValue:n},[],r?.errorHandler?{provide:u_,useValue:r.errorHandler}:[],{provide:_i,useValue:r||{}},r?.useHash?rB():iB(),nB(),r?.preloadingStrategy?u0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?oB(r):[],r?.bindToComponentInputs?l0().\u0275providers:[],r?.enableViewTransitions?d0().\u0275providers:[],sB()]}}static forChild(n){return{ngModule:t,providers:[{provide:Do,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=mo({type:t});static \u0275inj=ni({})}return t})();function nB(){return{provide:n0,useFactory:()=>{let t=P(rR),e=P(Fe),n=P(_i),r=P(Gh),i=P(wo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Xj(i,r,t,e,n)}}}function rB(){return{provide:Cn,useClass:bv}}function iB(){return{provide:Cn,useClass:sh}}function oB(t){return[t.initialNavigation==="disabled"?a0().\u0275providers:[],t.initialNavigation==="enabledBlocking"?s0().\u0275providers:[]]}var l_=new j("");function sB(){return[{provide:l_,useFactory:i0},{provide:Pc,multi:!0,useExisting:l_}]}var f0=()=>{};var m0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new f_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},f_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cB=function(t){let e=m0(t);return y0.encodeByteArray(e,!0)},hu=function(t){return cB(t).replace(/\./g,"")},Qh=function(t){try{return y0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uB=()=>v0().__FIREBASE_DEFAULTS__,lB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Qh(t[1]);return e&&JSON.parse(e)},Yh=()=>{try{return f0()||uB()||lB()||dB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g_=t=>Yh()?.emulatorHosts?.[t],Jh=t=>{let e=g_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m_=()=>Yh()?.config,y_=t=>Yh()?.[`_${t}`];var Kh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qn(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ks(t){return(await fetch(t,{credentials:"include"})).ok}function Zh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=R({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hu(JSON.stringify(n)),hu(JSON.stringify(s)),""].join(".")}var du={};function hB(){let t={prod:[],emulator:[]};for(let e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function fB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var p0=!1;function Qs(t,e){if(typeof window>"u"||typeof document>"u"||!Qn(window.location.host)||du[t]===e||du[t]||p0)return;du[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=hB().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{p0=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=fB(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),A=document.getElementById(M)||document.createElement("a"),O=n("preprendIcon"),oe=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let ne=g.element;a(ne),h(A,M);let we=l();u(oe,O),ne.append(oe,b,A,we),document.body.appendChild(ne)}o?(b.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function pB(){let t=Yh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xh(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w0(){let t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T0(){return!pB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fu(){try{return typeof indexedDB=="object"}catch{return!1}}function ef(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function D0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var gB="FirebaseError",it=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}},Qt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new it(i,a,r)}};function mB(t,e){return t.replace(yB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yB=/\{\$([^}]+)}/g;function b0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function un(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(g0(o)&&g0(s)){if(!un(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function g0(t){return t!==null&&typeof t=="object"}function pu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ys(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Js(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function C0(t,e){let n=new p_(t,e);return n.subscribe.bind(n)}var p_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h_),i.error===void 0&&(i.error=h_),i.complete===void 0&&(i.complete=h_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function h_(){}var _B=1e3,IB=2,EB=14400*1e3,wB=.5;function v_(t,e=_B,n=IB){let r=e*Math.pow(n,t),i=Math.round(wB*r*(Math.random()-.5)*2);return Math.min(EB,r+i)}function _e(t){return t&&t._delegate?t._delegate:t}var He=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bo="[DEFAULT]";var __=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Kh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DB(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TB(t){return t===bo?void 0:t}function DB(t){return t.instantiationMode==="EAGER"}var tf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new __(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bB=[],ae=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ae||{}),CB={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},SB=ae.INFO,AB={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},RB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yn=class{constructor(e){this.name=e,this._logLevel=SB,this._logHandler=RB,this._userLogHandler=null,bB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var NB=(t,e)=>e.some(n=>t instanceof n),S0,A0;function MB(){return S0||(S0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PB(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var R0=new WeakMap,E_=new WeakMap,N0=new WeakMap,I_=new WeakMap,T_=new WeakMap;function kB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&R0.set(n,t)}).catch(()=>{}),T_.set(e,t),e}function xB(t){if(E_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});E_.set(t,e)}var w_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M0(t){w_=t(w_)}function OB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(nf(this),e,...n);return N0.set(r,e.sort?e.sort():[e]),Jn(r)}:PB().includes(t)?function(...e){return t.apply(nf(this),e),Jn(R0.get(this))}:function(...e){return Jn(t.apply(nf(this),e))}}function LB(t){return typeof t=="function"?OB(t):(t instanceof IDBTransaction&&xB(t),NB(t,MB())?new Proxy(t,w_):t)}function Jn(t){if(t instanceof IDBRequest)return kB(t);if(I_.has(t))return I_.get(t);let e=LB(t);return e!==t&&(I_.set(t,e),T_.set(e,t)),e}var nf=t=>T_.get(t);function rf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Jn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Jn(s.result),u.oldVersion,u.newVersion,Jn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var FB=["get","getKey","getAll","getAllKeys","count"],VB=["put","add","delete","clear"],D_=new Map;function P0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D_.get(e))return D_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FB.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return D_.set(e,o),o}M0(t=>H(R({},t),{get:(e,n,r)=>P0(e,n)||t.get(e,n,r),has:(e,n)=>!!P0(e,n)||t.has(e,n)}));var C_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UB(t){return t.getComponent()?.type==="VERSION"}var S_="@firebase/app",k0="0.14.6";var Cr=new Yn("@firebase/app"),jB="@firebase/app-compat",BB="@firebase/analytics-compat",$B="@firebase/analytics",HB="@firebase/app-check-compat",qB="@firebase/app-check",zB="@firebase/auth",GB="@firebase/auth-compat",WB="@firebase/database",KB="@firebase/data-connect",QB="@firebase/database-compat",YB="@firebase/functions",JB="@firebase/functions-compat",ZB="@firebase/installations",XB="@firebase/installations-compat",e$="@firebase/messaging",t$="@firebase/messaging-compat",n$="@firebase/performance",r$="@firebase/performance-compat",i$="@firebase/remote-config",o$="@firebase/remote-config-compat",s$="@firebase/storage",a$="@firebase/storage-compat",c$="@firebase/firestore",u$="@firebase/ai",l$="@firebase/firestore-compat",d$="firebase",h$="12.6.0";var A_="[DEFAULT]",f$={[S_]:"fire-core",[jB]:"fire-core-compat",[$B]:"fire-analytics",[BB]:"fire-analytics-compat",[qB]:"fire-app-check",[HB]:"fire-app-check-compat",[zB]:"fire-auth",[GB]:"fire-auth-compat",[WB]:"fire-rtdb",[KB]:"fire-data-connect",[QB]:"fire-rtdb-compat",[YB]:"fire-fn",[JB]:"fire-fn-compat",[ZB]:"fire-iid",[XB]:"fire-iid-compat",[e$]:"fire-fcm",[t$]:"fire-fcm-compat",[n$]:"fire-perf",[r$]:"fire-perf-compat",[i$]:"fire-rc",[o$]:"fire-rc-compat",[s$]:"fire-gcs",[a$]:"fire-gcs-compat",[c$]:"fire-fst",[l$]:"fire-fst-compat",[u$]:"fire-vertex","fire-js":"fire-js",[d$]:"fire-js-all"};var of=new Map,p$=new Map,R_=new Map;function x0(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function It(t){let e=t.name;if(R_.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;R_.set(e,t);for(let n of of.values())x0(n,t);for(let n of p$.values())x0(n,t);return!0}function Yt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Et(t){return t==null?!1:t.settings!==void 0}var g$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Qt("app","Firebase",g$);var N_=class{constructor(e,n,r){this._isDeleted=!1,this._options=R({},e),this._config=R({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new He("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}};var Zn=h$;function k_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=R({name:A_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=m_()),!n)throw Ii.create("no-options");let o=of.get(i);if(o){if(un(n,o.options)&&un(r,o.config))return o;throw Ii.create("duplicate-app",{appName:i})}let s=new tf(i);for(let u of R_.values())s.addComponent(u);let a=new N_(n,r,s);return of.set(i,a),a}function Sr(t=A_){let e=of.get(t);if(!e&&t===A_&&m_())return k_();if(!e)throw Ii.create("no-app",{appName:t});return e}function qe(t,e,n){let r=f$[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(s.join(" "));return}It(new He(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var m$="firebase-heartbeat-database",y$=1,gu="firebase-heartbeat-store",b_=null;function V0(){return b_||(b_=rf(m$,y$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),b_}async function v$(t){try{let n=(await V0()).transaction(gu),r=await n.objectStore(gu).get(U0(t));return await n.done,r}catch(e){if(e instanceof it)Cr.warn(e.message);else{let n=Ii.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}}async function O0(t,e){try{let r=(await V0()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,U0(t)),await r.done}catch(n){if(n instanceof it)Cr.warn(n.message);else{let r=Ii.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}}function U0(t){return`${t.name}!${t.options.appId}`}var _$=1024,I$=30,M_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new P_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>I$){let i=w$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=L0(),{heartbeatsToSend:n,unsentEntries:r}=E$(this._heartbeatsCache.heartbeats),i=hu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Cr.warn(e),""}}};function L0(){return new Date().toISOString().substring(0,10)}function E$(t,e=_$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),F0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),F0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var P_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fu()?ef().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await v$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return O0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return O0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function F0(t){return hu(JSON.stringify({version:2,heartbeats:t})).length}function w$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function T$(t){It(new He("platform-logger",e=>new C_(e),"PRIVATE")),It(new He("heartbeat",e=>new M_(e),"PRIVATE")),qe(S_,k0,t),qe(S_,k0,"esm2020"),qe("fire-js","")}T$("");function tN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nN=tN,rN=new Qt("auth","Firebase",tN());var df=new Yn("@firebase/auth");function D$(t,...e){df.logLevel<=ae.WARN&&df.warn(`Auth (${Zn}): ${t}`,...e)}function af(t,...e){df.logLevel<=ae.ERROR&&df.error(`Auth (${Zn}): ${t}`,...e)}function er(t,...e){throw iI(t,...e)}function Co(t,...e){return iI(t,...e)}function iN(t,e,n){let r=H(R({},nN()),{[e]:n});return new Qt("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return iN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rN.create(t,...e)}function K(t,e,...n){if(!t)throw iI(e,...n)}function Ar(t){let e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function Ti(t,e){t||Ar(e)}function F_(){return typeof self<"u"&&self.location?.href||""}function b$(){return j0()==="http:"||j0()==="https:"}function j0(){return typeof self<"u"&&self.location?.protocol||null}function C$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b$()||Xh()||"connection"in navigator)?navigator.onLine:!0}function S$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var So=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=_0()||E0()}get(){return C$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function oI(t,e){Ti(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var A$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var R$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N$=new So(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?H(R({},e),{tenantId:t.tenantId}):e}async function Mr(t,e,n,r,i={}){return oN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=pu(R({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=R({method:e,headers:u},o);return I0()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Qn(t.emulatorConfig.host)&&(l.credentials="include"),hf.fetch()(await sN(t,t.config.apiHost,n,a),l)})}async function oN(t,e,n){t._canInitEmulator=!1;let r=R(R({},A$),e);try{let i=new V_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw sf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw sf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw sf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw iN(t,h,l);er(t,h)}}catch(i){if(i instanceof it)throw i;er(t,"network-request-failed",{message:String(i)})}}async function Tu(t,e,n,r,i={}){let o=await Mr(t,e,n,r,i);return"mfaPendingCredential"in o&&er(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function sN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?oI(t.config,i):`${t.config.apiScheme}://${i}`;return R$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function M$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var V_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Co(this.auth,"network-request-failed")),N$.get())})}};function sf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Co(t,e,r);return i.customData._tokenResponse=n,i}function B0(t){return t!==void 0&&t.enterprise!==void 0}var U_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function P$(t,e){return Mr(t,"GET","/v2/recaptchaConfig",Di(t,e))}async function k$(t,e){return Mr(t,"POST","/v1/accounts:delete",e)}async function ff(t,e){return Mr(t,"POST","/v1/accounts:lookup",e)}function yu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aN(t,e=!1){let n=_e(t),r=await n.getIdToken(e),i=sI(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yu(x_(i.auth_time)),issuedAtTime:yu(x_(i.iat)),expirationTime:yu(x_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function x_(t){return Number(t)*1e3}function sI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{let i=Qh(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $0(t){let e=sI(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof it&&x$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var j_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var _u=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function pf(t){let e=t.auth,n=await t.getIdToken(),r=await Zs(t,ff(e,{idToken:n}));K(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?uN(i.providerUserInfo):[],s=O$(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _u(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,h)}async function cN(t){let e=_e(t);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uN(t){return t.map(r=>{var i=r,{providerId:e}=i,n=ig(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function L$(t,e){let n=await oN(t,{},async()=>{let r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await sN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Qn(t.emulatorConfig.host)&&(u.credentials="include"),hf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F$(t,e){return Mr(t,"POST","/v2/accounts:revokeToken",Di(t,e))}var vu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=$0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await L$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ar("not implemented")}};function Ei(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var wi=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=ig(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _u(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aN(this,e)}reload(){return cN(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>R({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(H(R({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Et(this.auth.app))return Promise.reject(Nr(this.auth));let e=await this.getIdToken();return await Zs(this,k$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return H(R({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>R({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:b,stsTokenManager:M}=n;K(p&&M,e,"internal-error");let A=vu.fromJSON(this.name,M);K(typeof p=="string",e,"internal-error"),Ei(r,e.name),Ei(i,e.name),K(typeof g=="boolean",e,"internal-error"),K(typeof y=="boolean",e,"internal-error"),Ei(o,e.name),Ei(s,e.name),Ei(a,e.name),Ei(u,e.name),Ei(l,e.name),Ei(h,e.name);let O=new t({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:A,createdAt:l,lastLoginAt:h});return b&&Array.isArray(b)&&(O.providerData=b.map(oe=>R({},oe))),u&&(O._redirectEventId=u),O}static async _fromIdTokenResponse(e,n,r=!1){let i=new vu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?uN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _u(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var H0=new Map;function Rr(t){Ti(t instanceof Function,"Expected a class definition");let e=H0.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H0.set(t,e),e)}var V$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),B_=V$;function cf(t,e,n){return`firebase:${t}:${e}:${n}`}var gf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=cf(this.userKey,i.apiKey,o),this.fullPersistenceKey=cf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await ff(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Rr(B_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Rr(B_),s=cf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await ff(e,{idToken:h}).catch(()=>{});if(!g)break;p=await wi._fromGetAccountInfoResponse(e,g,h)}else p=wi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function q0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gN(e))return"Blackberry";if(mN(e))return"Webos";if(dN(e))return"Safari";if((e.includes("chrome/")||hN(e))&&!e.includes("edge/"))return"Chrome";if(pN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lN(t=ut()){return/firefox\//i.test(t)}function dN(t=ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hN(t=ut()){return/crios\//i.test(t)}function fN(t=ut()){return/iemobile/i.test(t)}function pN(t=ut()){return/android/i.test(t)}function gN(t=ut()){return/blackberry/i.test(t)}function mN(t=ut()){return/webos/i.test(t)}function aI(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U$(t=ut()){return aI(t)&&!!window.navigator?.standalone}function j$(){return w0()&&document.documentMode===10}function yN(t=ut()){return aI(t)||pN(t)||mN(t)||gN(t)||/windows phone/i.test(t)||fN(t)}function vN(t,e=[]){let n;switch(t){case"Browser":n=q0(ut());break;case"Worker":n=`${q0(ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zn}/${r}`}var $_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function B$(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Di(t,e))}var $$=6,H_=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var q_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mf(this),this.idTokenSubscription=new mf(this),this.beforeStateQueue=new $_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await ff(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Et(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Et(this.app))return Promise.reject(Nr(this));let n=e?_e(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Et(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Et(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await B$(this),n=new H_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Rr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await gf.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D$(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Ro(t){return _e(t)}var mf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=C0(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H$(t){Tf=t}function _N(t){return Tf.loadJS(t)}function q$(){return Tf.recaptchaEnterpriseScript}function z$(){return Tf.gapiScript}function IN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var z_=class{constructor(){this.enterprise=new G_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},G_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var G$="recaptcha-enterprise",EN="NO_RECAPTCHA",W_=class{constructor(e){this.type=G$,this.auth=Ro(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{P$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new U_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;B0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(EN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&B0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=q$();u.length!==0&&(u+=a),_N(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function mu(t,e,n,r=!1,i=!1){let o=new W_(t),s;if(i)s=EN;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let a=R({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function K_(t,e,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await mu(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await mu(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await mu(t,e,n);return r(t,o).catch(async s=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await mu(t,e,n,!1,!0);return r(t,a)}return Promise.reject(s)})}else{let o=await mu(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}function wN(t,e){let n=Yt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(un(o,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function W$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function TN(t,e,n){let r=Ro(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=DN(e),{host:s,port:a}=K$(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(un(l,r.config.emulator)&&un(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qn(s)?(Ks(`${o}//${s}${u}`),Qs("Auth",!0)):i||Q$()}function DN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K$(t){let e=DN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:z0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:z0(s)}}}function z0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Q$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Iu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}};async function Y$(t,e){return Mr(t,"POST","/v1/accounts:signUp",e)}async function J$(t,e){return Tu(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}async function Z$(t,e){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function X$(t,e){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}var Eu=class t extends Iu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,n,"signInWithPassword",J$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Z$(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,r,"signUpPassword",Y$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return X$(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function O_(t,e){return Tu(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}function eH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tH(t){let e=Ys(Js(t)).link,n=e?Ys(Js(e)).deep_link_id:null,r=Ys(Js(t)).deep_link_id;return(r?Ys(Js(r)).link:null)||r||n||e||t}var yf=class t{constructor(e){let n=Ys(Js(e)),r=n.apiKey??null,i=n.oobCode??null,o=eH(n.mode??null);K(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){let n=tH(e);try{return new t(n)}catch{return null}}};var bN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Eu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=yf.parseLink(r);return K(i,"argument-error"),Eu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),vf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Q_=class extends vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function nH(t,e){return Tu(t,"POST","/v1/accounts:signUp",Di(t,e))}var Xs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await wi._fromIdTokenResponse(e,r,i),s=G0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=G0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function G0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Y_=class t extends it{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function CN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Y_._fromErrorAndOperation(t,o,e,r):o})}async function rH(t,e,n=!1){let r=await Zs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}async function iH(t,e,n=!1){let{auth:r}=t;if(Et(r.app))return Promise.reject(Nr(r));let i="reauthenticate";try{let o=await Zs(t,CN(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=sI(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&er(r,"user-mismatch"),o}}async function SN(t,e,n=!1){if(Et(t.app))return Promise.reject(Nr(t));let r="signIn",i=await CN(t,r,e),o=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function AN(t,e){return SN(Ro(t),e)}async function RN(t){let e=Ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Du(t,e,n){if(Et(t.app))return Promise.reject(Nr(t));let r=Ro(t),s=await K_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&RN(t),u}),a=await Xs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Df(t,e,n){return Et(t.app)?Promise.reject(Nr(t)):AN(_e(t),bN.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RN(t),r})}async function oH(t,e){return Mr(t,"POST","/v1/accounts:update",e)}async function bu(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let r=_e(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Zs(r,oH(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;let a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function cI(t,e){return _e(t).setPersistence(e)}function NN(t,e,n,r){return _e(t).onIdTokenChanged(e,n,r)}function MN(t,e,n){return _e(t).beforeAuthStateChanged(e,n)}function uI(t,e,n,r){return _e(t).onAuthStateChanged(e,n,r)}function ea(t){return _e(t).signOut()}async function bf(t){return _e(t).delete()}var _f="__sak";var If=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var sH=1e3,aH=10,cH=(()=>{class t extends If{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);j$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,aH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},sH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),Cf=cH;var uH=(()=>{class t extends If{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),lI=uH;function lH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var dH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await lH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function PN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var J_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=PN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Xn(){return window}function hH(t){Xn().location.href=t}function kN(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function fH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){return navigator?.serviceWorker?.controller||null}function gH(){return kN()?self:null}var xN="firebaseLocalStorageDb",mH=1,Ef="firebaseLocalStorage",ON="fbase_key",Ao=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Sf(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function yH(){let t=indexedDB.deleteDatabase(xN);return new Ao(t).toPromise()}function Z_(){let t=indexedDB.open(xN,mH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ef,{keyPath:ON})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Ef)?e(r):(r.close(),await yH(),e(await Z_()))})})}async function W0(t,e,n){let r=Sf(t,!0).put({[ON]:e,value:n});return new Ao(r).toPromise()}async function vH(t,e){let n=Sf(t,!1).get(e),r=await new Ao(n).toPromise();return r===void 0?null:r.value}function K0(t,e){let n=Sf(t,!0).delete(e);return new Ao(n).toPromise()}var _H=800,IH=3,EH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z_(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>IH)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dH._getInstance(gH()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fH(),!this.activeServiceWorker)return;this.sender=new J_(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await Z_();return await W0(n,_f,"1"),await K0(n,_f),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>W0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>vH(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Sf(o,!1).getAll();return new Ao(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),LN=EH;var Zre=IN("rcb"),Xre=new So(3e4,6e4);function wH(t,e){return e?Rr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var wu=class extends Iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return O_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return O_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return O_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function TH(t){return SN(t.auth,new wu(t),t.bypassAuthState)}function DH(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),iH(n,new wu(t),t.bypassAuthState)}async function bH(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),rH(n,new wu(t),t.bypassAuthState)}var X_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TH;case"linkViaPopup":case"linkViaRedirect":return bH;case"reauthViaPopup":case"reauthViaRedirect":return DH;default:er(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var eie=new So(2e3,1e4);var CH="pendingRedirect",uf=new Map,eI=class extends X_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{let r=await SH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function SH(t,e){let n=NH(e),r=RH(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function AH(t,e){uf.set(t._key(),e)}function RH(t){return Rr(t._redirectPersistence)}function NH(t){return cf(CH,t.config.apiKey,t.name)}async function MH(t,e,n=!1){if(Et(t.app))return Promise.reject(Nr(t));let r=Ro(t),i=wH(r,e),s=await new eI(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var PH=600*1e3,tI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!FN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Co(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}};function Q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FN(t);default:return!1}}async function xH(t,e={}){return Mr(t,"GET","/v1/projects",e)}var OH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LH=/^https?/;async function FH(t){if(t.config.emulator)return;let{authorizedDomains:e}=await xH(t);for(let n of e)try{if(VH(n))return}catch{}er(t,"unauthorized-domain")}function VH(t){let e=F_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!LH.test(n))return!1;if(OH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var UH=new So(3e4,6e4);function Y0(){let t=Xn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jH(t){return new Promise((e,n)=>{function r(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(Co(t,"network-request-failed"))},timeout:UH.get()})}if(Xn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xn().gapi?.load)r();else{let i=IN("iframefcb");return Xn()[i]=()=>{gapi.load?r():n(Co(t,"network-request-failed"))},_N(`${z$()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw lf=null,e})}var lf=null;function BH(t){return lf=lf||jH(t),lf}var $H=new So(5e3,15e3),HH="__/auth/iframe",qH="emulator/auth/iframe",zH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WH(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?oI(e,qH):`https://${t.config.authDomain}/${HH}`,r={apiKey:e.apiKey,appName:t.name,v:Zn},i=GH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pu(r).slice(1)}`}async function KH(t){let e=await BH(t),n=Xn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:WH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Co(t,"network-request-failed"),a=Xn().setTimeout(()=>{o(s)},$H.get());function u(){Xn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var QH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YH=500,JH=600,ZH="_blank",XH="http://localhost",wf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function eq(t,e,n,r=YH,i=JH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=H(R({},QH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ut().toLowerCase();n&&(a=hN(l)?ZH:n),lN(l)&&(e=e||XH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,b])=>`${g}${y}=${b},`,"");if(U$(l)&&a!=="_self")return tq(e||"",a),new wf(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new wf(p)}function tq(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nq="__/auth/handler",rq="emulator/auth/handler",iq=encodeURIComponent("fac");async function J0(t,e,n,r,i,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zn,eventId:i};if(e instanceof vf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",b0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Q_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await t._getAppCheckToken(),l=u?`#${iq}=${encodeURIComponent(u)}`:"";return`${oq(t)}?${pu(a).slice(1)}${l}`}function oq({config:t}){return t.emulator?oI(t,rq):`https://${t.authDomain}/${nq}`}var L_="webStorageSupport",nI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lI,this._completeRedirectFn=MH,this._overrideRedirectResult=AH}async _openPopup(e,n,r,i){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await J0(e,n,r,F_(),i);return eq(e,o,PN())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await J0(e,n,r,F_(),i);return hH(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await KH(e),r=new tI(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L_,{type:L_},i=>{let o=i?.[0]?.[L_];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yN()||dN()||aI()}},VN=nI;var Z0="@firebase/auth",X0="1.11.1";var rI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aq(t){It(new He("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vN(t)},l=new q_(r,i,o,u);return W$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),It(new He("auth-internal",e=>{let n=Ro(e.getProvider("auth").getImmediate());return(r=>new rI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(Z0,X0,sq(t)),qe(Z0,X0,"esm2020")}var cq=300,uq=y_("authIdTokenMaxAge")||cq,eN=null,lq=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uq)return;let i=n?.token;eN!==i&&(eN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dI(t=Sr()){let e=Yt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=wN(t,{popupRedirectResolver:VN,persistence:[LN,Cf,lI]}),r=y_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=lq(o.toString());MN(n,s,()=>s(n.currentUser)),NN(n,a=>s(a))}}let i=g_("auth");return i&&TN(n,`http://${i}`),n}function dq(){return document.getElementsByTagName("head")?.[0]??document}H$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Co("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",dq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aq("Browser");var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jN={};var Pr,hI;(function(){var t;function e(w,v){function I(){}I.prototype=v.prototype,w.F=v.prototype,w.prototype=new I,w.prototype.constructor=w,w.D=function(T,E,C){for(var _=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)_[Ft-2]=arguments[Ft];return v.prototype[E].apply(T,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,I){I||(I=0);let T=Array(16);if(typeof v=="string")for(var E=0;E<16;++E)T[E]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(E=0;E<16;++E)T[E]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=w.g[0],I=w.g[1],E=w.g[2];let C=w.g[3],_;_=v+(C^I&(E^C))+T[0]+3614090360&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(E^v&(I^E))+T[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=E+(I^C&(v^I))+T[2]+606105819&4294967295,E=C+(_<<17&4294967295|_>>>15),_=I+(v^E&(C^v))+T[3]+3250441966&4294967295,I=E+(_<<22&4294967295|_>>>10),_=v+(C^I&(E^C))+T[4]+4118548399&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(E^v&(I^E))+T[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=E+(I^C&(v^I))+T[6]+2821735955&4294967295,E=C+(_<<17&4294967295|_>>>15),_=I+(v^E&(C^v))+T[7]+4249261313&4294967295,I=E+(_<<22&4294967295|_>>>10),_=v+(C^I&(E^C))+T[8]+1770035416&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(E^v&(I^E))+T[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=E+(I^C&(v^I))+T[10]+4294925233&4294967295,E=C+(_<<17&4294967295|_>>>15),_=I+(v^E&(C^v))+T[11]+2304563134&4294967295,I=E+(_<<22&4294967295|_>>>10),_=v+(C^I&(E^C))+T[12]+1804603682&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(E^v&(I^E))+T[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=E+(I^C&(v^I))+T[14]+2792965006&4294967295,E=C+(_<<17&4294967295|_>>>15),_=I+(v^E&(C^v))+T[15]+1236535329&4294967295,I=E+(_<<22&4294967295|_>>>10),_=v+(E^C&(I^E))+T[1]+4129170786&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^E&(v^I))+T[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=E+(v^I&(C^v))+T[11]+643717713&4294967295,E=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(E^C))+T[0]+3921069994&4294967295,I=E+(_<<20&4294967295|_>>>12),_=v+(E^C&(I^E))+T[5]+3593408605&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^E&(v^I))+T[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=E+(v^I&(C^v))+T[15]+3634488961&4294967295,E=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(E^C))+T[4]+3889429448&4294967295,I=E+(_<<20&4294967295|_>>>12),_=v+(E^C&(I^E))+T[9]+568446438&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^E&(v^I))+T[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=E+(v^I&(C^v))+T[3]+4107603335&4294967295,E=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(E^C))+T[8]+1163531501&4294967295,I=E+(_<<20&4294967295|_>>>12),_=v+(E^C&(I^E))+T[13]+2850285829&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^E&(v^I))+T[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=E+(v^I&(C^v))+T[7]+1735328473&4294967295,E=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(E^C))+T[12]+2368359562&4294967295,I=E+(_<<20&4294967295|_>>>12),_=v+(I^E^C)+T[5]+4294588738&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^E)+T[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=E+(C^v^I)+T[11]+1839030562&4294967295,E=C+(_<<16&4294967295|_>>>16),_=I+(E^C^v)+T[14]+4259657740&4294967295,I=E+(_<<23&4294967295|_>>>9),_=v+(I^E^C)+T[1]+2763975236&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^E)+T[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=E+(C^v^I)+T[7]+4139469664&4294967295,E=C+(_<<16&4294967295|_>>>16),_=I+(E^C^v)+T[10]+3200236656&4294967295,I=E+(_<<23&4294967295|_>>>9),_=v+(I^E^C)+T[13]+681279174&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^E)+T[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=E+(C^v^I)+T[3]+3572445317&4294967295,E=C+(_<<16&4294967295|_>>>16),_=I+(E^C^v)+T[6]+76029189&4294967295,I=E+(_<<23&4294967295|_>>>9),_=v+(I^E^C)+T[9]+3654602809&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^E)+T[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=E+(C^v^I)+T[15]+530742520&4294967295,E=C+(_<<16&4294967295|_>>>16),_=I+(E^C^v)+T[2]+3299628645&4294967295,I=E+(_<<23&4294967295|_>>>9),_=v+(E^(I|~C))+T[0]+4096336452&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~E))+T[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=E+(v^(C|~I))+T[14]+2878612391&4294967295,E=C+(_<<15&4294967295|_>>>17),_=I+(C^(E|~v))+T[5]+4237533241&4294967295,I=E+(_<<21&4294967295|_>>>11),_=v+(E^(I|~C))+T[12]+1700485571&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~E))+T[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=E+(v^(C|~I))+T[10]+4293915773&4294967295,E=C+(_<<15&4294967295|_>>>17),_=I+(C^(E|~v))+T[1]+2240044497&4294967295,I=E+(_<<21&4294967295|_>>>11),_=v+(E^(I|~C))+T[8]+1873313359&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~E))+T[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=E+(v^(C|~I))+T[6]+2734768916&4294967295,E=C+(_<<15&4294967295|_>>>17),_=I+(C^(E|~v))+T[13]+1309151649&4294967295,I=E+(_<<21&4294967295|_>>>11),_=v+(E^(I|~C))+T[4]+4149444226&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~E))+T[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=E+(v^(C|~I))+T[2]+718787259&4294967295,E=C+(_<<15&4294967295|_>>>17),_=I+(C^(E|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(E+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+E&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let I=v-this.blockSize,T=this.C,E=this.h,C=0;for(;C<v;){if(E==0)for(;C<=I;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(T[E++]=w.charCodeAt(C++),E==this.blockSize){i(this,T),E=0;break}}else for(;C<v;)if(T[E++]=w[C++],E==this.blockSize){i(this,T),E=0;break}}this.h=E,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var I=w.length-8;I<w.length;++I)w[I]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,I=0;I<4;++I)for(let T=0;T<32;T+=8)w[v++]=this.g[I]>>>T&255;return w};function o(w,v){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=v(w)}function s(w,v){this.h=v;let I=[],T=!0;for(let E=w.length-1;E>=0;E--){let C=w[E]|0;T&&C==v||(I[E]=C,T=!1)}this.g=I}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return A(l(-w));let v=[],I=1;for(let T=0;w>=I;T++)v[T]=w/I|0,I*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let I=l(Math.pow(v,8)),T=p;for(let C=0;C<w.length;C+=8){var E=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+E),v);E<8?(E=l(Math.pow(v,E)),T=T.j(E).add(l(_))):(T=T.j(I),T=T.add(l(_)))}return T}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-A(this).m();let w=0,v=1;for(let I=0;I<this.g.length;I++){let T=this.i(I);w+=(T>=0?T:4294967296+T)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(M(this))return"-"+A(this).toString(w);let v=l(Math.pow(w,6));var I=this;let T="";for(;;){let E=we(I,v).g;I=O(I,E.j(v));let C=((I.g.length>0?I.g[0]:I.h)>>>0).toString(w);if(I=E,b(I))return C+T;for(;C.length<6;)C="0"+C;T=C+T}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=O(this,w),M(w)?-1:b(w)?0:1};function A(w){let v=w.g.length,I=[];for(let T=0;T<v;T++)I[T]=~w.g[T];return new s(I,~w.h).add(g)}t.abs=function(){return M(this)?A(this):this},t.add=function(w){let v=Math.max(this.g.length,w.g.length),I=[],T=0;for(let E=0;E<=v;E++){let C=T+(this.i(E)&65535)+(w.i(E)&65535),_=(C>>>16)+(this.i(E)>>>16)+(w.i(E)>>>16);T=_>>>16,C&=65535,_&=65535,I[E]=_<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(w,v){return w.add(A(v))}t.j=function(w){if(b(this)||b(w))return p;if(M(this))return M(w)?A(this).j(A(w)):A(A(this).j(w));if(M(w))return A(this.j(A(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,I=[];for(var T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(let E=0;E<w.g.length;E++){let C=this.i(T)>>>16,_=this.i(T)&65535,Ft=w.i(E)>>>16,qr=w.i(E)&65535;I[2*T+2*E]+=_*qr,oe(I,2*T+2*E),I[2*T+2*E+1]+=C*qr,oe(I,2*T+2*E+1),I[2*T+2*E+1]+=_*Ft,oe(I,2*T+2*E+1),I[2*T+2*E+2]+=C*Ft,oe(I,2*T+2*E+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function oe(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function ne(w,v){this.g=w,this.h=v}function we(w,v){if(b(v))throw Error("division by zero");if(b(w))return new ne(p,p);if(M(w))return v=we(A(w),v),new ne(A(v.g),A(v.h));if(M(v))return v=we(w,A(v)),new ne(A(v.g),v.h);if(w.g.length>30){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=v;T.l(w)<=0;)I=Ye(I),T=Ye(T);var E=Ne(I,1),C=Ne(T,1);for(T=Ne(T,2),I=Ne(I,2);!b(T);){var _=C.add(T);_.l(w)<=0&&(E=E.add(I),C=_),T=Ne(T,1),I=Ne(I,1)}return v=O(w,E.j(v)),new ne(E,v)}for(E=p;w.l(v)>=0;){for(I=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),C=l(I),_=C.j(v);M(_)||_.l(w)>0;)I-=T,C=l(I),_=C.j(v);b(C)&&(C=g),E=E.add(C),w=O(w,_)}return new ne(E,w)}t.B=function(w){return we(this,w).h},t.and=function(w){let v=Math.max(this.g.length,w.g.length),I=[];for(let T=0;T<v;T++)I[T]=this.i(T)&w.i(T);return new s(I,this.h&w.h)},t.or=function(w){let v=Math.max(this.g.length,w.g.length),I=[];for(let T=0;T<v;T++)I[T]=this.i(T)|w.i(T);return new s(I,this.h|w.h)},t.xor=function(w){let v=Math.max(this.g.length,w.g.length),I=[];for(let T=0;T<v;T++)I[T]=this.i(T)^w.i(T);return new s(I,this.h^w.h)};function Ye(w){let v=w.g.length+1,I=[];for(let T=0;T<v;T++)I[T]=w.i(T)<<1|w.i(T-1)>>>31;return new s(I,w.h)}function Ne(w,v){let I=v>>5;v%=32;let T=w.g.length-I,E=[];for(let C=0;C<T;C++)E[C]=v>0?w.i(C+I)>>>v|w.i(C+I+1)<<32-v:w.i(C+I);return new s(E,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hI=jN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Pr=jN.Integer=s}).apply(typeof UN<"u"?UN:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={};var fI,hq,ta,pI,Cu,Rf,gI,mI,yI;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var D=c[m];if(!(D in f))break e;f=f[D]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var f=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.push([m,d[m]]);return f}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,f){return c.call.apply(c.bind,arguments)}function l(c,d,f){return l=u,l.apply(null,arguments)}function h(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function p(c,d){function f(){}f.prototype=d.prototype,c.Z=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Ob=function(m,D,S){for(var x=Array(arguments.length-2),re=2;re<arguments.length;re++)x[re-2]=arguments[re];return d.prototype[D].apply(m,x)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function b(c,d){for(let m=1;m<arguments.length;m++){let D=arguments[m];var f=typeof D;if(f=f!="object"?f:D?Array.isArray(D)?"array":f:"null",f=="array"||f=="object"&&typeof D.length=="number"){f=c.length||0;let S=D.length||0;c.length=f+S;for(let x=0;x<S;x++)c[f+x]=D[x]}else c.push(D)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(c){s.setTimeout(()=>{throw c},0)}function O(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class oe{constructor(){this.h=this.g=null}add(d,f){let m=ne.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ne=new M(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,Ne=!1,w=new oe,v=()=>{let c=Promise.resolve(void 0);Ye=()=>{c.then(I)}};function I(){for(var c;c=O();){try{c.h.call(c.g)}catch(f){A(f)}var d=ne;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}Ne=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};s.addEventListener("test",f,d),s.removeEventListener("test",f,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Ft(c,d){E.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(Ft,E),Ft.prototype.init=function(c,d){let f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qr="closure_listenable_"+(Math.random()*1e6|0),Qk=0;function Yk(c,d,f,m,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=D,this.key=++Qk,this.da=this.fa=!1}function Ku(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qu(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function Jk(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function Zw(c){let d={};for(let f in c)d[f]=c[f];return d}let Xw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eT(c,d){let f,m;for(let D=1;D<arguments.length;D++){m=arguments[D];for(f in m)c[f]=m[f];for(let S=0;S<Xw.length;S++)f=Xw[S],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function Yu(c){this.src=c,this.g={},this.h=0}Yu.prototype.add=function(c,d,f,m,D){let S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);let x=Op(c,d,m,D);return x>-1?(d=c[x],f||(d.fa=!1)):(d=new Yk(d,this.src,S,!!m,D),d.fa=f,c.push(d)),d};function xp(c,d){let f=d.type;if(f in c.g){var m=c.g[f],D=Array.prototype.indexOf.call(m,d,void 0),S;(S=D>=0)&&Array.prototype.splice.call(m,D,1),S&&(Ku(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Op(c,d,f,m){for(let D=0;D<c.length;++D){let S=c[D];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return D}return-1}var Lp="closure_lm_"+(Math.random()*1e6|0),Fp={};function tT(c,d,f,m,D){if(m&&m.once)return rT(c,d,f,m,D);if(Array.isArray(d)){for(let S=0;S<d.length;S++)tT(c,d[S],f,m,D);return null}return f=Bp(f),c&&c[qr]?c.J(d,f,a(m)?!!m.capture:!!m,D):nT(c,d,f,!1,m,D)}function nT(c,d,f,m,D,S){if(!d)throw Error("Invalid event type");let x=a(D)?!!D.capture:!!D,re=Up(c);if(re||(c[Lp]=re=new Yu(c)),f=re.add(d,f,m,x,S),f.proxy)return f;if(m=Zk(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)C||(D=x),D===void 0&&(D=!1),c.addEventListener(d.toString(),m,D);else if(c.attachEvent)c.attachEvent(oT(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Zk(){function c(f){return d.call(c.src,c.listener,f)}let d=Xk;return c}function rT(c,d,f,m,D){if(Array.isArray(d)){for(let S=0;S<d.length;S++)rT(c,d[S],f,m,D);return null}return f=Bp(f),c&&c[qr]?c.K(d,f,a(m)?!!m.capture:!!m,D):nT(c,d,f,!0,m,D)}function iT(c,d,f,m,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)iT(c,d[S],f,m,D);else m=a(m)?!!m.capture:!!m,f=Bp(f),c&&c[qr]?(c=c.i,S=String(d).toString(),S in c.g&&(d=c.g[S],f=Op(d,f,m,D),f>-1&&(Ku(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete c.g[S],c.h--)))):c&&(c=Up(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Op(d,f,m,D)),(f=c>-1?d[c]:null)&&Vp(f))}function Vp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[qr])xp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(oT(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Up(d))?(xp(f,c),f.h==0&&(f.src=null,d[Lp]=null)):Ku(c)}}}function oT(c){return c in Fp?Fp[c]:Fp[c]="on"+c}function Xk(c,d){if(c.da)c=!0;else{d=new Ft(d,this);let f=c.listener,m=c.ha||c.src;c.fa&&Vp(c),c=f.call(m,d)}return c}function Up(c){return c=c[Lp],c instanceof Yu?c:null}var jp="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bp(c){return typeof c=="function"?c:(c[jp]||(c[jp]=function(d){return c.handleEvent(d)}),c[jp])}function pt(){T.call(this),this.i=new Yu(this),this.M=this,this.G=null}p(pt,T),pt.prototype[qr]=!0,pt.prototype.removeEventListener=function(c,d,f,m){iT(this,c,d,f,m)};function bt(c,d){var f,m=c.G;if(m)for(f=[];m;m=m.G)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new E(d,c);else if(d instanceof E)d.target=d.target||c;else{var D=d;d=new E(m,c),eT(d,D)}D=!0;let S,x;if(f)for(x=f.length-1;x>=0;x--)S=d.g=f[x],D=Ju(S,m,!0,d)&&D;if(S=d.g=c,D=Ju(S,m,!0,d)&&D,D=Ju(S,m,!1,d)&&D,f)for(x=0;x<f.length;x++)S=d.g=f[x],D=Ju(S,m,!1,d)&&D}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let f=c.g[d];for(let m=0;m<f.length;m++)Ku(f[m]);delete c.g[d],c.h--}}this.G=null},pt.prototype.J=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},pt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Ju(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let S=0;S<d.length;++S){let x=d[S];if(x&&!x.da&&x.capture==f){let re=x.listener,Je=x.ha||x.src;x.fa&&xp(c.i,x),D=re.call(Je,m)!==!1&&D}}return D&&!m.defaultPrevented}function ex(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function sT(c){c.g=ex(()=>{c.g=null,c.i&&(c.i=!1,sT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class tx extends T{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:sT(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(c){T.call(this),this.h=c,this.g={}}p(Pa,T);var aT=[];function cT(c){Qu(c.g,function(d,f){this.g.hasOwnProperty(f)&&Vp(d)},c),c.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),cT(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $p=s.JSON.stringify,nx=s.JSON.parse,rx=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function uT(){}function lT(){}var ka={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hp(){E.call(this,"d")}p(Hp,E);function qp(){E.call(this,"c")}p(qp,E);var Oi={},dT=null;function Zu(){return dT=dT||new pt}Oi.Ia="serverreachability";function hT(c){E.call(this,Oi.Ia,c)}p(hT,E);function xa(c){let d=Zu();bt(d,new hT(d))}Oi.STAT_EVENT="statevent";function fT(c,d){E.call(this,Oi.STAT_EVENT,c),this.stat=d}p(fT,E);function Ct(c){let d=Zu();bt(d,new fT(d,c))}Oi.Ja="timingevent";function pT(c,d){E.call(this,Oi.Ja,c),this.size=d}p(pT,E);function Oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function La(){this.g=!0}La.prototype.ua=function(){this.g=!1};function ix(c,d,f,m,D,S){c.info(function(){if(c.g)if(S){var x="",re=S.split("&");for(let Te=0;Te<re.length;Te++){var Je=re[Te].split("=");if(Je.length>1){let ot=Je[0];Je=Je[1];let Ln=ot.split("_");x=Ln.length>=2&&Ln[1]=="type"?x+(ot+"="+Je+"&"):x+(ot+"=redacted&")}}}else x=null;else x=S;return"XMLHTTP REQ ("+m+") [attempt "+D+"]: "+d+`
`+f+`
`+x})}function ox(c,d,f,m,D,S,x){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+D+"]: "+d+`
`+f+`
`+S+" "+x})}function Go(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ax(c,f)+(m?" "+m:"")})}function sx(c,d){c.info(function(){return"TIMEOUT: "+d})}La.prototype.info=function(){};function ax(c,d){if(!c.g)return d;if(!d)return null;try{let S=JSON.parse(d);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var f=S[c];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var D=m[0];if(D!="noop"&&D!="stop"&&D!="close")for(let x=1;x<m.length;x++)m[x]=""}}}}return $p(S)}catch{return d}}var Xu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gT={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mT;function zp(){}p(zp,uT),zp.prototype.g=function(){return new XMLHttpRequest},mT=new zp;function Fa(c){return encodeURIComponent(String(c))}function cx(c){var d=1;c=c.split(":");let f=[];for(;d>0&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function zr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.S=m||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yT}function yT(){this.i=null,this.g="",this.h=!1}var vT={},Gp={};function Wp(c,d,f){c.M=1,c.A=tl(On(d)),c.u=f,c.R=!0,_T(c,null)}function _T(c,d){c.F=Date.now(),el(c),c.B=On(c.A);var f=c.B,m=c.S;Array.isArray(m)||(m=[String(m)]),PT(f.i,"t",m),c.C=0,f=c.j.L,c.h=new yT,c.g=YT(c.j,f?d:null,!c.u),c.P>0&&(c.O=new tx(l(c.Y,c,c.g),c.P)),d=c.V,f=c.g,m=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(aT[0]=D.toString()),D=aT);for(let S=0;S<D.length;S++){let x=tT(f,D[S],m||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.J?Zw(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),xa(),ix(c.i,c.v,c.B,c.l,c.S,c.u)}zr.prototype.ba=function(c){c=c.target;let d=this.O;d&&Kr(c)==3?d.j():this.Y(c)},zr.prototype.Y=function(c){try{if(c==this.g)e:{let re=Kr(this.g),Je=this.g.ya(),Te=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||UT(this.g)))){this.K||re!=4||Je==7||(Je==8||Te<=0?xa(3):xa(2)),Kp(this);var d=this.g.ca();this.X=d;var f=ux(this);if(this.o=d==200,ox(this.i,this.v,this.B,this.l,this.S,re,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,D=this.g;if((m=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var S=m;break t}}S=null}if(c=S)Go(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qp(this,c);else{this.o=!1,this.m=3,Ct(12),Li(this),Va(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<f.length;)if(ot=lx(this,f),ot==Gp){re==4&&(this.m=4,Ct(14),c=!1),Go(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==vT){this.m=4,Ct(15),Go(this.i,this.l,f,"[Invalid Chunk]"),c=!1;break}else Go(this.i,this.l,ot,null),Qp(this,ot);if(IT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||f.length!=0||this.h.h||(this.m=1,Ct(16),c=!1),this.o=this.o&&c,!c)Go(this.i,this.l,f,"[Invalid Chunked Response]"),Li(this),Va(this);else if(f.length>0&&!this.W){this.W=!0;var x=this.j;x.g==this&&x.aa&&!x.P&&(x.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),ng(x),x.P=!0,Ct(11))}}else Go(this.i,this.l,f,null),Qp(this,f);re==4&&Li(this),this.o&&!this.K&&(re==4?GT(this.j,this):(this.o=!1,el(this)))}else Dx(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Li(this),Va(this)}}}catch{}finally{}};function ux(c){if(!IT(c))return c.g.la();let d=UT(c.g);if(d==="")return"";let f="",m=d.length,D=Kr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Li(c),Va(c),"";c.h.i=new s.TextDecoder}for(let S=0;S<m;S++)c.h.h=!0,f+=c.h.i.decode(d[S],{stream:!(D&&S==m-1)});return d.length=0,c.h.g+=f,c.C=0,c.h.g}function IT(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Gp:(f=Number(d.substring(f,m)),isNaN(f)?vT:(m+=1,m+f>d.length?Gp:(d=d.slice(m,m+f),c.C=m+f,d)))}zr.prototype.cancel=function(){this.K=!0,Li(this)};function el(c){c.T=Date.now()+c.H,ET(c,c.H)}function ET(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Oa(l(c.aa,c),d)}function Kp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}zr.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(sx(this.i,this.B),this.M!=2&&(xa(),Ct(17)),Li(this),this.m=2,Va(this)):ET(this,this.T-c)};function Va(c){c.j.I==0||c.K||GT(c.j,c)}function Li(c){Kp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,cT(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function Qp(c,d){try{var f=c.j;if(f.I!=0&&(f.g==c||Yp(f.h,c))){if(!c.L&&Yp(f.h,c)&&f.I==3){try{var m=f.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var D=m;if(D[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<c.F)al(f),ol(f);else break e;tg(f),Ct(18)}}else f.xa=D[1],0<f.xa-f.K&&D[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Oa(l(f.Va,f),6e3));DT(f.h)<=1&&f.ta&&(f.ta=void 0)}else Vi(f,11)}else if((c.L||f.g==c)&&al(f),!_(d))for(D=f.Ba.g.parse(d),d=0;d<D.length;d++){let Te=D[d],ot=Te[0];if(!(ot<=f.K))if(f.K=ot,Te=Te[1],f.I==2)if(Te[0]=="c"){f.M=Te[1],f.ba=Te[2];let Ln=Te[3];Ln!=null&&(f.ka=Ln,f.j.info("VER="+f.ka));let Ui=Te[4];Ui!=null&&(f.za=Ui,f.j.info("SVER="+f.za));let Qr=Te[5];Qr!=null&&typeof Qr=="number"&&Qr>0&&(m=1.5*Qr,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Yr=c.g;if(Yr){let ul=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var S=m.h;S.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Jp(S,S.h),S.h=null))}if(m.G){let rg=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(m.wa=rg,Se(m.J,m.G,rg))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-c.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var x=c;if(m.na=QT(m,m.L?m.ba:null,m.W),x.L){bT(m.h,x);var re=x,Je=m.O;Je&&(re.H=Je),re.D&&(Kp(re),el(re)),m.g=x}else qT(m);f.i.length>0&&sl(f)}else Te[0]!="stop"&&Te[0]!="close"||Vi(f,7);else f.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Vi(f,7):eg(f):Te[0]!="noop"&&f.l&&f.l.qa(Te),f.A=0)}}xa(4)}catch{}}var dx=class{constructor(c,d){this.g=c,this.map=d}};function wT(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function TT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function DT(c){return c.h?1:c.g?c.g.size:0}function Yp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Jp(c,d){c.g?c.g.add(d):c.h=d}function bT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}wT.prototype.cancel=function(){if(this.i=CT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function CT(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.G);return d}return y(c.i)}var ST=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hx(c,d){if(c){c=c.split("&");for(let f=0;f<c.length;f++){let m=c[f].indexOf("="),D,S=null;m>=0?(D=c[f].substring(0,m),S=c[f].substring(m+1)):D=c[f],d(D,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Gr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Gr?(this.l=c.l,Ua(this,c.j),this.o=c.o,this.g=c.g,ja(this,c.u),this.h=c.h,Zp(this,kT(c.i)),this.m=c.m):c&&(d=String(c).match(ST))?(this.l=!1,Ua(this,d[1]||"",!0),this.o=Ba(d[2]||""),this.g=Ba(d[3]||"",!0),ja(this,d[4]),this.h=Ba(d[5]||"",!0),Zp(this,d[6]||"",!0),this.m=Ba(d[7]||"")):(this.l=!1,this.i=new Ha(null,this.l))}Gr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push($a(d,AT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push($a(d,AT,!0),"@"),c.push(Fa(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&c.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push($a(f,f.charAt(0)=="/"?gx:px,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",$a(f,yx)),c.join("")},Gr.prototype.resolve=function(c){let d=On(this),f=!!c.j;f?Ua(d,c.j):f=!!c.o,f?d.o=c.o:f=!!c.g,f?d.g=c.g:f=c.u!=null;var m=c.h;if(f)ja(d,c.u);else if(f=!!c.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var D=d.h.lastIndexOf("/");D!=-1&&(m=d.h.slice(0,D+1)+m)}if(D=m,D==".."||D==".")m="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){m=D.lastIndexOf("/",0)==0,D=D.split("/");let S=[];for(let x=0;x<D.length;){let re=D[x++];re=="."?m&&x==D.length&&S.push(""):re==".."?((S.length>1||S.length==1&&S[0]!="")&&S.pop(),m&&x==D.length&&S.push("")):(S.push(re),m=!0)}m=S.join("/")}else m=D}return f?d.h=m:f=c.i.toString()!=="",f?Zp(d,kT(c.i)):f=!!c.m,f&&(d.m=c.m),d};function On(c){return new Gr(c)}function Ua(c,d,f){c.j=f?Ba(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ja(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function Zp(c,d,f){d instanceof Ha?(c.i=d,vx(c.i,c.l)):(f||(d=$a(d,mx)),c.i=new Ha(d,c.l))}function Se(c,d,f){c.i.set(d,f)}function tl(c){return Se(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ba(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $a(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,fx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var AT=/[#\/\?@]/g,px=/[#\?:]/g,gx=/[#\?]/g,mx=/[#\?@]/g,yx=/#/g;function Ha(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fi(c){c.g||(c.g=new Map,c.h=0,c.i&&hx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ha.prototype,t.add=function(c,d){Fi(this),this.i=null,c=Wo(this,c);let f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function RT(c,d){Fi(c),d=Wo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function NT(c,d){return Fi(c),d=Wo(c,d),c.g.has(d)}t.forEach=function(c,d){Fi(this),this.g.forEach(function(f,m){f.forEach(function(D){c.call(d,D,m,this)},this)},this)};function MT(c,d){Fi(c);let f=[];if(typeof d=="string")NT(c,d)&&(f=f.concat(c.g.get(Wo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)f=f.concat(c[d]);return f}t.set=function(c,d){return Fi(this),this.i=null,c=Wo(this,c),NT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=MT(this,c),c.length>0?String(c[0]):d):d};function PT(c,d,f){RT(c,d),f.length>0&&(c.i=null,c.g.set(Wo(c,d),y(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var f=d[m];let D=Fa(f);f=MT(this,f);for(let S=0;S<f.length;S++){let x=D;f[S]!==""&&(x+="="+Fa(f[S])),c.push(x)}}return this.i=c.join("&")};function kT(c){let d=new Ha;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function Wo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function vx(c,d){d&&!c.j&&(Fi(c),c.i=null,c.g.forEach(function(f,m){let D=m.toLowerCase();m!=D&&(RT(this,m),PT(this,D,f))},c)),c.j=d}function _x(c,d){let f=new La;if(s.Image){let m=new Image;m.onload=h(Wr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=h(Wr,f,"TestLoadImage: error",!1,d,m),m.onabort=h(Wr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=h(Wr,f,"TestLoadImage: timeout",!1,d,m),s.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Ix(c,d){let f=new La,m=new AbortController,D=setTimeout(()=>{m.abort(),Wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(S=>{clearTimeout(D),S.ok?Wr(f,"TestPingServer: ok",!0,d):Wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Wr(f,"TestPingServer: error",!1,d)})}function Wr(c,d,f,m,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),m(f)}catch{}}function Ex(){this.g=new rx}function nl(c){this.i=c.Sb||null,this.h=c.ab||!1}p(nl,uT),nl.prototype.g=function(){return new rl(this.i,this.h)};function rl(c,d){pt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(rl,pt),t=rl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xT(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xT(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qa(this):za(this),this.readyState==3&&xT(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,qa(this))},t.Na=function(c){this.g&&(this.response=c,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,za(c)}t.setRequestHeader=function(c,d){this.A.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function OT(c){let d="";return Qu(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Xp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=OT(f),typeof c=="string"?f!=null&&Fa(f):Se(c,d,f))}function Me(c){pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Me,pt);var wx=/^https?$/i,Tx=["POST","PUT"];t=Me.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mT.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){LT(this,S);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var D in m)f.set(D,m[D]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(Tx,d,void 0)>=0)||m||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(S){LT(this,S)}};function LT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,FT(c),il(c)}function FT(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,bt(this,"complete"),bt(this,"abort"),il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),Me.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?VT(this):this.Xa())},t.Xa=function(){VT(this)};function VT(c){if(c.h&&typeof o<"u"){if(c.v&&Kr(c)==4)setTimeout(c.Ca.bind(c),0);else if(bt(c,"readystatechange"),Kr(c)==4){c.h=!1;try{let S=c.ca();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=S===0){let x=String(c.D).match(ST)[1]||null;!x&&s.self&&s.self.location&&(x=s.self.location.protocol.slice(0,-1)),m=!wx.test(x?x.toLowerCase():"")}f=m}if(f)bt(c,"complete"),bt(c,"success");else{c.o=6;try{var D=Kr(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",FT(c)}}finally{il(c)}}}}function il(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let f=c.g;c.g=null,d||bt(c,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Kr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Kr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),nx(d)}};function UT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Dx(c){let d={};c=(c.g&&Kr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(_(c[m]))continue;var f=cx(c[m]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[D]||[];d[D]=S,S.push(f)}Jk(d,function(m){return m.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function jT(c){this.za=0,this.i=[],this.j=new La,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ga("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ga("baseRetryDelayMs",5e3,c),this.Za=Ga("retryDelaySeedMs",1e4,c),this.Ta=Ga("forwardChannelMaxRetries",2,c),this.va=Ga("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wT(c&&c.concurrentRequestLimit),this.Ba=new Ex,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jT.prototype,t.ka=8,t.I=1,t.connect=function(c,d,f,m){Ct(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=QT(this,null,this.W),sl(this)};function eg(c){if(BT(c),c.I==3){var d=c.V++,f=On(c.J);if(Se(f,"SID",c.M),Se(f,"RID",d),Se(f,"TYPE","terminate"),Wa(c,f),d=new zr(c,c.j,d),d.M=2,d.A=tl(On(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=d.A,f=!0),f||(d.g=YT(d.j,null),d.g.ea(d.A)),d.F=Date.now(),el(d)}KT(c)}function ol(c){c.g&&(ng(c),c.g.cancel(),c.g=null)}function BT(c){ol(c),c.v&&(s.clearTimeout(c.v),c.v=null),al(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function sl(c){if(!TT(c.h)&&!c.m){c.m=!0;var d=c.Ea;Ye||v(),Ne||(Ye(),Ne=!0),w.add(d,c),c.D=0}}function bx(c,d){return DT(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Oa(l(c.Ea,c,d),WT(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let D=new zr(this,this.j,c),S=this.o;if(this.U&&(S?(S=Zw(S),eT(S,this.U)):S=this.U),this.u!==null||this.R||(D.J=S,S=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=HT(this,D,d),f=On(this.J),Se(f,"RID",c),Se(f,"CVER",22),this.G&&Se(f,"X-HTTP-Session-Id",this.G),Wa(this,f),S&&(this.R?d="headers="+Fa(OT(S))+"&"+d:this.u&&Xp(f,this.u,S)),Jp(this.h,D),this.Ra&&Se(f,"TYPE","init"),this.S?(Se(f,"$req",d),Se(f,"SID","null"),D.U=!0,Wp(D,f,null)):Wp(D,f,d),this.I=2}}else this.I==3&&(c?$T(this,c):this.i.length==0||TT(this.h)||$T(this))};function $T(c,d){var f;d?f=d.l:f=c.V++;let m=On(c.J);Se(m,"SID",c.M),Se(m,"RID",f),Se(m,"AID",c.K),Wa(c,m),c.u&&c.o&&Xp(m,c.u,c.o),f=new zr(c,c.j,f,c.D+1),c.u===null&&(f.J=c.o),d&&(c.i=d.G.concat(c.i)),d=HT(c,f,1e3),f.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Jp(c.h,f),Wp(f,m,d)}function Wa(c,d){c.H&&Qu(c.H,function(f,m){Se(d,m,f)}),c.l&&Qu({},function(f,m){Se(d,m,f)})}function HT(c,d,f){f=Math.min(c.i.length,f);let m=c.l?l(c.l.Ka,c.l,c):null;e:{var D=c.i;let re=-1;for(;;){let Je=["count="+f];re==-1?f>0?(re=D[0].g,Je.push("ofs="+re)):re=0:Je.push("ofs="+re);let Te=!0;for(let ot=0;ot<f;ot++){var S=D[ot].g;let Ln=D[ot].map;if(S-=re,S<0)re=Math.max(0,D[ot].g-100),Te=!1;else try{S="req"+S+"_"||"";try{var x=Ln instanceof Map?Ln:Object.entries(Ln);for(let[Ui,Qr]of x){let Yr=Qr;a(Qr)&&(Yr=$p(Qr)),Je.push(S+Ui+"="+encodeURIComponent(Yr))}}catch(Ui){throw Je.push(S+"type="+encodeURIComponent("_badmap")),Ui}}catch{m&&m(Ln)}}if(Te){x=Je.join("&");break e}}x=void 0}return c=c.i.splice(0,f),d.G=c,x}function qT(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;Ye||v(),Ne||(Ye(),Ne=!0),w.add(d,c),c.A=0}}function tg(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Oa(l(c.Da,c),WT(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,zT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Oa(l(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ol(this),zT(this))};function ng(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function zT(c){c.g=new zr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=On(c.na);Se(d,"RID","rpc"),Se(d,"SID",c.M),Se(d,"AID",c.K),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Se(d,"TO",c.ia),Se(d,"TYPE","xmlhttp"),Wa(c,d),c.u&&c.o&&Xp(d,c.u,c.o),c.O&&(c.g.H=c.O);var f=c.g;c=c.ba,f.M=1,f.A=tl(On(d)),f.u=null,f.R=!0,_T(f,c)}t.Va=function(){this.C!=null&&(this.C=null,ol(this),tg(this),Ct(19))};function al(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function GT(c,d){var f=null;if(c.g==d){al(c),ng(c),c.g=null;var m=2}else if(Yp(c.h,d))f=d.G,bT(c.h,d),m=1;else return;if(c.I!=0){if(d.o)if(m==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var D=c.D;m=Zu(),bt(m,new pT(m,f)),sl(c)}else qT(c);else if(D=d.m,D==3||D==0&&d.X>0||!(m==1&&bx(c,d)||m==2&&tg(c)))switch(f&&f.length>0&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function WT(c,d){let f=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(f*=2),f*d}function Vi(c,d){if(c.j.info("Error code "+d),d==2){var f=l(c.bb,c),m=c.Ua;let D=!m;m=new Gr(m||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ua(m,"https"),tl(m),D?_x(m.toString(),f):Ix(m.toString(),f)}else Ct(2);c.I=0,c.l&&c.l.pa(d),KT(c),BT(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function KT(c){if(c.I=0,c.ja=[],c.l){let d=CT(c.h);(d.length!=0||c.i.length!=0)&&(b(c.ja,d),b(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function QT(c,d,f){var m=f instanceof Gr?On(f):new Gr(f);if(m.g!="")d&&(m.g=d+"."+m.g),ja(m,m.u);else{var D=s.location;m=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let S=new Gr(null);m&&Ua(S,m),d&&(S.g=d),D&&ja(S,D),f&&(S.h=f),m=S}return f=c.G,d=c.wa,f&&d&&Se(m,f,d),Se(m,"VER",c.ka),Wa(c,m),m}function YT(c,d,f){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Me(new nl({ab:f})):new Me(c.ma),d.Fa(c.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JT(){}t=JT.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cl(){}cl.prototype.g=function(c,d){return new $t(c,d)};function $t(c,d){pt.call(this),this.g=new jT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ko(this)}p($t,pt),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){eg(this.g)},$t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.v&&(f={},f.__data__=$p(c),c=f);d.i.push(new dx(d.Ya++,c)),d.I==3&&sl(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,$t.Z.N.call(this)};function ZT(c){Hp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(ZT,Hp);function XT(){qp.call(this),this.status=1}p(XT,qp);function Ko(c){this.g=c}p(Ko,JT),Ko.prototype.ra=function(){bt(this.g,"a")},Ko.prototype.qa=function(c){bt(this.g,new ZT(c))},Ko.prototype.pa=function(c){bt(this.g,new XT)},Ko.prototype.oa=function(){bt(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,yI=kr.createWebChannelTransport=function(){return new cl},mI=kr.getStatEventTarget=function(){return Zu()},gI=kr.Event=Oi,Rf=kr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xu.NO_ERROR=0,Xu.TIMEOUT=8,Xu.HTTP_ERROR=6,Cu=kr.ErrorCode=Xu,gT.COMPLETE="complete",pI=kr.EventType=gT,lT.EventType=ka,ka.OPEN="a",ka.CLOSE="b",ka.ERROR="c",ka.MESSAGE="d",pt.prototype.listen=pt.prototype.J,ta=kr.WebChannel=lT,hq=kr.FetchXmlHttpFactory=nl,Me.prototype.listenOnce=Me.prototype.K,Me.prototype.getLastError=Me.prototype.Ha,Me.prototype.getLastErrorCode=Me.prototype.ya,Me.prototype.getStatus=Me.prototype.ca,Me.prototype.getResponseJson=Me.prototype.La,Me.prototype.getResponseText=Me.prototype.la,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Fa,fI=kr.XhrIo=Me}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});var BN="@firebase/firestore",$N="4.9.2";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var Ta="12.3.0";var xo=new Yn("@firebase/firestore");function na(){return xo.logLevel}function V(t,...e){if(xo.logLevel<=ae.DEBUG){let n=e.map(sw);xo.debug(`Firestore (${Ta}): ${t}`,...n)}}function xr(t,...e){if(xo.logLevel<=ae.ERROR){let n=e.map(sw);xo.error(`Firestore (${Ta}): ${t}`,...n)}}function la(t,...e){if(xo.logLevel<=ae.WARN){let n=e.map(sw);xo.warn(`Firestore (${Ta}): ${t}`,...n)}}function sw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MM(t,r,n)}function MM(t,e,n){let r=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xr(r),new Error(r)}function ye(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||MM(e,i,r)}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends it{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Lf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},TI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}},DI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},bI=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new Lf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new lt(e)}},CI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},SI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ff=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},AI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Et(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ff(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ff(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function fq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Pu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=fq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ue(t,e){return t<e?-1:t>e?1:0}function RI(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return vI(i)===vI(o)?ue(i,o):vI(i)?1:-1}return ue(t.length,e.length)}var pq=55296,gq=57343;function vI(t){let e=t.charCodeAt(0);return e>=pq&&e<=gq}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var HN="__name__",Vf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ue(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):RI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}},Re=class t extends Vf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},mq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class t extends Vf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return mq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HN}static keyField(){return new t([HN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};function PM(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yq(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qN(t){if(!$.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zN(t){if($.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vp(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function qu(t,e){if(!kM(t))throw new L(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new L(N.INVALID_ARGUMENT,n);return!0}var GN=-62135596800,WN=1e6,Qe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GN)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WN}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-GN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ku=-1,NI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};NI.UNKNOWN_ID=-1;function vq(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Oo(i,$.empty(),e)}function _q(t){return new Oo(t.readTime,t.key,ku)}var Oo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),$.empty(),ku)}static max(){return new t(te.max(),$.empty(),ku)}};function Iq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}var Eq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",MI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Da(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==Eq)throw t;V("LocalStore","Unexpectedly lost primary lease")}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function wq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}var aw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),cw=-1;function _p(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function Tq(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xM="";function Dq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KN(e)),e=bq(t.get(n),e);return KN(e)}function bq(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case xM:n+="";break;default:n+=o}}return n}function KN(t){return t+xM+""}var Cq="remoteDocuments",OM="owner";var LM="mutationQueues";var FM="mutations";var VM="documentMutations",Sq="remoteDocumentsV14";var UM="remoteDocumentGlobal";var jM="targets";var BM="targetDocuments";var $M="targetGlobal",HM="collectionParents";var qM="clientMetadata";var zM="bundles";var GM="namedQueries";var Aq="indexConfiguration";var Rq="indexState";var Nq="indexEntries";var WM="documentOverlays";var Mq="globals";var Pq=[LM,FM,VM,Cq,jM,OM,$M,BM,qM,UM,HM,zM,GM],Roe=[...Pq,WM],kq=[LM,FM,VM,Sq,jM,OM,$M,BM,qM,UM,HM,zM,GM,WM],xq=kq,Oq=[...xq,Aq,Rq,Nq];var Noe=[...Oq,Mq];function QN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||tr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}},sa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uf(this.data.getIterator())}getIteratorFrom(e){return new Uf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var jf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(ye(!!t,39018),typeof t=="string"){let e=0,n=Lq.exec(t);if(ye(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}var QM="server_timestamp",YM="__type__",JM="__previous_value__",ZM="__local_write_time__";function uw(t){return(t?.mapValue?.fields||{})[YM]?.stringValue===QM}function Ip(t){let e=t.mapValue.fields[JM];return uw(e)?Ip(e):e}function Ou(t){let e=Or(t.mapValue.fields[ZM].timestampValue);return new Qe(e.seconds,e.nanos)}var PI=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Bf="(default)",$f=class t{constructor(e,n){this.projectId=e,this.database=n||Bf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var lw="__type__",XM="__max__",Nf={mapValue:{fields:{__type__:{stringValue:XM}}}},dw="__vector__",ha="value";function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uw(t)?4:tP(t)?9007199254740991:eP(t)?10:11:q(28295,{value:t})}function or(t,e){if(t===e)return!0;let n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ou(t).isEqual(Ou(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Or(i.timestampValue),a=Or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Lr(i.bytesValue).isEqual(Lr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?xu(s)===xu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(QN(s)!==QN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!or(s[u],a[u])))return!1;return!0})(t,e);default:return q(52216,{left:t})}}function Lu(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function fa(t,e){if(t===e)return 0;let n=Ri(t),r=Ri(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return YN(t.timestampValue,e.timestampValue);case 4:return YN(Ou(t),Ou(e));case 5:return RI(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Lr(o),u=Lr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ue(a[l],u[l]);if(h!==0)return h}return ue(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ue(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ue(Ae(o.longitude),Ae(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return JN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[ha]?.arrayValue,h=u[ha]?.arrayValue,p=ue(l?.values?.length||0,h?.values?.length||0);return p!==0?p:JN(l,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Nf.mapValue&&s===Nf.mapValue)return 0;if(o===Nf.mapValue)return 1;if(s===Nf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=RI(u[p],h[p]);if(g!==0)return g;let y=fa(a[u[p]],l[h[p]]);if(y!==0)return y}return ue(u.length,h.length)})(t.mapValue,e.mapValue);default:throw q(23264,{he:n})}}function YN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);let n=Or(t),r=Or(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function JN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=fa(n[i],r[i]);if(o)return o}return ue(n.length,r.length)}function pa(t){return kI(t)}function kI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Or(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return $.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=kI(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${kI(n.fields[s])}`;return i+"}"})(t.mapValue):q(61005,{value:t})}function kf(t){switch(Ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ip(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+kf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ki(r.fields,(o,s)=>{i+=o.length+kf(s)}),i})(t.mapValue);default:throw q(13486,{value:t})}}function ZN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xI(t){return!!t&&"integerValue"in t}function hw(t){return!!t&&"arrayValue"in t}function XN(t){return!!t&&"nullValue"in t}function eM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function eP(t){return(t?.mapValue?.fields||{})[lw]?.stringValue===dw}function Au(t){if(t.geoPointValue)return{geoPointValue:R({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:R({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Au(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return R({},t)}function tP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XM}var Poe={mapValue:{fields:{[lw]:{stringValue:dw},[ha]:{arrayValue:{}}}}};var Jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Au(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ki(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Au(this.value))}};function nP(t){let e=[];return ki(t.fields,(n,r)=>{let i=new Zt([n]);if(xf(r)){let o=nP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new dn(e)}var Mn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ga=class{constructor(e,n){this.position=e,this.inclusive=n}};function tM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=$.comparator($.fromName(s.referenceValue),n.key):r=fa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}var Lo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Fq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hf=class{},We=class t extends Hf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LI(e,n,r):n==="array-contains"?new UI(e,r):n==="in"?new jI(e,r):n==="not-in"?new BI(e,r):n==="array-contains-any"?new $I(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FI(e,r):new VI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fa(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class t extends Hf{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return rP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function rP(t){return t.op==="and"}function iP(t){return Vq(t)&&rP(t)}function Vq(t){for(let e of t.filters)if(e instanceof Pn)return!1;return!0}function OI(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(iP(t))return t.filters.map(e=>OI(e)).join(",");{let e=t.filters.map(n=>OI(n)).join(",");return`${t.op}(${e})`}}function oP(t,e){return t instanceof We?(function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)})(t,e):t instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oP(s,i.filters[a]),!0):!1})(t,e):void q(19439)}function sP(t){return t instanceof We?(function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`})(t):t instanceof Pn?(function(n){return n.op.toString()+" {"+n.getFilters().map(sP).join(" ,")+"}"})(t):"Filter"}var LI=class extends We{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},FI=class extends We{constructor(e,n){super(e,"in",n),this.keys=aP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},VI=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=aP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function aP(t,e){return(e.arrayValue?.values||[]).map(n=>$.fromName(n.referenceValue))}var UI=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return hw(n)&&Lu(n.arrayValue,this.value)}},jI=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Lu(this.value.arrayValue,n)}},BI=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lu(this.value.arrayValue,n)}},$I=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!hw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}};var HI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function rM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new HI(t,e,n,r,i,o,s)}function fw(t){let e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>OI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),_p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.Te=n}return e.Te}function pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nM(t.startAt,e.startAt)&&nM(t.endAt,e.endAt)}function qI(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ni=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Uq(t,e,n,r,i,o,s,a){return new Ni(t,e,n,r,i,o,s,a)}function gw(t){return new Ni(t)}function iM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cP(t){return t.collectionGroup!==null}function Ru(t){let e=Z(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(Zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Lo(o,r))}),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Lo(Zt.keyField(),r))}return e.Ie}function nr(t){let e=Z(t);return e.Ee||(e.Ee=jq(e,Ru(t))),e.Ee}function jq(t,e){if(t.limitType==="F")return rM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Lo(i.field,o)});let n=t.endAt?new ga(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ga(t.startAt.position,t.startAt.inclusive):null;return rM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zI(t,e){let n=t.filters.concat([e]);return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GI(t,e,n){return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ep(t,e){return pw(nr(t),nr(e))&&t.limitType===e.limitType}function uP(t){return`${fw(nr(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sP(i)).join(", ")}]`),_p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pa(i)).join(",")),`Target(${r})`})(nr(t))}; limitType=${t.limitType})`}function wp(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Ru(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=tM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Ru(r),i)||r.endAt&&!(function(s,a,u){let l=tM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Ru(r),i))})(t,e)}function Bq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lP(t){return(e,n)=>{let r=!1;for(let i of Ru(t)){let o=$q(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $q(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?fa(u,l):q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var Fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return KM(this.inner)}size(){return this.innerSize}};var Hq=new ke($.comparator);function Vr(){return Hq}var dP=new ke($.comparator);function Su(...t){let e=dP;for(let n of t)e=e.insert(n.key,n);return e}function hP(t){let e=dP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return Nu()}function fP(){return Nu()}function Nu(){return new Fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var qq=new ke($.comparator),zq=new dt($.comparator);function le(...t){let e=zq;for(let n of t)e=e.add(n);return e}var Gq=new dt(ue);function Wq(){return Gq}function mw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function pP(t){return{integerValue:""+t}}function Kq(t,e){return Tq(e)?pP(e):mw(t,e)}var ma=class{constructor(){this._=void 0}};function Qq(t,e,n){return t instanceof ya?(function(i,o){let s={fields:{[YM]:{stringValue:QM},[ZM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uw(o)&&(o=Ip(o)),o&&(s.fields[JM]=o),{mapValue:s}})(n,e):t instanceof Fo?mP(t,e):t instanceof Vo?yP(t,e):(function(i,o){let s=gP(i,o),a=oM(s)+oM(i.Ae);return xI(s)&&xI(i.Ae)?pP(a):mw(i.serializer,a)})(t,e)}function Yq(t,e,n){return t instanceof Fo?mP(t,e):t instanceof Vo?yP(t,e):n}function gP(t,e){return t instanceof va?(function(r){return xI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ya=class extends ma{},Fo=class extends ma{constructor(e){super(),this.elements=e}};function mP(t,e){let n=vP(e);for(let r of t.elements)n.some(i=>or(i,r))||n.push(r);return{arrayValue:{values:n}}}var Vo=class extends ma{constructor(e){super(),this.elements=e}};function yP(t,e){let n=vP(e);for(let r of t.elements)n=n.filter(i=>!or(i,r));return{arrayValue:{values:n}}}var va=class extends ma{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function oM(t){return Ae(t.integerValue||t.doubleValue)}function vP(t){return hw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Fo&&i instanceof Fo||r instanceof Vo&&i instanceof Vo?da(r.elements,i.elements,or):r instanceof va&&i instanceof va?or(r.Ae,i.Ae):r instanceof ya&&i instanceof ya})(t.transform,e.transform)}var WI=class{constructor(e,n){this.version=e,this.transformResults=n}},rr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var _a=class{};function _P(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fu(t.key,rr.none()):new Uo(t.key,t.data,rr.none());{let n=t.data,r=Jt.empty(),i=new dt(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sr(t.key,r,new dn(i.toArray()),rr.none())}}function Zq(t,e,n){t instanceof Uo?(function(i,o,s){let a=i.value.clone(),u=aM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof sr?(function(i,o,s){if(!Of(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=aM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Mu(t,e,n,r){return t instanceof Uo?(function(o,s,a,u){if(!Of(o.precondition,s))return a;let l=o.value.clone(),h=cM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof sr?(function(o,s,a,u){if(!Of(o.precondition,s))return a;let l=cM(o.fieldTransforms,u,s),h=s.data;return h.setAll(IP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return Of(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function Xq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=gP(r.transform,i||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,o))}return n||null}function sM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(o,s)=>Jq(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Uo=class extends _a{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends _a{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function IP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function aM(t,e,n){let r=new Map;ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Yq(s,a,n[i]))}return r}function cM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Qq(o,s,e))}return r}var Fu=class extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},KI=class extends _a{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var QI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Zq(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=fP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=_P(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>sM(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>sM(n,r))}},YI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return qq})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var JI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ZI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,fe;function e4(t){switch(t){case N.OK:return q(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function EP(t){if(t===void 0)return xr("GRPC error has no .code"),N.UNKNOWN;switch(t){case ze.OK:return N.OK;case ze.CANCELLED:return N.CANCELLED;case ze.UNKNOWN:return N.UNKNOWN;case ze.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ze.INTERNAL:return N.INTERNAL;case ze.UNAVAILABLE:return N.UNAVAILABLE;case ze.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ze.NOT_FOUND:return N.NOT_FOUND;case ze.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ze.ABORTED:return N.ABORTED;case ze.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ze.DATA_LOSS:return N.DATA_LOSS;default:return q(39323,{code:t})}}(fe=ze||(ze={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var t4=null;function n4(){return new TextEncoder}var r4=new Pr([4294967295,4294967295],0);function uM(t){let e=n4().encode(t),n=new hI;return n.update(e),new Uint8Array(n.digest())}function lM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pr([n,r],0),new Pr([i,o],0)]}var XI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pr.fromNumber(r)));return i.compare(r4)===1&&(i=new Pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=uM(e),[r,i]=lM(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=uM(e),[r,i]=lM(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new ke(ue),Vr(),le())}},Vu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var aa=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},zf=class{constructor(e,n){this.targetId=e,this.Ce=n}},Gf=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Wf=class{constructor(){this.ve=0,this.Fe=dM(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),r=le();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=dM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},eE=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=Mf(),this.He=Mf(),this.Ye=new ke(ue)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(qI(o))if(r===0){let s=new $(o.path);this.et(n,s,Mn.newNoDocument(s,te.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}t4?.lt((function(h,p,g,y,b){let M={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},A=p.unchangedNames;return A&&(M.bloomFilter={applied:b===0,hashCount:A?.hashCount??0,bitmapLength:A?.bits?.bitmap?.length??0,padding:A?.bits?.padding??0,mightContain:O=>y?.mightContain(O)??!1}),M})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Lr(r).toUint8Array()}catch(u){if(u instanceof jf)return la("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new XI(s,i,o)}catch(u){return la(u instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&qI(a.target)){let u=new $(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Mn.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=le();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new qf(e,n,this.Ye,this.je,r);return this.je=Vr(),this.Je=Mf(),this.He=Mf(),this.Ye=new ke(ue),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Wf,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dt(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dt(ue),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wf),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function Mf(){return new ke($.comparator)}function dM(){return new ke($.comparator)}var i4={asc:"ASCENDING",desc:"DESCENDING"},o4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"},tE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function nE(t,e){return t.useProto3Json||_p(e)?e:{value:e}}function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a4(t,e){return Kf(t,e.toTimestamp())}function ir(t){return ye(!!t,49232),te.fromTimestamp((function(n){let r=Or(n);return new Qe(r.seconds,r.nanos)})(t))}function yw(t,e){return rE(t,e).canonicalString()}function rE(t,e){let n=(function(i){return new Re(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TP(t){let e=Re.fromString(t);return ye(AP(e),10190,{key:e.toString()}),e}function iE(t,e){return yw(t.databaseId,e.path)}function _I(t,e){let n=TP(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(bP(n))}function DP(t,e){return yw(t.databaseId,e)}function c4(t){let e=TP(t);return e.length===4?Re.emptyPath():bP(e)}function oE(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bP(t){return ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hM(t,e,n){return{name:iE(t,e),fields:n.value.mapValue.fields}}function u4(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:EP(l.code);return new L(h,l.message||"")})(s);n=new Gf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_I(t,r.document.name),o=ir(r.document.updateTime),s=r.document.createTime?ir(r.document.createTime):te.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Mn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new aa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_I(t,r.document),o=r.readTime?ir(r.readTime):te.min(),s=Mn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new aa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_I(t,r.document),o=r.removedTargetIds||[];n=new aa([],o,i,null)}else{if(!("filter"in e))return q(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ZI(i,o),a=r.targetId;n=new zf(a,s)}}return n}function l4(t,e){let n;if(e instanceof Uo)n={update:hM(t,e.key,e.value)};else if(e instanceof Fu)n={delete:iE(t,e.key)};else if(e instanceof sr)n={update:hM(t,e.key,e.data),updateMask:_4(e.fieldMask)};else{if(!(e instanceof KI))return q(16599,{Vt:e.type});n={verify:iE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ya)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof va)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:a4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(t,e.precondition)),n}function d4(t,e){return t&&t.length>0?(ye(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?ir(i.updateTime):ir(o);return s.isEqual(te.min())&&(s=ir(o)),new WI(s,i.transformResults||[])})(n,e))):[]}function h4(t,e){return{documents:[DP(t,e.path)]}}function f4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DP(t,i);let o=(function(l){if(l.length!==0)return SP(Pn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:ia(g.field),direction:m4(g.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=nE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function p4(t){let e=c4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let g=CP(p);return g instanceof Pn&&iP(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(g=>(function(b){return new Lo(oa(b.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(g))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,_p(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new ga(y,g)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new ga(y,g)})(n.endAt)),Uq(e,i,s,o,a,"F",u,l)}function g4(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oa(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oa(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oa(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oa(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return We.create(oa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pn.create(n.compositeFilter.filters.map(r=>CP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(n.compositeFilter.op))})(t):q(30097,{filter:t})}function m4(t){return i4[t]}function y4(t){return o4[t]}function v4(t){return s4[t]}function ia(t){return{fieldPath:t.canonicalString()}}function oa(t){return Zt.fromServerFormat(t.fieldPath)}function SP(t){return t instanceof We?(function(n){if(n.op==="=="){if(eM(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(XN(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eM(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(XN(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:y4(n.op),value:n.value}}})(t):t instanceof Pn?(function(n){let r=n.getFilters().map(i=>SP(i));return r.length===1?r[0]:{compositeFilter:{op:v4(n.op),filters:r}}})(t):q(54877,{filter:t})}function _4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Uu=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sE=class{constructor(e){this.yt=e}};function I4(t){let e=p4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GI(e,e.limit,"L"):e}var Qf=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),xu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Or(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Lr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?tP(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):eP(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):q(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=ha,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ae(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),$.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Qf.Kt=new Qf;var aE=class{constructor(){this.Cn=new cE}addToCollectionParentIndex(e,n){return this.Cn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Oo.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},cE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Re.comparator)).toArray()}};var koe=new Uint8Array(0);var fM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RP=41943040,ln=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(RP,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var ju=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var pM="LruGarbageCollector",E4=1048576;function gM([t,e],[n,r]){let i=ue(t,n);return i===0?ue(e,r):i}var uE=class{constructor(e){this.Ir=e,this.buffer=new dt(gM),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();gM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},lE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){V(pM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?V(pM,"Ignoring IndexedDB error during garbage collection: ",n):await Da(n)}await this.Vr(3e5)})}},dE=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(aw.ce);let r=new uE(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(fM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),na()<=ae.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function w4(t,e){return new dE(t,e)}var hE=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var pE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mu(r.mutation,i,dn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Su();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Vr(),s=Nu(),a=(function(){return Nu()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Mu(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>a.set(l,new fE(h,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Nu(),i=new ke((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=fP();h.forEach(g=>{if(!o.has(g)){let y=_P(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(No()),a=ku,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:hP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=Su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Su();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=(function(p,g){return new Ni(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Mn.newInvalidDocument(h)))});let a=Su();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Mu(h.mutation,l,dn.empty(),Qe.now()),wp(n,l)&&(a=a.insert(u,l))}),a})}};var gE=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return k.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ir(i.createTime)}})(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:I4(i.bundledQuery),readTime:ir(i.readTime)}})(n)),k.resolve()}};var mE=class{constructor(){this.overlays=new ke($.comparator),this.qr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=No();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=No(),o=n.length+1,s=new $(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=No(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=No(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new JI(n,r));let o=this.qr.get(n);o===void 0&&(o=le(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var yE=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var Bu=class{constructor(){this.Qr=new dt(Ge.$r),this.Ur=new dt(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Ge(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ge(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new $(new Re([])),r=new Ge(n,e),i=new Ge(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new $(new Re([])),r=new Ge(n,e),i=new Ge(n,e+1),o=le();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ge(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return $.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||$.comparator(e.key,n.key)}};var vE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dt(Ge.$r)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new QI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?cw:this.tr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(ue);return n.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),k.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new $(o),0),a=new dt(ue);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),k.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return k.forEach(n.mutations,i=>{let o=new Ge(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Ge(n,0),i=this.Zr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _E=class{constructor(e){this.ri=e,this.docs=(function(){return new ke($.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vr(),s=n.path,a=new $(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Iq(_q(h),r)<=0||(i.has(h.key)||wp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}ii(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IE(this)}getSize(e){return k.resolve(this.size)}},IE=class extends hE{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var EE=class{constructor(e){this.persistence=e,this.si=new Fr(n=>fw(n),pw),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new Bu,this.targetCount=0,this.ai=ju.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),k.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new ju(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Pr(n),k.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this._i.containsKey(n))}};var Yf=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new aw(0),this.li=!1,this.li=!0,this.hi=new yE,this.referenceDelegate=e(this),this.Pi=new EE(this),this.indexManager=new aE,this.remoteDocumentCache=(function(i){return new _E(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new sE(n),this.Ii=new gE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vE(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new wE(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return k.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},wE=class extends MI{constructor(e){super(),this.currentSequenceNumber=e}},TE=class t{constructor(e){this.persistence=e,this.Ri=new Bu,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),k.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,r=>{let i=$.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return k.or([()=>k.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},Jf=class t{constructor(e,n){this.persistence=e,this.pi=new Fr(r=>Dq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=w4(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return k.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?k.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),k.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}br(e,n,r){return k.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var DE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var bE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var CE=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return T0()?8:wq(ut())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bE;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(na()<=ae.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(na()<=ae.DEBUG&&V("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(na()<=ae.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):k.resolve())}ys(e,n){if(iM(n))return k.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=GI(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(n,a);return this.Cs(n,l,s,u.readTime)?this.ys(e,GI(n,null,"F")):this.vs(e,l,n,u)}))})))}ws(e,n,r,i){return iM(n)||i.isEqual(te.min())?k.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?k.resolve(null):(na()<=ae.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(n)),this.vs(e,s,n,vq(i,ku)).next(a=>a))})}Ds(e,n){let r=new dt(lP(e));return n.forEach((i,o)=>{wp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return na()<=ae.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ra(n)),this.ps.getDocumentsMatchingQuery(e,n,Oo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vw="LocalStore",T4=3e8,SE=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ke(ue),this.xs=new Fr(o=>fw(o),pw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function D4(t,e,n,r){return new SE(t,e,n,r)}async function NP(t,e){let n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})}function b4(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=k.resolve();return g.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let A=l.docVersions.get(b);ye(A!==null,48541),M.version.compareTo(A)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MP(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function C4(t,e){let n=Z(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,A,O){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=T4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(g,y,h)&&a.push(n.Pi.updateTargetData(o,y))});let u=Vr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(S4(o,s,e.documentUpdates).next(h=>{u=h.ks,l=h.qs})),!r.isEqual(te.min())){let h=n.Pi.getLastRemoteSnapshotVersion(o).next(p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ms=i,o))}function S4(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Vr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(vw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function A4(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R4(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Uu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function AE(t,e,n){let r=Z(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ba(s))throw s;V(vw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function mM(t,e,n){let r=Z(t),i=te.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Z(u),g=p.xs.get(h);return g!==void 0?k.resolve(p.Ms.get(g)):p.Pi.getTargetData(l,h)})(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:le())).next(a=>(N4(r,Bq(e),a),{documents:a,Qs:o})))}function N4(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var Zf=class{constructor(){this.activeTargetIds=Wq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var RE=class{constructor(){this.Mo=new Zf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var NE=class{Oo(e){}shutdown(){}};var yM="ConnectivityMonitor",Xf=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){V(yM,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){V(yM,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pf=null;function ME(){return Pf===null?Pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pf++,"0x"+Pf.toString(16)}var II="RestConnection",M4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},PE=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=ME(),a=this.zo(e,n.toUriEncodedString());V(II,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),h=Qn(l);return this.Jo(e,a,u,r,h).then(p=>(V(II,`Received RPC '${e}' ${s}: `,p),p),p=>{throw la(II,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=M4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var kE=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var wt="WebChannelConnection",xE=class extends PE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=ME();return new Promise((a,u)=>{let l=new fI;l.setWithCredentials(!0),l.listenOnce(pI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cu.NO_ERROR:let p=l.getResponseJson();V(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Cu.TIMEOUT:V(wt,`RPC '${e}' ${s} timed out`),u(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case Cu.HTTP_ERROR:let g=l.getStatus();if(V(wt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=(function(O){let oe=O.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(oe)>=0?oe:N.UNKNOWN})(b.status);u(new L(M,b.message))}else u(new L(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(N.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{V(wt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}T_(e,n,r){let i=ME(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yI(),a=mI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.I_(p);let g=!1,y=!1,b=new kE({Yo:A=>{y?V(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(V(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),V(wt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),M=(A,O,oe)=>{A.listen(O,ne=>{try{oe(ne)}catch(we){setTimeout(()=>{throw we},0)}})};return M(p,ta.EventType.OPEN,()=>{y||(V(wt,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),M(p,ta.EventType.CLOSE,()=>{y||(y=!0,V(wt,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))}),M(p,ta.EventType.ERROR,A=>{y||(y=!0,la(wt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),b.a_(new L(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,ta.EventType.MESSAGE,A=>{if(!y){let O=A.data[0];ye(!!O,16349);let oe=O,ne=oe?.error||oe[0]?.error;if(ne){V(wt,`RPC '${e}' stream ${i} received error:`,ne);let we=ne.status,Ye=(function(v){let I=ze[v];if(I!==void 0)return EP(I)})(we),Ne=ne.message;Ye===void 0&&(Ye=N.INTERNAL,Ne="Unknown error status: "+we+" with message "+ne.message),y=!0,b.a_(new L(Ye,Ne)),p.close()}else V(wt,`RPC '${e}' stream ${i} received:`,O),b.u_(O)}}),M(a,gI.STAT_EVENT,A=>{A.stat===Rf.PROXY?V(wt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Rf.NOPROXY&&V(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function EI(){return typeof document<"u"?document:null}function Tp(t){return new tE(t,!0)}var ep=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var vM="PersistentStream",tp=class{constructor(e,n,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ep(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return V(vM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(V(vM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},OE=class extends tp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=u4(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?ir(s.readTime):te.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=oE(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=qI(u)?{documents:h4(o,u)}:{query:f4(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=wP(o,s.resumeToken);let l=nE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Kf(o,s.snapshotVersion.toTimestamp());let l=nE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=g4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=oE(this.serializer),n.removeTarget=e,this.q_(n)}},LE=class extends tp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=d4(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=oE(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>l4(this.serializer,r))};this.q_(n)}};var FE=class{},VE=class extends FE{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,rE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,rE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},UE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(n),this.aa=!1):V("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var jo="RemoteStore",jE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{$o(this)&&(V(jo,"Restarting streams for network reachability change."),await(async function(u){let l=Z(u);l.Ea.add(4),await zu(l),l.Ra.set("Unknown"),l.Ea.delete(4),await Dp(l)})(this))})}),this.Ra=new UE(r,i)}};async function Dp(t){if($o(t))for(let e of t.da)await e(!0)}async function zu(t){for(let e of t.da)await e(!1)}function PP(t,e){let n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ww(n)?Ew(n):Ca(n).O_()&&Iw(n,e))}function _w(t,e){let n=Z(t),r=Ca(n);n.Ia.delete(e),r.O_()&&kP(n,e),n.Ia.size===0&&(r.O_()?r.L_():$o(n)&&n.Ra.set("Unknown"))}function Iw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).Y_(e)}function kP(t,e){t.Va.Ue(e),Ca(t).Z_(e)}function Ew(t){t.Va=new eE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.Ra.ua()}function ww(t){return $o(t)&&!Ca(t).x_()&&t.Ia.size>0}function $o(t){return Z(t).Ea.size===0}function xP(t){t.Va=void 0}async function P4(t){t.Ra.set("Online")}async function k4(t){t.Ia.forEach((e,n)=>{Iw(t,e)})}async function x4(t,e){xP(t),ww(t)?(t.Ra.ha(e),Ew(t)):t.Ra.set("Unknown")}async function O4(t,e,n){if(t.Ra.set("Online"),e instanceof Gf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){V(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await np(t,r)}else if(e instanceof aa?t.Va.Ze(e):e instanceof zf?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{let r=await MP(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(l);h&&o.Ia.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),kP(o,u);let p=new Uu(h.target,u,l,h.sequenceNumber);Iw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){V(jo,"Failed to raise snapshot:",r),await np(t,r)}}async function np(t,e,n){if(!ba(e))throw e;t.Ea.add(1),await zu(t),t.Ra.set("Offline"),n||(n=()=>MP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V(jo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dp(t)})}function OP(t,e){return e().catch(n=>np(t,n,e))}async function bp(t){let e=Z(t),n=Mi(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cw;for(;L4(e);)try{let i=await A4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,F4(e,i)}catch(i){await np(e,i)}LP(e)&&FP(e)}function L4(t){return $o(t)&&t.Ta.length<10}function F4(t,e){t.Ta.push(e);let n=Mi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function LP(t){return $o(t)&&!Mi(t).x_()&&t.Ta.length>0}function FP(t){Mi(t).start()}async function V4(t){Mi(t).ra()}async function U4(t){let e=Mi(t);for(let n of t.Ta)e.ea(n.mutations)}async function j4(t,e,n){let r=t.Ta.shift(),i=YI.from(r,e,n);await OP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bp(t)}async function B4(t,e){e&&Mi(t).X_&&await(async function(r,i){if((function(s){return e4(s)&&s!==N.ABORTED})(i.code)){let o=r.Ta.shift();Mi(r).B_(),await OP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await bp(r)}})(t,e),LP(t)&&FP(t)}async function _M(t,e){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),V(jo,"RemoteStore received new credentials");let r=$o(n);n.Ea.add(3),await zu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dp(n)}async function $4(t,e){let n=Z(t);e?(n.Ea.delete(2),await Dp(n)):e||(n.Ea.add(2),await zu(n),n.Ra.set("Unknown"))}function Ca(t){return t.ma||(t.ma=(function(n,r,i){let o=Z(n);return o.sa(),new OE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:P4.bind(null,t),t_:k4.bind(null,t),r_:x4.bind(null,t),H_:O4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ww(t)?Ew(t):t.Ra.set("Unknown")):(await t.ma.stop(),xP(t))})),t.ma}function Mi(t){return t.fa||(t.fa=(function(n,r,i){let o=Z(n);return o.sa(),new LE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:V4.bind(null,t),r_:B4.bind(null,t),ta:U4.bind(null,t),na:j4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bp(t)):(await t.fa.stop(),t.Ta.length>0&&(V(jo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var BE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tw(t,e){if(xr("AsyncQueue",`${e}: ${t}`),ba(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var rp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ip=class{constructor(){this.ga=new ke($.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Ia=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,rp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var $E=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},HE=class{constructor(){this.queries=IM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Z(n),o=i.queries;i.queries=IM(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function IM(){return new Fr(t=>uP(t),Ep)}async function VP(t,e){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new $E,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=Tw(s,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Dw(n)}async function UP(t,e){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function H4(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&Dw(n)}function q4(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function Dw(t){t.Ca.forEach(e=>{e.next()})}var qE,EM;(EM=qE||(qE={})).Ma="default",EM.Cache="cache";var op=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qE.Cache}};var sp=class{constructor(e){this.key=e}},ap=class{constructor(e){this.key=e}},zE=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=lP(e),this.tu=new rp(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new ip,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=wp(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;g&&y?g.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),A=!0):this.su(g,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,p)=>(function(y,b){let M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Rt:A})}};return M(y)-M(b)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Ia(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ip,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ap(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new sp(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=le();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},bw="SyncEngine",GE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},WE=class{constructor(e){this.key=e,this.hu=!1}},KE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fr(a=>uP(a),Ep),this.Iu=new Map,this.Eu=new Set,this.du=new ke($.comparator),this.Au=new Map,this.Ru=new Bu,this.Vu={},this.mu=new Map,this.fu=ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function z4(t,e,n=!0){let r=zP(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await jP(r,e,n,!0),i}async function G4(t,e){let n=zP(t);await jP(n,e,!0,!1)}async function jP(t,e,n,r){let i=await R4(t.localStore,nr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await W4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&PP(t.remoteStore,i),a}async function W4(t,e,n,r,i){t.pu=(p,g,y)=>(async function(M,A,O,oe){let ne=A.view.ru(O);ne.Cs&&(ne=await mM(M.localStore,A.query,!1).then(({documents:w})=>A.view.ru(w,ne)));let we=oe&&oe.targetChanges.get(A.targetId),Ye=oe&&oe.targetMismatches.get(A.targetId)!=null,Ne=A.view.applyChanges(ne,M.isPrimaryClient,we,Ye);return TM(M,A.targetId,Ne.au),Ne.snapshot})(t,p,g,y);let o=await mM(t.localStore,e,!0),s=new zE(e,o.Qs),a=s.ru(o.documents),u=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);TM(t,n,l.au);let h=new GE(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function K4(t,e,n){let r=Z(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Ep(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await AE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_w(r.remoteStore,i.targetId),QE(r,i.targetId)}).catch(Da)):(QE(r,i.targetId),await AE(r.localStore,i.targetId,!0))}async function Q4(t,e){let n=Z(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_w(n.remoteStore,r.targetId))}async function Y4(t,e,n){let r=rz(t);try{let i=await(function(s,a){let u=Z(s),l=Qe.now(),h=a.reduce((y,b)=>y.add(b.key),le()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Vr(),M=le();return u.Ns.getEntries(y,h).next(A=>{b=A,b.forEach((O,oe)=>{oe.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(A=>{p=A;let O=[];for(let oe of a){let ne=Xq(oe,p.get(oe.key).overlayedDocument);ne!=null&&O.push(new sr(oe.key,ne,nP(ne.value.mapValue),rr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(A=>{g=A;let O=A.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,A.batchId,O)})}).then(()=>({batchId:g.batchId,changes:hP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new ke(ue)),l=l.insert(a,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,n),await Gu(r,i.changes),await bp(r.remoteStore)}catch(i){let o=Tw(i,"Failed to persist write");n.reject(o)}}async function BP(t,e){let n=Z(t);try{let r=await C4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ye(s.hu,14607):i.removedDocuments.size>0&&(ye(s.hu,42227),s.hu=!1))}),await Gu(n,r,e)}catch(r){await Da(r)}}function wM(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.va(a)&&(l=!0)}),l&&Dw(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J4(t,e,n){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new ke($.comparator);s=s.insert(o,Mn.newNoDocument(o,te.min()));let a=le().add(o),u=new qf(te.min(),new Map,new ke(ue),s,a);await BP(r,u),r.du=r.du.remove(o),r.Au.delete(e),Cw(r)}else await AE(r.localStore,e,!1).then(()=>QE(r,e,n)).catch(Da)}async function Z4(t,e){let n=Z(t),r=e.batch.batchId;try{let i=await b4(n.localStore,e);HP(n,r,null),$P(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,i)}catch(i){await Da(i)}}async function X4(t,e,n){let r=Z(t);try{let i=await(function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);HP(r,e,n),$P(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gu(r,i)}catch(i){await Da(i)}}function $P(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function HP(t,e,n){let r=Z(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function QE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||qP(t,r)})}function qP(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(_w(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cw(t))}function TM(t,e,n){for(let r of n)r instanceof sp?(t.Ru.addReference(r.key,e),ez(t,r)):r instanceof ap?(V(bw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||qP(t,r.key)):q(19791,{wu:r})}function ez(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(V(bw,"New document in limbo: "+n),t.Eu.add(r),Cw(t))}function Cw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new $(Re.fromString(e)),r=t.fu.next();t.Au.set(r,new WE(n)),t.du=t.du.insert(n,r),PP(t.remoteStore,new Uu(nr(gw(n.path)),r,"TargetPurposeLimboResolution",aw.ce))}}async function Gu(t,e,n){let r=Z(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let h=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=DE.As(u.targetId,l);o.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let h=Z(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.Es,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>k.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ba(p))throw p;V(vw,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Ms.get(g),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(g,M)}}})(r.localStore,o))}async function tz(t,e){let n=Z(t);if(!n.currentUser.isEqual(e)){V(bw,"User change. New user:",e.toKey());let r=await NP(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.Ls)}}function nz(t,e){let n=Z(t),r=n.Au.get(e);if(r&&r.hu)return le().add(r.key);{let i=le(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function zP(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J4.bind(null,e),e.Pu.H_=H4.bind(null,e.eventManager),e.Pu.yu=q4.bind(null,e.eventManager),e}function rz(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X4.bind(null,e),e}var GP=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Tp(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return D4(this.persistence,new CE,n.initialUser,this.serializer)}Cu(n){return new Yf(TE.mi,this.serializer)}Du(n){return new RE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),YE=class extends GP{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ye(this.persistence.referenceDelegate instanceof Jf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new lE(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Yf(r=>Jf.mi(r,n),this.serializer)}};var iz=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tz.bind(null,this.syncEngine),await $4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new HE})()}createDatastore(n){let r=Tp(n.databaseInfo.databaseId),i=(function(s){return new xE(s)})(n.databaseInfo);return(function(s,a,u,l){return new VE(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new jE(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>wM(this.syncEngine,r,0),(function(){return Xf.v()?new Xf:new NE})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let g=new KE(o,s,a,u,l,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Z(r);V(jo,"RemoteStore shutting down."),i.Ea.add(5),await zu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var cp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Pi="FirestoreClient",JE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=Pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{V(Pi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V(Pi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Tw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function wI(t,e){t.asyncQueue.verifyOperationInProgress(),V(Pi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await NP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DM(t,e){t.asyncQueue.verifyOperationInProgress();let n=await oz(t);V(Pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_M(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_M(e.remoteStore,i)),t._onlineComponents=e}async function oz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(Pi,"Using user provided OfflineComponentProvider");try{await wI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await wI(t,new GP)}}else V(Pi,"Using default OfflineComponentProvider"),await wI(t,new YE(void 0));return t._offlineComponents}async function WP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(Pi,"Using user provided OnlineComponentProvider"),await DM(t,t._uninitializedComponentsProvider._online)):(V(Pi,"Using default OnlineComponentProvider"),await DM(t,new iz))),t._onlineComponents}function sz(t){return WP(t).then(e=>e.syncEngine)}async function KP(t){let e=await WP(t),n=e.eventManager;return n.onListen=z4.bind(null,e.syncEngine),n.onUnlisten=K4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q4.bind(null,e.syncEngine),n}function az(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new cp({next:g=>{h.Nu(),s.enqueueAndForget(()=>UP(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new L(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new op(gw(a.path),h,{includeMetadataChanges:!0,qa:!0});return VP(o,p)})(await KP(t),t.asyncQueue,e,n,r)),r.promise}function cz(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new cp({next:g=>{h.Nu(),s.enqueueAndForget(()=>UP(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new op(a,h,{includeMetadataChanges:!0,qa:!0});return VP(o,p)})(await KP(t),t.asyncQueue,e,n,r)),r.promise}function QP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var bM=new Map;var YP="firestore.googleapis.com",CM=!0,up=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YP,this.ssl=CM}else this.host=e.host,this.ssl=e.ssl??CM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E4)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QP(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ea=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new up({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new up(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TI;switch(r.type){case"firstParty":return new SI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=bM.get(n);r&&(V("ComponentProvider","Removing Datastore"),bM.delete(n),r.terminate())})(this),Promise.resolve()}};function uz(t,e,n,r={}){t=Nn(t,Ea);let i=Qn(e),o=t._getSettings(),s=H(R({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(Ks(`https://${a}`),Qs("Firestore",!0)),o.host!==YP&&o.host!==a&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=H(R({},o),{host:a,ssl:i,emulatorOptions:r});if(!un(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=lt.MOCK_USER;else{l=Zh(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new lt(p)}t._authCredentials=new DI(new Lf(l,h))}}var Bo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qu(n,t._jsonSchema))return new t(e,r||null,new $(Re.fromString(n.referencePath)))}};ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:Ke("string",ht._jsonSchemaVersion),referencePath:Ke("string")};var bi=class t extends Bo{constructor(e,n,r){super(e,n,gw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jr(t,e,...n){if(t=_e(t),PM("collection","path",e),t instanceof Ea){let r=Re.fromString(e,...n);return zN(r),new bi(t,null,r)}{if(!(t instanceof ht||t instanceof bi))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return zN(r),new bi(t.firestore,null,r)}}function Ee(t,e,...n){if(t=_e(t),arguments.length===1&&(e=Pu.newId()),PM("doc","path",e),t instanceof Ea){let r=Re.fromString(e,...n);return qN(r),new ht(t,null,new $(r))}{if(!(t instanceof ht||t instanceof bi))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return qN(r),new ht(t.firestore,t instanceof bi?t.converter:null,new $(r))}}var SM="AsyncQueue",lp=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ep(this,"async_queue_retry"),this._c=()=>{let r=EI();r&&V(SM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=EI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=EI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new Rn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;V(SM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",AM(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=BE.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&q(47125,{Pc:AM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function AM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Ur=class extends Ea{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lp(e),this._firestoreClient=void 0,await e}}};function JP(t,e){let n=typeof t=="object"?t:Sr(),r=typeof t=="string"?t:e||Bf,i=Yt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Jh("firestore");o&&uz(i,...o)}return i}function Sw(t){if(t._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lz(t),t._firestoreClient}function lz(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new PI(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,QP(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var Ci=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:Ke("string",Ci._jsonSchemaVersion),bytes:Ke("string")};var wa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $u=class{constructor(e){this._methodName=e}};var Si=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(qu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ke("string",Si._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var Ai=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new L(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Ke("string",Ai._jsonSchemaVersion),vectorValues:Ke("object")};var dz=/^__.*__$/,ZE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uo(e,this.data,n,this.fieldTransforms)}},dp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ZP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ac:t})}}var XE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(R(R({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZP(this.Ac)&&dz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},ew=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tp(e)}Cc(e,n,r,i=!1){return new XE({Ac:e,methodName:n,Dc:r,path:Zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Cp(t){let e=t._freezeSettings(),n=Tp(t._databaseId);return new ew(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XP(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Aw("Data must be an object, but it was:",s,r);let a=ek(r,s),u,l;if(o.merge)u=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=tw(e,p,n);if(!s.contains(g))throw new L(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);nk(h,g)||h.push(g)}u=new dn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new ZE(new Jt(a),u,l)}var hp=class t extends $u{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function hz(t,e,n,r){let i=t.Cc(1,e,n);Aw("Data must be an object, but it was:",i,r);let o=[],s=Jt.empty();ki(r,(u,l)=>{let h=Rw(e,u,n);l=_e(l);let p=i.yc(h);if(l instanceof hp)o.push(h);else{let g=Wu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new dn(o);return new dp(s,a,i.fieldTransforms)}function fz(t,e,n,r,i,o){let s=t.Cc(1,e,n),a=[tw(e,r,n)],u=[i];if(o.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(tw(e,o[g])),u.push(o[g+1]);let l=[],h=Jt.empty();for(let g=a.length-1;g>=0;--g)if(!nk(l,a[g])){let y=a[g],b=u[g];b=_e(b);let M=s.yc(y);if(b instanceof hp)l.push(y);else{let A=Wu(b,M);A!=null&&(l.push(y),h.set(y,A))}}let p=new dn(l);return new dp(h,p,s.fieldTransforms)}function pz(t,e,n,r=!1){return Wu(n,t.Cc(r?4:3,e))}function Wu(t,e){if(tk(t=_e(t)))return Aw("Unsupported field value:",e,t),ek(t,e);if(t instanceof $u)return(function(r,i){if(!ZP(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Wu(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=_e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:Kf(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(i.serializer,o)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ci)return{bytesValue:wP(i.serializer,r._byteString)};if(r instanceof ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ai)return(function(s,a){return{mapValue:{fields:{[lw]:{stringValue:dw},[ha]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return mw(a.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${vp(r)}`)})(t,e)}function ek(t,e){let n={};return KM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(r,i)=>{let o=Wu(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Si||t instanceof Ci||t instanceof ht||t instanceof $u||t instanceof Ai)}function Aw(t,e,n){if(!tk(n)||!kM(n)){let r=vp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function tw(t,e,n){if((e=_e(e))instanceof wa)return e._internalPath;if(typeof e=="string")return Rw(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,n)}var gz=new RegExp("[~\\*/\\[\\]]");function Rw(t,e,n){if(e.search(gz)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wa(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}function nk(t,e){return t.some(n=>n.isEqual(e))}var pp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nw=class extends pp{data(){return super.data()}};function Sp(t,e){return typeof e=="string"?Rw(t,e):e instanceof wa?e._internalPath:e._delegate._internalPath}function mz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hu=class{},gp=class extends Hu{};function Br(t,e,...n){let r=[];e instanceof Hu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof rw).length,a=o.filter(u=>u instanceof mp).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var mp=class t extends gp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return rk(e._query,n),new Bo(e.firestore,e.converter,zI(e._query,n))}_parse(e){let n=Cp(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){NM(p,h);let b=[];for(let M of p)b.push(RM(u,o,M));g={arrayValue:{values:b}}}else g=RM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||NM(p,h),g=pz(a,s,p,h==="in"||h==="not-in");return We.create(l,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function xi(t,e,n){let r=e,i=Sp("where",t);return mp._create(i,r,n)}var rw=class t extends Hu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)rk(s,u),s=zI(s,u)})(e._query,n),new Bo(e.firestore,e.converter,zI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var iw=class t extends gp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lo(o,s)})(e._query,this._field,this._direction);return new Bo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ni(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function Nw(t,e="asc"){let n=e,r=Sp("orderBy",t);return iw._create(r,n)}function RM(t,e,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cP(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!$.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZN(t,new $(r))}if(n instanceof ht)return ZN(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(n)}.`)}function NM(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rk(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ow=class{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ki(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[ha].arrayValue?.values?.map(r=>Ae(r.doubleValue));return new Ai(n)}convertGeoPoint(e){return new Si(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ip(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){let n=Or(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);ye(AP(r),9688,{name:e});let i=new $f(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(n)||xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function ik(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Po=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ko=class t extends pp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",ko._jsonSchema={type:Ke("string",ko._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var ca=class extends ko{data(e={}){return super.data(e)}},ua=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Po(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ca(this._firestore,this._userDataWriter,r.key,r,new Po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Po(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Po(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:yz(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function yz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}function kn(t){t=Nn(t,ht);let e=Nn(t.firestore,Ur);return az(Sw(e),t._key).then(n=>vz(e,t,n))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Ke("string",ua._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var yp=class extends ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ci(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}};function Dt(t){t=Nn(t,Bo);let e=Nn(t.firestore,Ur),n=Sw(e),r=new yp(e);return mz(t._query),cz(n,t._query).then(i=>new ua(e,r,t,i))}function Sa(t,e,n){t=Nn(t,ht);let r=Nn(t.firestore,Ur),i=ik(t.converter,e,n);return Ap(r,[XP(Cp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function xn(t,e,n,...r){t=Nn(t,ht);let i=Nn(t.firestore,Ur),o=Cp(i),s;return s=typeof(e=_e(e))=="string"||e instanceof wa?fz(o,"updateDoc",t._key,e,n,r):hz(o,"updateDoc",t._key,e),Ap(i,[s.toMutation(t._key,rr.exists(!0))])}function Aa(t){return Ap(Nn(t.firestore,Ur),[new Fu(t._key,rr.none())])}function Ra(t,e){let n=Nn(t.firestore,Ur),r=Ee(t),i=ik(t.converter,e);return Ap(n,[XP(Cp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function Ap(t,e){return(function(r,i){let o=new Rn;return r.asyncQueue.enqueueAndForget(async()=>Y4(await sz(r),i,o)),o.promise})(Sw(t),e)}function vz(t,e,n){let r=n.docs.get(e._key),i=new yp(t);return new ko(t,i,e._key,r,new Po(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ta=i})(Zn),It(new He("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ur(new bI(r.getProvider("auth-internal")),new AI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $f(l.options.projectId,h)})(s,i),s);return o=R({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),qe(BN,$N,e),qe(BN,$N,"esm2020")})();var _z="firebase",Iz="12.6.0";qe(_z,Iz,"app");var ak="@firebase/installations",xw="0.6.19";var ck=1e4,uk=`w:${xw}`,lk="FIS_v2",Ez="https://firebaseinstallations.googleapis.com/v1",wz=3600*1e3,Tz="installations",Dz="Installations";var bz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qo=new Qt(Tz,Dz,bz);function dk(t){return t instanceof it&&t.code.includes("request-failed")}function hk({projectId:t}){return`${Ez}/projects/${t}/installations`}function fk(t){return{token:t.token,requestStatus:2,expiresIn:Sz(t.expiresIn),creationTime:Date.now()}}async function pk(t,e){let r=(await e.json()).error;return qo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Cz(t,{refreshToken:e}){let n=gk(t);return n.append("Authorization",Az(e)),n}async function mk(t){let e=await t();return e.status>=500&&e.status<600?t():e}function Sz(t){return Number(t.replace("s","000"))}function Az(t){return`${lk} ${t}`}async function Rz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let r=hk(t),i=gk(t),o=e.getImmediate({optional:!0});if(o){let l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}let s={fid:n,authVersion:lk,appId:t.appId,sdkVersion:uk},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await mk(()=>fetch(r,a));if(u.ok){let l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:fk(l.authToken)}}else throw await pk("Create Installation",u)}function yk(t){return new Promise(e=>{setTimeout(e,t)})}function Nz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var Mz=/^[cdef][\w-]{21}$/,kw="";function Pz(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=kz(t);return Mz.test(n)?n:kw}catch{return kw}}function kz(t){return Nz(t).substr(0,22)}function Np(t){return`${t.appName}!${t.appId}`}var vk=new Map;function _k(t,e){let n=Np(t);Ik(n,e),xz(n,e)}function Ik(t,e){let n=vk.get(t);if(n)for(let r of n)r(e)}function xz(t,e){let n=Oz();n&&n.postMessage({key:t,fid:e}),Lz()}var Ho=null;function Oz(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{Ik(t.data.key,t.data.fid)}),Ho}function Lz(){vk.size===0&&Ho&&(Ho.close(),Ho=null)}var Fz="firebase-installations-database",Vz=1,zo="firebase-installations-store",Mw=null;function Ow(){return Mw||(Mw=rf(Fz,Vz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zo)}}})),Mw}async function Rp(t,e){let n=Np(t),i=(await Ow()).transaction(zo,"readwrite"),o=i.objectStore(zo),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&_k(t,e.fid),e}async function Ek(t){let e=Np(t),r=(await Ow()).transaction(zo,"readwrite");await r.objectStore(zo).delete(e),await r.done}async function Mp(t,e){let n=Np(t),i=(await Ow()).transaction(zo,"readwrite"),o=i.objectStore(zo),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&_k(t,a.fid),a}async function Lw(t){let e,n=await Mp(t.appConfig,r=>{let i=Uz(r),o=jz(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===kw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Uz(t){let e=t||{fid:Pz(),registrationStatus:0};return wk(e)}function jz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(qo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Bz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$z(t)}:{installationEntry:e}}async function Bz(t,e){try{let n=await Rz(t,e);return Rp(t.appConfig,n)}catch(n){throw dk(n)&&n.customData.serverCode===409?await Ek(t.appConfig):await Rp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $z(t){let e=await ok(t.appConfig);for(;e.registrationStatus===1;)await yk(100),e=await ok(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=await Lw(t);return r||n}return e}function ok(t){return Mp(t,e=>{if(!e)throw qo.create("installation-not-found");return wk(e)})}function wk(t){return Hz(t)?{fid:t.fid,registrationStatus:0}:t}function Hz(t){return t.registrationStatus===1&&t.registrationTime+ck<Date.now()}async function qz({appConfig:t,heartbeatServiceProvider:e},n){let r=zz(t,n),i=Cz(t,n),o=e.getImmediate({optional:!0});if(o){let l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}let s={installation:{sdkVersion:uk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await mk(()=>fetch(r,a));if(u.ok){let l=await u.json();return fk(l)}else throw await pk("Generate Auth Token",u)}function zz(t,{fid:e}){return`${hk(t)}/${e}/authTokens:generate`}async function Fw(t,e=!1){let n,r=await Mp(t.appConfig,o=>{if(!Tk(o))throw qo.create("not-registered");let s=o.authToken;if(!e&&Kz(s))return o;if(s.requestStatus===1)return n=Gz(t,e),o;{if(!navigator.onLine)throw qo.create("app-offline");let a=Yz(o);return n=Wz(t,a),a}});return n?await n:r.authToken}async function Gz(t,e){let n=await sk(t.appConfig);for(;n.authToken.requestStatus===1;)await yk(100),n=await sk(t.appConfig);let r=n.authToken;return r.requestStatus===0?Fw(t,e):r}function sk(t){return Mp(t,e=>{if(!Tk(e))throw qo.create("not-registered");let n=e.authToken;return Jz(n)?H(R({},e),{authToken:{requestStatus:0}}):e})}async function Wz(t,e){try{let n=await qz(t,e),r=H(R({},e),{authToken:n});return await Rp(t.appConfig,r),n}catch(n){if(dk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ek(t.appConfig);else{let r=H(R({},e),{authToken:{requestStatus:0}});await Rp(t.appConfig,r)}throw n}}function Tk(t){return t!==void 0&&t.registrationStatus===2}function Kz(t){return t.requestStatus===2&&!Qz(t)}function Qz(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wz}function Yz(t){let e={requestStatus:1,requestTime:Date.now()};return H(R({},t),{authToken:e})}function Jz(t){return t.requestStatus===1&&t.requestTime+ck<Date.now()}async function Zz(t){let e=t,{installationEntry:n,registrationPromise:r}=await Lw(e);return r?r.catch(console.error):Fw(e).catch(console.error),n.fid}async function Xz(t,e=!1){let n=t;return await e6(n),(await Fw(n,e)).token}async function e6(t){let{registrationPromise:e}=await Lw(t);e&&await e}function t6(t){if(!t||!t.options)throw Pw("App Configuration");if(!t.name)throw Pw("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Pw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pw(t){return qo.create("missing-app-config-values",{valueName:t})}var Dk="installations",n6="installations-internal",r6=t=>{let e=t.getProvider("app").getImmediate(),n=t6(e),r=Yt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},i6=t=>{let e=t.getProvider("app").getImmediate(),n=Yt(e,Dk).getImmediate();return{getId:()=>Zz(n),getToken:i=>Xz(n,i)}};function o6(){It(new He(Dk,r6,"PUBLIC")),It(new He(n6,i6,"PRIVATE"))}o6();qe(ak,xw);qe(ak,xw,"esm2020");var Pp="analytics",s6="firebase_id",a6="origin",c6=60*1e3,u6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qw="https://www.googletagmanager.com/gtag/js";var Ot=new Yn("@firebase/analytics");var l6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xt=new Qt("analytics","Analytics",l6);function d6(t){if(!t.startsWith(qw)){let e=Xt.create("invalid-gtag-resource",{gtagURL:t});return Ot.warn(e.message),""}return t}function Mk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function f6(t,e){let n=h6("firebase-js-sdk-policy",{createScriptURL:d6}),r=document.createElement("script"),i=`${qw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function p6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function g6(t,e,n,r,i,o){let s=r[i];try{if(s)await e[s];else{let u=(await Mk(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){Ot.error(a)}t("config",i,o)}async function m6(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=await Mk(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Ot.error(o)}}function y6(t,e,n,r){async function i(o,...s){try{if(o==="event"){let[a,u]=s;await m6(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;await g6(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){Ot.error(a)}}return i}function v6(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=y6(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function _6(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(qw)&&n.src.includes(t))return n;return null}var I6=30,E6=1e3,Uw=class{constructor(e={},n=E6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},Pk=new Uw;function w6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function T6(t){let{appId:e,apiKey:n}=t,r={method:"GET",headers:w6(n)},i=u6.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let s="";try{let a=await o.json();a.error?.message&&(s=a.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function D6(t,e=Pk,n){let{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Xt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Xt.create("no-api-key")}let s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new jw;return setTimeout(async()=>{a.abort()},n!==void 0?n:c6),kk({appId:r,apiKey:i,measurementId:o},s,a,e)}async function kk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Pk){let{appId:o,measurementId:s}=t;try{await b6(r,e)}catch(a){if(s)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:o,measurementId:s};throw a}try{let a=await T6(t);return i.deleteThrottleMetadata(o),a}catch(a){let u=a;if(!C6(u)){if(i.deleteThrottleMetadata(o),s)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:s};throw a}let l=Number(u?.customData?.httpStatus)===503?v_(n,i.intervalMillis,I6):v_(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ot.debug(`Calling attemptFetch again in ${l} millis`),kk(t,h,r,i)}}function b6(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C6(t){if(!(t instanceof it)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var jw=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Bw;async function S6(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{let o=await e,s=H(R({},r),{send_to:o});t("event",n,s)}}async function A6(t,e,n,r){if(r&&r.global){let i={};for(let o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{let i=await e;t("config",i,{update:!0,user_properties:n})}}var $w;function R6(t){$w=t}function N6(t){Bw=t}async function M6(){if(fu())try{await ef()}catch(t){return Ot.warn(Xt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ot.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function P6(t,e,n,r,i,o,s){let a=D6(t);a.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ot.error(g)),e.push(a);let u=M6().then(g=>{if(g)return r.getId()}),[l,h]=await Promise.all([a,u]);_6(o)||f6(o,l.measurementId),$w&&(i("consent","default",$w),R6(void 0)),i("js",new Date);let p=s?.config??{};return p[a6]="firebase",p.update=!0,h!=null&&(p[s6]=h),i("config",l.measurementId,p),Bw&&(i("set",Bw),N6(void 0)),l.measurementId}var Hw=class{constructor(e){this.app=e}_delete(){return delete Na[this.app.options.appId],Promise.resolve()}},Na={},bk=[],Ck={},Vw="dataLayer",k6="gtag",Sk,zw,Ak=!1;function x6(){let t=[];if(Xh()&&t.push("This is a browser extension environment."),D0()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});Ot.warn(n.message)}}function O6(t,e,n){x6();let r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xt.create("no-api-key");if(Na[r]!=null)throw Xt.create("already-exists",{id:r});if(!Ak){p6(Vw);let{wrappedGtag:o,gtagCore:s}=v6(Na,bk,Ck,Vw,k6);zw=o,Sk=s,Ak=!0}return Na[r]=P6(t,bk,Ck,e,Sk,Vw,n),new Hw(t)}function xk(t=Sr()){t=_e(t);let e=Yt(t,Pp);return e.isInitialized()?e.getImmediate():L6(t)}function L6(t,e={}){let n=Yt(t,Pp);if(n.isInitialized()){let i=n.getImmediate();if(un(e,n.getOptions()))return i;throw Xt.create("already-initialized")}return n.initialize({options:e})}function F6(t,e,n){t=_e(t),A6(zw,Na[t.app.options.appId],e,n).catch(r=>Ot.error(r))}function V6(t,e,n,r){t=_e(t),S6(zw,Na[t.app.options.appId],e,n,r).catch(i=>Ot.error(i))}var Rk="@firebase/analytics",Nk="0.10.19";function U6(){It(new He(Pp,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return O6(r,i,n)},"PUBLIC")),It(new He("analytics-internal",t,"PRIVATE")),qe(Rk,Nk),qe(Rk,Nk,"esm2020");function t(e){try{let n=e.getProvider(Pp).getImmediate();return{logEvent:(r,i,o)=>V6(n,r,i,o),setUserProperties:(r,i)=>F6(n,r,i)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}}}U6();var jk="firebasestorage.googleapis.com",j6="storageBucket",B6=120*1e3,$6=600*1e3;var ar=class t extends it{constructor(e,n,r=0){super(Gw(e),`Firebase Storage: ${n} (${Gw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Hr=(function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t})(Hr||{});function Gw(t){return"storage/"+t}function H6(){let t="An unknown error occurred, please check the error payload for server response.";return new ar(Hr.UNKNOWN,t)}function q6(){return new ar(Hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z6(){return new ar(Hr.CANCELED,"User canceled the upload/download.")}function G6(t){return new ar(Hr.INVALID_URL,"Invalid URL '"+t+"'.")}function W6(t){return new ar(Hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ok(t){return new ar(Hr.INVALID_ARGUMENT,t)}function Bk(){return new ar(Hr.APP_DELETED,"The Firebase app was deleted.")}function K6(t){return new ar(Hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var $r=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw W6(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(we){we.path_=decodeURIComponent(we.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),b={bucket:1,path:3},M=n===jk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",O=new RegExp(`^https?://${M}/${i}/${A}`,"i"),ne=[{regex:a,indices:u,postModify:o},{regex:y,indices:b,postModify:l},{regex:O,indices:{bucket:1,path:2},postModify:l}];for(let we=0;we<ne.length;we++){let Ye=ne[we],Ne=Ye.regex.exec(e);if(Ne){let w=Ne[Ye.indices.bucket],v=Ne[Ye.indices.path];v||(v=""),r=new t(w,v),Ye.postModify(r);break}}if(r==null)throw G6(e);return r}},Ww=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Q6(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...A){l||(l=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(y,u())},A)}function g(){o&&clearTimeout(o)}function y(A,...O){if(l){g();return}if(A){g(),h.call(null,A,...O);return}if(u()||s){g(),h.call(null,A,...O);return}r<64&&(r*=2);let ne;a===1?(a=2,ne=0):ne=(r+Math.random())*1e3,p(ne)}let b=!1;function M(A){b||(b=!0,g(),!l&&(i!==null?(A||(a=2),clearTimeout(i),p(0)):A||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,M(!0)},n),M}function Y6(t){t(!1)}function J6(t){return t!==void 0}function Lk(t,e,n,r){if(r<e)throw Ok(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ok(`Invalid value for '${t}'. Expected ${n} or less.`)}function Z6(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kw=(function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t})(Kw||{});function X6(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Qw=class{constructor(e,n,r,i,o,s,a,u,l,h,p,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,M)=>{this.resolve_=b,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ma(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Kw.NO_ERROR,u=o.getStatus();if(!a||X6(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Kw.ABORT;r(!1,new Ma(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new Ma(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());J6(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=H6();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?Bk():z6();s(u)}else{let u=q6();s(u)}};this.canceled_?n(!1,new Ma(!1,null,!0)):this.backoffId_=Q6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ma=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function e3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function r3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i3(t,e,n,r,i,o,s=!0,a=!1){let u=Z6(t.urlParams),l=t.url+u,h=Object.assign({},t.headers);return n3(h,e),e3(h,n),t3(h,o),r3(h,r),new Qw(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}function o3(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function s3(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var ose=256*1024;var Yw=class t{constructor(e,n){this._service=e,n instanceof $r?this._location=n:this._location=$r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new $r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s3(this._location.path)}get storage(){return this._service}get parent(){let e=o3(this._location.path);if(e===null)return null;let n=new $r(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K6(e)}};function Fk(t,e){let n=e?.[j6];return n==null?null:$r.makeFromBucketSpec(n,t)}function a3(t,e,n,r={}){t.host=`${e}:${n}`;let i=Qn(e);i&&(Ks(`https://${t.host}/b`),Qs("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Zh(o,t.app.options.projectId))}var Jw=class{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=jk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B6,this._maxUploadRetryTime=$6,this._requests=new Set,i!=null?this._bucket=$r.makeFromBucketSpec(i,this._host):this._bucket=Fk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$r.makeFromBucketSpec(this._url,e):this._bucket=Fk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Et(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yw(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ww(Bk());{let s=i3(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}},Vk="@firebase/storage",Uk="0.14.0";var $k="storage";function Hk(t=Sr(),e){t=_e(t);let r=Yt(t,$k).getImmediate({identifier:e}),i=Jh("storage");return i&&c3(r,...i),r}function c3(t,e,n,r={}){a3(t,e,n,r)}function u3(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Jw(n,r,i,e,Zn)}function l3(){It(new He($k,u3,"PUBLIC").setMultipleInstances(!0)),qe(Vk,Uk,""),qe(Vk,Uk,"esm2020")}l3();var d3={apiKey:"AIzaSyBOkYlLD4JUC7d_ylBNI9rScriTk2Tqv9A",authDomain:"bis-database-b5e86.firebaseapp.com",projectId:"bis-database-b5e86",storageBucket:"bis-database-b5e86.firebasestorage.app",messagingSenderId:"591706059268",appId:"1:591706059268:web:0af771301dfdbcdd8c7b51",measurementId:"G-04ZY87HK99"},kp=k_(d3),gse=xk(kp),Lt=dI(kp),pe=JP(kp),mse=Hk(kp);var qk=class t{getUserOnceAfterInit(){throw new Error("Method not implemented.")}getRoleOnceAfterInit(){throw new Error("Method not implemented.")}currentUserSubject=new xe(null);currentUser$=this.currentUserSubject.asObservable();currentUserRoleSubject=new xe(null);currentUserRole$=this.currentUserRoleSubject.asObservable();initializedSubject=new xe(!1);authInitialized$=this.initializedSubject.asObservable();unsubscribe=null;constructor(){cI(Lt,Cf).then(()=>{this.initializeAuthStateListener()}).catch(e=>{console.error("Persistence error:",e),this.initializeAuthStateListener()})}initializeAuthStateListener(){this.unsubscribe=uI(Lt,async e=>{if(console.log("Auth state changed:",e?e.email:"No user"),this.currentUserSubject.next(e),e)try{let n=await kn(Ee(pe,"users",e.uid));if(n.exists()){let r=n.data().role;console.log("User role (from users):",r),this.currentUserRoleSubject.next(r)}else(await kn(Ee(pe,"residents",e.uid))).exists()?(console.log("User role: resident (from residents collection)"),this.currentUserRoleSubject.next("resident")):(console.log("No user doc in users or residents collection"),this.currentUserRoleSubject.next(null))}catch(n){console.error("Error fetching user role:",n)}else this.currentUserRoleSubject.next(null);this.initializedSubject.value||this.initializedSubject.next(!0)})}getCurrentUser(){return this.currentUser$}getCurrentUserRole(){return this.currentUserRole$}getCurrentUserRoleSync(){return this.currentUserRoleSubject.value}getRoleWhenReady(){return this.currentUserRole$.pipe(ft(e=>e!==null||this.currentUserSubject.value===null))}getAuthInitialized(){return this.authInitialized$}signUpResident(e,n,r,i){return Du(Lt,e,n).then(o=>(console.log("Firebase user created:",o.user.uid),bu(o.user,{displayName:r}).then(async()=>{console.log("Profile updated");try{let s=i||{},a=s.dateOfBirth?new Date(s.dateOfBirth):null;await Sa(Ee(pe,"residents",o.user.uid),{id:o.user.uid,name:s.name||r,dateOfBirth:a,gender:s.gender||"other",address:s.address||"",barangay:s.barangay||"",phone:s.phone||"",email:e,civilStatus:s.civilStatus||"single",occupation:s.occupation||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:o.user.uid}),console.log("Resident document created in Firestore")}catch(s){console.error("Failed to create resident document:",s)}return o}))).catch(o=>{throw console.error("Sign up error:",o),o})}signUpStaff(e,n,r,i="staff"){return Du(Lt,e,n).then(o=>(console.log("Firebase user created:",o.user.uid),bu(o.user,{displayName:r}).then(async()=>(console.log("Profile updated"),Sa(Ee(pe,"users",o.user.uid),{email:e,name:r,role:i,createdAt:new Date().toISOString(),uid:o.user.uid}).then(()=>(console.log("User document created in Firestore"),o)))))).catch(o=>{throw console.error("Sign up error:",o),o})}async createStaffAsAdmin(e,n,r,i="staff",o){let s=Lt.currentUser?.email||null,a=Lt.currentUser?.uid||null;if(!s||!a)throw new Error("No authenticated admin user available to create staff.");let u=null;try{u=await Du(Lt,e,n),await bu(u.user,{displayName:r}),await Sa(Ee(pe,"users",u.user.uid),{email:e,name:r,role:i,createdAt:new Date().toISOString(),uid:u.user.uid,createdBy:a});try{return await Df(Lt,s,o),{user:u.user}}catch(l){console.error("Failed to re-authenticate admin after creating new user:",l);try{await bf(u.user)}catch(h){console.error("Failed to delete newly created auth user during cleanup:",h)}try{await Sa(Ee(pe,"users",u.user.uid),{})}catch(h){console.error("Failed to cleanup users doc for created user:",h)}throw new Error("Failed to re-authenticate admin after creating staff. No changes were persisted. Please try again or use server-side creation.")}}catch(l){if(console.error("Error creating staff as admin:",l),u&&u.user){try{await bf(u.user)}catch(h){console.error("Failed to delete partially created user:",h)}try{await Sa(Ee(pe,"users",u.user.uid),{})}catch(h){console.error("Failed to clear users doc after error:",h)}}throw l}}async login(e,n,r){try{console.log(`Attempting login as ${r} with email: ${e}`);let i=await Df(Lt,e,n);if(console.log("Firebase sign in successful:",i.user.uid),r==="resident"){if(!(await kn(Ee(pe,"residents",i.user.uid))).exists())throw console.error("Resident document not found in Firestore"),await ea(Lt),new Error("Resident profile not found. Please contact admin.");console.log("Login successful as resident"),this.currentUserRoleSubject.next("resident")}else{let o=await kn(Ee(pe,"users",i.user.uid));if(!o.exists())throw console.error("User document not found in Firestore"),await ea(Lt),new Error("User profile not found. Please contact admin.");let s=o.data().role;if(console.log("User role from Firestore:",s,"Expected:",r),s!==r)throw console.error(`Role mismatch: User is ${s} but tried to login as ${r}`),await ea(Lt),new Error(`This account is registered as a ${s}, not a ${r}. Please use the correct login type.`);console.log("Login successful with correct role"),this.currentUserRoleSubject.next(s)}return i}catch(i){throw console.error("Login error:",i),i}}logout(){return ea(Lt).then(()=>{console.log("\u2705 User logged out"),this.currentUserSubject.next(null),this.currentUserRoleSubject.next(null),window.location.href="/login"})}getToken(){return Lt.currentUser?.getIdToken()??Promise.resolve("")}ngOnDestroy(){this.unsubscribe&&this.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var zk=class t{residentsCollection=jr(pe,"residents");constructor(){}addResident(e){return B(Ra(this.residentsCollection,e))}updateResident(e,n){return B(xn(Ee(pe,"residents",e),n))}deleteResident(e){return B(Aa(Ee(pe,"residents",e)))}getAllResidents(){return B(Dt(this.residentsCollection).then(e=>e.docs.map(n=>R({id:n.id},n.data()))))}getResidentById(e){return B(kn(Ee(pe,"residents",e)).then(n=>n.exists()?R({id:n.id},n.data()):null))}searchResidents(e){return B(Dt(this.residentsCollection).then(n=>n.docs.map(r=>R({id:r.id},r.data())).filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))))}getResidentsByBarangay(e){return B(Dt(Br(this.residentsCollection,xi("barangay","==",e))).then(n=>n.docs.map(r=>R({id:r.id},r.data()))))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Gk=class t{requestsCollection=jr(pe,"document_requests");constructor(){}createRequest(e){return B(Ra(this.requestsCollection,e))}updateRequestStatus(e,n,r){let i={status:n,approvedDate:new Date};return r&&(i.remarks=r),B(xn(Ee(pe,"document_requests",e),i))}approveRequest(e,n){return B(xn(Ee(pe,"document_requests",e),{status:"approved",approvedDate:new Date,approvedBy:n}))}rejectRequest(e,n){return B(xn(Ee(pe,"document_requests",e),{status:"rejected",rejectionReason:n}))}markReadyForPickup(e){return B(xn(Ee(pe,"document_requests",e),{status:"ready_for_pickup",readyDate:new Date}))}markCompleted(e){return B(xn(Ee(pe,"document_requests",e),{status:"completed",completedDate:new Date}))}markNeedsRevision(e,n){return B(xn(Ee(pe,"document_requests",e),{status:"needs_revision",revisionReason:n}))}getRequestById(e){return B(kn(Ee(pe,"document_requests",e)).then(n=>{if(n.exists()){let r=n.data(),i=o=>o&&typeof o.toDate=="function"?o.toDate():o?new Date(o):void 0;return{id:n.id,residentId:r.residentId,residentName:r.residentName,documentType:r.documentType,purpose:r.purpose,status:r.status,requestDate:i(r.requestDate),approvedDate:i(r.approvedDate),readyDate:i(r.readyDate),completedDate:i(r.completedDate),approvedBy:r.approvedBy,rejectionReason:r.rejectionReason,revisionReason:r.revisionReason,remarks:r.remarks}}return null}))}getAllRequests(){return B(Dt(this.requestsCollection).then(e=>e.docs.map(n=>{let r=n.data(),i=o=>o&&typeof o.toDate=="function"?o.toDate():o?new Date(o):void 0;return{id:n.id,residentId:r.residentId,residentName:r.residentName,documentType:r.documentType,purpose:r.purpose,status:r.status,requestDate:i(r.requestDate),approvedDate:i(r.approvedDate),readyDate:i(r.readyDate),completedDate:i(r.completedDate),approvedBy:r.approvedBy,rejectionReason:r.rejectionReason,revisionReason:r.revisionReason,remarks:r.remarks,attachmentUrl:r.attachmentUrl}})))}getRequestsByResidentId(e){return B(Dt(Br(this.requestsCollection,xi("residentId","==",e))).then(n=>n.docs.map(r=>{let i=r.data(),o=s=>s&&typeof s.toDate=="function"?s.toDate():s?new Date(s):void 0;return{id:r.id,residentId:i.residentId,residentName:i.residentName,documentType:i.documentType,purpose:i.purpose,status:i.status,requestDate:o(i.requestDate),approvedDate:o(i.approvedDate),readyDate:o(i.readyDate),completedDate:o(i.completedDate),approvedBy:i.approvedBy,rejectionReason:i.rejectionReason,revisionReason:i.revisionReason,remarks:i.remarks,attachmentUrl:i.attachmentUrl}})))}getRequestsByStatus(e){return B(Dt(Br(this.requestsCollection,xi("status","==",e))).then(n=>n.docs.map(r=>{let i=r.data(),o=s=>s&&typeof s.toDate=="function"?s.toDate():s?new Date(s):void 0;return{id:r.id,residentId:i.residentId,residentName:i.residentName,documentType:i.documentType,purpose:i.purpose,status:i.status,requestDate:o(i.requestDate),approvedDate:o(i.approvedDate),readyDate:o(i.readyDate),completedDate:o(i.completedDate),approvedBy:i.approvedBy,rejectionReason:i.rejectionReason,revisionReason:i.revisionReason,remarks:i.remarks,attachmentUrl:i.attachmentUrl}})))}getPendingRequests(){return this.getRequestsByStatus("pending")}getApprovedRequests(){return this.getRequestsByStatus("approved")}deleteRequest(e){return B(Aa(Ee(pe,"document_requests",e)))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Wk=class t{announcementsCollection=jr(pe,"announcements");constructor(){}createAnnouncement(e){return B(Ra(this.announcementsCollection,e))}updateAnnouncement(e,n){return B(xn(Ee(pe,"announcements",e),n))}deleteAnnouncement(e){return B(Aa(Ee(pe,"announcements",e)))}getAllAnnouncements(){return B(Dt(Br(this.announcementsCollection,Nw("createdAt","desc"))).then(e=>e.docs.map(n=>this.mapDocToAnnouncement(n.id,n.data()))))}getActiveAnnouncements(){return B((async()=>{try{return(await Dt(Br(this.announcementsCollection,xi("isActive","==",!0),Nw("createdAt","desc")))).docs.map(n=>this.mapDocToAnnouncement(n.id,n.data()))}catch{return(await Dt(this.announcementsCollection)).docs.map(r=>this.mapDocToAnnouncement(r.id,r.data())).filter(r=>r.isActive).sort((r,i)=>i.createdAt.getTime()-r.createdAt.getTime())}})())}mapDocToAnnouncement(e,n){let r=n?.createdAt&&typeof n.createdAt.toDate=="function"?n.createdAt.toDate():n?.createdAt?new Date(n.createdAt):new Date,i=n?.updatedAt&&typeof n.updatedAt.toDate=="function"?n.updatedAt.toDate():n?.updatedAt?new Date(n.updatedAt):r;return{id:e,title:n?.title||"Untitled Announcement",content:n?.content||"",category:n?.category||"other",createdBy:n?.createdBy||"unknown",createdAt:r,updatedAt:i,isActive:typeof n?.isActive=="boolean"?n.isActive:!0,attachmentUrl:n?.attachmentUrl||void 0}}getAnnouncementById(e){return B(kn(Ee(pe,"announcements",e)).then(n=>n.exists()?R({id:n.id},n.data()):null))}getAnnouncementsByCategory(e){return B(Dt(Br(this.announcementsCollection,xi("category","==",e))).then(n=>n.docs.map(r=>R({id:r.id},r.data()))))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Kk=class t{residentsCollection=jr(pe,"residents");requestsCollection=jr(pe,"document_requests");constructor(){}generateResidentReport(){return B(Dt(this.residentsCollection)).pipe(se(e=>{let n=e.docs.map(a=>a.data()),r=n.length,i=n.filter(a=>a.gender==="male").length,o=n.filter(a=>a.gender==="female").length,s=n.filter(a=>a.gender==="other").length;return{totalResidents:r,totalMale:i,totalFemale:o,totalOther:s,lastUpdated:new Date}}))}generateDocumentReport(){return B(Dt(this.requestsCollection)).pipe(se(e=>{let n=e.docs.map(i=>i.data());return{totalDocumentsIssued:n.filter(i=>i.status==="completed"||i.status==="ready_for_pickup").length,barangayClearance:n.filter(i=>i.documentType==="barangay_clearance"&&(i.status==="completed"||i.status==="ready_for_pickup")).length,certificateOfResidency:n.filter(i=>i.documentType==="certificate_of_residency"&&(i.status==="completed"||i.status==="ready_for_pickup")).length,certificateOfIndigency:n.filter(i=>i.documentType==="certificate_of_indigency"&&(i.status==="completed"||i.status==="ready_for_pickup")).length,pendingRequests:n.filter(i=>i.status==="pending").length,approvedRequests:n.filter(i=>i.status==="approved").length,readyForPickup:n.filter(i=>i.status==="ready_for_pickup").length,completedRequests:n.filter(i=>i.status==="completed").length,needsRevision:n.filter(i=>i.status==="needs_revision").length,rejectedRequests:n.filter(i=>i.status==="rejected").length,lastUpdated:new Date}}))}getResidentStatistics(){return this.generateResidentReport()}getDocumentStatistics(){return this.generateDocumentReport()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Ze as a,B as b,se as c,Ya as d,Gx as e,ft as f,cr as g,St as h,Dl as i,F as j,Kl as k,U as l,ni as m,j as n,Q as o,P as p,cb as q,ub as r,Eb as s,Rt as t,Le as u,_n as v,bO as w,di as x,lo as y,Fd as z,Tn as A,Rc as B,kC as C,F1 as D,kt as E,Fe as F,by as G,fi as H,go as I,De as J,qy as K,mo as L,Dn as M,LS as N,FF as O,US as P,yo as Q,vo as R,Zd as S,$S as T,Qy as U,Yy as V,Xd as W,Jy as X,Zy as Y,HS as Z,Xy as _,ev as $,zS as aa,GF as ba,GS as ca,eh as da,JF as ea,XF as fa,eV as ga,QS as ha,YS as ia,JS as ja,nV as ka,rV as la,nA as ma,rA as na,mV as oa,vV as pa,AV as qa,hA as ra,tv as sa,fA as ta,gA as ua,MV as va,mA as wa,PV as xa,FV as ya,VV as za,BV as Aa,HV as Ba,qV as Ca,zV as Da,KV as Ea,on as Fa,YV as Ga,JV as Ha,MA as Ia,zee as Ja,xs as Ka,Lc as La,AU as Ma,wr as Na,qU as Oa,XA as Pa,zU as Qa,GU as Ra,WU as Sa,YU as Ta,ZU as Ua,e2 as Va,t2 as Wa,nR as Xa,tne as Ya,nne as Za,y2 as _a,cn as $a,n_ as ab,Kn as bb,e0 as cb,eB as db,tB as eb,kp as fb,qk as gb,zk as hb,Gk as ib,Wk as jb,Kk as kb};
