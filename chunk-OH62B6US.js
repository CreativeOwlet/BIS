import{b as v,c as P,d as O,e as E,f as W,g as k,h as B,i as T,j as I,k as A,l as L}from"./chunk-CLZ4E3QE.js";import{D as r,J as h,K as _,P as c,Qa as C,T as u,U as n,V as i,Xa as S,bb as M,da as b,ea as f,gb as x,qa as o,ra as y,sa as w,ua as g,va as m,wa as p}from"./chunk-W7V33SUQ.js";import"./chunk-7CGTOI24.js";function D(d,a){if(d&1&&(n(0,"div",32),o(1),i()),d&2){let l=f();r(),y(l.error)}}function F(d,a){if(d&1&&(n(0,"div",33),o(1),i()),d&2){let l=f();r(),y(l.success)}}function q(d,a){if(d&1&&(n(0,"div",34),o(1),i()),d&2){let l=f();r(),w("Age: ",l.calculatedAge)}}function j(d,a){d&1&&(n(0,"span"),o(1,"Sign Up"),i())}function z(d,a){d&1&&(n(0,"span"),o(1,"Creating Account..."),i())}var N=class d{constructor(a,l){this.authService=a;this.router=l}name="";email="";password="";confirmPassword="";dateOfBirth="";gender="other";address="";barangay="";phone="";civilStatus="single";occupation="";loading=!1;error="";success="";get calculatedAge(){if(!this.dateOfBirth)return null;let a=new Date(this.dateOfBirth);if(isNaN(a.getTime()))return null;let l=new Date,e=l.getFullYear()-a.getFullYear(),s=l.getMonth()-a.getMonth();return(s<0||s===0&&l.getDate()<a.getDate())&&e--,e}async signup(){if(this.error="",this.success="",this.loading=!0,!this.name||!this.email||!this.password){this.error="All fields are required",this.loading=!1;return}if(this.password!==this.confirmPassword){this.error="Passwords do not match",this.loading=!1;return}if(this.password.length<6){this.error="Password must be at least 6 characters",this.loading=!1;return}try{console.log(`Attempting to sign up resident with email: ${this.email}`);{let a={name:this.name,dateOfBirth:this.dateOfBirth?new Date(this.dateOfBirth):void 0,gender:this.gender,address:this.address,barangay:this.barangay,phone:this.phone,civilStatus:this.civilStatus,occupation:this.occupation};await this.authService.signUpResident(this.email,this.password,this.name,a)}this.success="Account created successfully!",console.log("Sign up successful"),setTimeout(()=>{this.router.navigate(["/resident/dashboard"])},2e3)}catch(a){console.error("Sign up error:",a),a.code==="auth/email-already-in-use"?this.error="Email is already registered":a.code==="auth/invalid-email"?this.error="Invalid email address":a.code==="auth/weak-password"?this.error="Password is too weak":this.error=a.message||"Sign up failed. Please check the console for details.",this.loading=!1}}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(l){return new(l||d)(h(x),h(M))};static \u0275cmp=_({type:d,selectors:[["app-signup"]],decls:78,vars:17,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50"],[1,"w-full","max-w-xl","bg-white","rounded-lg","shadow","p-8"],[1,"text-2xl","font-bold","text-gray-800","mb-1"],[1,"text-gray-600","mb-6"],["class","mb-4 p-3 bg-red-50 text-red-700 rounded",4,"ngIf"],["class","mb-4 p-3 bg-green-50 text-green-700 rounded",4,"ngIf"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","name","name","required","","placeholder","Enter your full name",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["type","email","name","email","required","","placeholder","Enter your email",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","password","name","password","required","","placeholder","Create a password",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","required","","placeholder","Confirm your password",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm",3,"ngModelChange","ngModel"],["type","date","name","dateOfBirth",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],["class","mt-2 text-sm text-gray-600",4,"ngIf"],["name","gender",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],["value","male"],["value","female"],["value","other"],["type","text","name","address",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],["type","text","name","barangay",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],["type","text","name","phone",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],["name","civilStatus",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],["value","single"],["value","married"],["value","widowed"],["value","divorced"],["type","text","name","occupation",1,"mt-1","block","w-full","rounded-md","border-gray-300",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between"],["type","submit",1,"inline-flex","items-center","px-4","py-2","bg-indigo-600","text-white","rounded","hover:bg-indigo-700","disabled:opacity-50",3,"disabled"],[4,"ngIf"],[1,"text-sm","text-gray-600","hover:underline",3,"click"],[1,"mb-4","p-3","bg-red-50","text-red-700","rounded"],[1,"mb-4","p-3","bg-green-50","text-green-700","rounded"],[1,"mt-2","text-sm","text-gray-600"]],template:function(l,e){l&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"Barangay Information System"),i(),n(4,"p",3),o(5,"Create your resident account"),i(),c(6,D,2,1,"div",4)(7,F,2,1,"div",5),n(8,"form",6),b("ngSubmit",function(){return e.signup()}),n(9,"div")(10,"label",7),o(11,"Full name"),i(),n(12,"input",8),p("ngModelChange",function(t){return m(e.name,t)||(e.name=t),t}),i()(),n(13,"div")(14,"label",7),o(15,"Email"),i(),n(16,"input",9),p("ngModelChange",function(t){return m(e.email,t)||(e.email=t),t}),i()(),n(17,"div",10)(18,"div")(19,"label",7),o(20,"Password"),i(),n(21,"input",11),p("ngModelChange",function(t){return m(e.password,t)||(e.password=t),t}),i()(),n(22,"div")(23,"label",7),o(24,"Confirm Password"),i(),n(25,"input",12),p("ngModelChange",function(t){return m(e.confirmPassword,t)||(e.confirmPassword=t),t}),i()()(),n(26,"div",10)(27,"div")(28,"label",7),o(29,"Date of Birth"),i(),n(30,"input",13),p("ngModelChange",function(t){return m(e.dateOfBirth,t)||(e.dateOfBirth=t),t}),i(),c(31,q,2,1,"div",14),i(),n(32,"div")(33,"label",7),o(34,"Gender"),i(),n(35,"select",15),p("ngModelChange",function(t){return m(e.gender,t)||(e.gender=t),t}),n(36,"option",16),o(37,"Male"),i(),n(38,"option",17),o(39,"Female"),i(),n(40,"option",18),o(41,"Other"),i()()()(),n(42,"div",10)(43,"div")(44,"label",7),o(45,"Address"),i(),n(46,"input",19),p("ngModelChange",function(t){return m(e.address,t)||(e.address=t),t}),i()(),n(47,"div")(48,"label",7),o(49,"Barangay"),i(),n(50,"input",20),p("ngModelChange",function(t){return m(e.barangay,t)||(e.barangay=t),t}),i()()(),n(51,"div",10)(52,"div")(53,"label",7),o(54,"Phone"),i(),n(55,"input",21),p("ngModelChange",function(t){return m(e.phone,t)||(e.phone=t),t}),i()(),n(56,"div")(57,"label",7),o(58,"Civil Status"),i(),n(59,"select",22),p("ngModelChange",function(t){return m(e.civilStatus,t)||(e.civilStatus=t),t}),n(60,"option",23),o(61,"Single"),i(),n(62,"option",24),o(63,"Married"),i(),n(64,"option",25),o(65,"Widowed"),i(),n(66,"option",26),o(67,"Divorced"),i()()()(),n(68,"div")(69,"label",7),o(70,"Occupation"),i(),n(71,"input",27),p("ngModelChange",function(t){return m(e.occupation,t)||(e.occupation=t),t}),i()(),n(72,"div",28)(73,"button",29),c(74,j,2,0,"span",30)(75,z,2,0,"span",30),i(),n(76,"a",31),b("click",function(){return e.goToLogin()}),o(77,"Already have an account? Login here"),i()()()()()),l&2&&(r(6),u("ngIf",e.error),r(),u("ngIf",e.success),r(5),g("ngModel",e.name),r(4),g("ngModel",e.email),r(5),g("ngModel",e.password),r(4),g("ngModel",e.confirmPassword),r(5),g("ngModel",e.dateOfBirth),r(),u("ngIf",e.calculatedAge!==null),r(4),g("ngModel",e.gender),r(11),g("ngModel",e.address),r(4),g("ngModel",e.barangay),r(5),g("ngModel",e.phone),r(4),g("ngModel",e.civilStatus),r(12),g("ngModel",e.occupation),r(2),u("disabled",e.loading),r(),u("ngIf",!e.loading),r(),u("ngIf",e.loading))},dependencies:[S,C,L,k,T,I,v,B,P,O,A,W,E],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.signup-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 10px 25px #0003;width:100%;max-width:450px}.signup-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#667eea;text-align:center;margin-bottom:10px;font-size:24px}.signup-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#666;text-align:center;margin-bottom:30px;font-size:18px;font-weight:400}.error-message[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:12px;border-radius:4px;margin-bottom:20px;border:1px solid #f5c6cb}.success-message[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;padding:12px;border-radius:4px;margin-bottom:20px;border:1px solid #c3e6cb}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 5px #667eea4d}button[_ngcontent-%COMP%]{padding:12px;background-color:#667eea;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s;margin-top:10px}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#764ba2}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:#666}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;cursor:pointer;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{N as SignupComponent};
