
<div class="max-w-3xl mx-auto p-4">
  <div class="flex items-center gap-4 mb-6">
    <button pButton type="button" (click)="goBack()" icon="pi pi-arrow-left" class="p-button-text p-0" aria-label="Back"></button>
    <div>
      <h2 id="request-doc-title" class="text-2xl font-semibold">Request a Document</h2>
      <p class="text-sm text-gray-600">Submit a request for barangay documents</p>
    </div>
  </div>

  <div class="bg-blue-100 border border-blue-300 rounded p-4 mb-6 text-blue-900">
    <strong>Important:</strong> Please bring a valid ID to the barangay for verification purposes when you claim your document. No upload is required.
  </div>

  <form (ngSubmit)="submitRequest()" role="form" aria-labelledby="request-doc-title" class="bg-white p-6 rounded shadow space-y-4">
    <div>
      <label class="block font-medium mb-1">Your Name:</label>
      <input type="text" [(ngModel)]="formData.residentName" name="residentName" disabled class="w-full border rounded px-3 py-2 bg-gray-100" />
    </div>

    <div>
      <label class="block font-medium mb-1">Document Type: <span class="text-red-600">*</span></label>
      <select aria-required="true" aria-describedby="doc-desc" [(ngModel)]="formData.documentType" name="documentType" required class="w-full border rounded px-3 py-2">
        <option *ngFor="let doc of documentTypes" [value]="doc.value">{{ doc.label }}</option>
      </select>
      <div id="doc-desc" class="mt-2 text-sm text-gray-600">{{ getDocumentDescription(formData.documentType) }}</div>
    </div>

    <div>
      <label class="block font-medium mb-1">Purpose: <span class="text-red-600">*</span></label>
      <textarea aria-required="true" [(ngModel)]="formData.purpose" name="purpose" rows="5" required class="w-full border rounded px-3 py-2" placeholder="Please explain why you need this document"></textarea>
    </div>

    <div class="flex flex-col md:flex-row gap-3">
      <button type="submit" [disabled]="loading" class="flex-1 py-2 rounded bg-indigo-600 text-white">{{ loading ? 'Submitting...' : 'Submit Request' }}</button>
      <button type="button" routerLink="/resident/my-requests" class="flex-1 py-2 rounded bg-gray-600 text-white">Cancel</button>
    </div>
  </form>

  <div class="mt-8 grid md:grid-cols-2 gap-4">
    <div class="p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded">
      <h4 class="font-semibold mb-1">1. Submit Request</h4>
      <p class="text-sm text-gray-600">Fill out the form above and submit your request. Our staff will review it.</p>
    </div>
    <div class="p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded">
      <h4 class="font-semibold mb-1">2. Approval Review</h4>
      <p class="text-sm text-gray-600">Staff will review your request and approve or reject it within 1-2 business days.</p>
    </div>
    <div class="p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded">
      <h4 class="font-semibold mb-1">3. Document Ready</h4>
      <p class="text-sm text-gray-600">Once approved, you'll be notified when your document is ready for pickup.</p>
    </div>
    <div class="p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded">
      <h4 class="font-semibold mb-1">4. Pickup</h4>
      <p class="text-sm text-gray-600">Visit the barangay office to claim your document</p>
    </div>
  </div>
</div>
